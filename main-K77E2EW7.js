var LI=Object.defineProperty,WN=Object.defineProperties;var zN=Object.getOwnPropertyDescriptors;var fl=Object.getOwnPropertySymbols,GN=Object.getPrototypeOf,VI=Object.prototype.hasOwnProperty,UI=Object.prototype.propertyIsEnumerable,qN=Reflect.get;var FI=(t,e,n)=>e in t?LI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})VI.call(e,n)&&FI(t,n,e[n]);if(fl)for(var n of fl(e))UI.call(e,n)&&FI(t,n,e[n]);return t},L=(t,e)=>WN(t,zN(e));var jI=(t,e)=>{var n={};for(var r in t)VI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fl)for(var r of fl(t))e.indexOf(r)<0&&UI.call(t,r)&&(n[r]=t[r]);return n};var YN=(t,e)=>{for(var n in e)LI(t,n,{get:e[n],enumerable:!0})};var Gr=(t,e,n)=>qN(GN(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Op(t,e){return Object.is(t,e)}var De=null,hl=!1,Pp=1,Lt=Symbol("SIGNAL");function W(t){let e=De;return De=t,e}function xp(){return De}var Hs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $s(t){if(hl)throw new Error("");if(De===null)return;De.consumerOnSignalRead(t);let e=De.nextProducerIndex++;if(vl(De),e<De.producerNode.length&&De.producerNode[e]!==t&&Bs(De)){let n=De.producerNode[e];ml(n,De.producerIndexOfThis[e])}De.producerNode[e]!==t&&(De.producerNode[e]=t,De.producerIndexOfThis[e]=Bs(De)?HI(t,De,e):0),De.producerLastReadVersion[e]=t.version}function BI(){Pp++}function kp(t){if(!(Bs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pp)){if(!t.producerMustRecompute(t)&&!Up(t)){Np(t);return}t.producerRecomputeValue(t),Np(t)}}function Fp(t){if(t.liveConsumerNode===void 0)return;let e=hl;hl=!0;try{for(let n of t.liveConsumerNode)n.dirty||KN(n)}finally{hl=e}}function Lp(){return De?.consumerAllowSignalWrites!==!1}function KN(t){t.dirty=!0,Fp(t),t.consumerMarkedDirty?.(t)}function Np(t){t.dirty=!1,t.lastCleanEpoch=Pp}function gl(t){return t&&(t.nextProducerIndex=0),W(t)}function Vp(t,e){if(W(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ml(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Up(t){vl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(kp(n),r!==n.version))return!0}return!1}function jp(t){if(vl(t),Bs(t))for(let e=0;e<t.producerNode.length;e++)ml(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function HI(t,e,n){if($I(t),t.liveConsumerNode.length===0&&WI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=HI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ml(t,e){if($I(t),t.liveConsumerNode.length===1&&WI(t))for(let r=0;r<t.producerNode.length;r++)ml(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];vl(i),i.producerIndexOfThis[r]=e}}function Bs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $I(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function WI(t){return t.producerNode!==void 0}function Bp(t,e){let n=Object.create(ZN);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(kp(n),$s(n),n.value===pl)throw n.error;return n.value};return r[Lt]=n,r}var Mp=Symbol("UNSET"),Rp=Symbol("COMPUTING"),pl=Symbol("ERRORED"),ZN=L(I({},Hs),{value:Mp,dirty:!0,error:null,equal:Op,kind:"computed",producerMustRecompute(t){return t.value===Mp||t.value===Rp},producerRecomputeValue(t){if(t.value===Rp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Rp;let n=gl(t),r,i=!1;try{r=t.computation(),W(null),i=e!==Mp&&e!==pl&&r!==pl&&t.equal(e,r)}catch(o){r=pl,t.error=o}finally{Vp(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function QN(){throw new Error}var zI=QN;function GI(t){zI(t)}function Hp(t){zI=t}var JN=null;function $p(t,e){let n=Object.create(yl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>($s(n),n.value);return r[Lt]=n,r}function Ws(t,e){Lp()||GI(t),t.equal(t.value,e)||(t.value=e,XN(t))}function Wp(t,e){Lp()||GI(t),Ws(t,e(t.value))}var yl=L(I({},Hs),{equal:Op,value:void 0,kind:"signal"});function XN(t){t.version++,BI(),Fp(t),JN?.()}function zp(t){let e=W(null);try{return t()}finally{W(e)}}var Gp;function zs(){return Gp}function xn(t){let e=Gp;return Gp=t,e}var _l=Symbol("NotFound");function N(t){return typeof t=="function"}function Zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var El=Zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function qr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof El?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{qI(o)}catch(s){e=e??[],s instanceof El?e=[...e,...s.errors]:e.push(s)}}if(e)throw new El(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qr(n,e)}remove(e){let{_finalizers:n}=this;n&&qr(n,e),e instanceof t&&e._removeParent(this)}};ue.EMPTY=(()=>{let t=new ue;return t.closed=!0,t})();var qp=ue.EMPTY;function Il(t){return t instanceof ue||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function qI(t){N(t)?t():t.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qi={setTimeout(t,e,...n){let{delegate:r}=Qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wl(t){Qi.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(t);else throw t})}function Gs(){}var YI=Yp("C",void 0,void 0);function KI(t){return Yp("E",void 0,t)}function ZI(t){return Yp("N",t,void 0)}function Yp(t,e,n){return{kind:t,value:e,error:n}}var Yr=null;function Ji(t){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!Yr;if(e&&(Yr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Yr;if(Yr=null,n)throw r}}else t()}function QI(t){Vt.useDeprecatedSynchronousErrorHandling&&Yr&&(Yr.errorThrown=!0,Yr.error=t)}var Kr=class extends ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Il(e)&&e.add(this)):this.destination=oO}static create(e,n,r){return new Xi(e,n,r)}next(e){this.isStopped?Zp(ZI(e),this):this._next(e)}error(e){this.isStopped?Zp(KI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zp(YI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rO=Function.prototype.bind;function Kp(t,e){return rO.call(t,e)}var Qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cl(r)}else Cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cl(n)}}},Xi=class extends Kr{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Vt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kp(e.next,o),error:e.error&&Kp(e.error,o),complete:e.complete&&Kp(e.complete,o)}):i=e}this.destination=new Qp(i)}};function Cl(t){Vt.useDeprecatedSynchronousErrorHandling?QI(t):wl(t)}function iO(t){throw t}function Zp(t,e){let{onStoppedNotification:n}=Vt;n&&Qi.setTimeout(()=>n(t,e))}var oO={closed:!0,next:Gs,error:iO,complete:Gs};var eo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function Jp(...t){return Xp(t)}function Xp(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=aO(n)?n:new Xi(n,r,i);return Ji(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=JI(r),new r((i,o)=>{let s=new Xi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[eo](){return this}pipe(...n){return Xp(n)(this)}toPromise(n){return n=JI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function JI(t){var e;return(e=t??Vt.Promise)!==null&&e!==void 0?e:Promise}function sO(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function aO(t){return t&&t instanceof Kr||sO(t)&&Il(t)}function eg(t){return N(t?.lift)}function q(t){return e=>{if(eg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,r,i){return new tg(t,e,n,r,i)}var tg=class extends Kr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function to(){return q((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var no=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ue;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ue.EMPTY)}return e}refCount(){return to()(this)}};var XI=Zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new bl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new XI}next(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qp:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,qr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new bl(e,n),t})(),bl=class extends Te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qp}};var Se=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ng={now(){return(ng.delegate||Date).now()},delegate:void 0};var Dl=class extends ue{constructor(e,n){super()}schedule(e,n=0){return this}};var qs={setInterval(t,e,...n){let{delegate:r}=qs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ro=class extends Dl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var io=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};io.now=ng.now;var oo=class extends io{constructor(e,n=io.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var rg=new oo(ro);var Tl=class extends ro{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sl=class extends oo{};var ig=new Sl(Tl);var Je=new V(t=>t.complete());function ew(t){return t&&N(t.schedule)}function tw(t){return t[t.length-1]}function Al(t){return N(tw(t))?t.pop():void 0}function dr(t){return ew(tw(t))?t.pop():void 0}function Ml(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function nw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function iw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(v){return new Promise(function(E,A){o.push([h,v,E,A])>1||c(h,v)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(r[h](g))}catch(v){f(o[0][3],v)}}function l(h){h.value instanceof Zr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function ow(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nw=="function"?nw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Rl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nl(t){return N(t?.then)}function Ol(t){return N(t[eo])}function Pl(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function xl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kl=cO();function Fl(t){return N(t?.[kl])}function Ll(t){return iw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zr(n.read());if(i)return yield Zr(void 0);yield yield Zr(r)}}finally{n.releaseLock()}})}function Vl(t){return N(t?.getReader)}function _e(t){if(t instanceof V)return t;if(t!=null){if(Ol(t))return lO(t);if(Rl(t))return uO(t);if(Nl(t))return dO(t);if(Pl(t))return sw(t);if(Fl(t))return fO(t);if(Vl(t))return hO(t)}throw xl(t)}function lO(t){return new V(e=>{let n=t[eo]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uO(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dO(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wl)})}function fO(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sw(t){return new V(e=>{pO(t,e).catch(n=>e.error(n))})}function hO(t){return sw(Ll(t))}function pO(t,e){var n,r,i,o;return rw(this,void 0,void 0,function*(){try{for(n=ow(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Xe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function fr(t,e=0){return q((n,r)=>{n.subscribe(z(r,i=>Xe(r,t,()=>r.next(i),e),()=>Xe(r,t,()=>r.complete(),e),i=>Xe(r,t,()=>r.error(i),e)))})}function hr(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aw(t,e){return _e(t).pipe(hr(e),fr(e))}function cw(t,e){return _e(t).pipe(hr(e),fr(e))}function lw(t,e){return new V(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function uw(t,e){return new V(n=>{let r;return Xe(n,e,()=>{r=t[kl](),Xe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function Ul(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{Xe(n,e,()=>{let r=t[Symbol.asyncIterator]();Xe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dw(t,e){return Ul(Ll(t),e)}function fw(t,e){if(t!=null){if(Ol(t))return aw(t,e);if(Rl(t))return lw(t,e);if(Nl(t))return cw(t,e);if(Pl(t))return Ul(t,e);if(Fl(t))return uw(t,e);if(Vl(t))return dw(t,e)}throw xl(t)}function ce(t,e){return e?fw(t,e):_e(t)}function T(...t){let e=dr(t);return ce(t,e)}function so(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new V(e?i=>e.schedule(r,0,i):r)}function og(t){return!!t&&(t instanceof V||N(t.lift)&&N(t.subscribe))}var kn=Zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F(t,e){return q((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:gO}=Array;function mO(t,e){return gO(e)?t(...e):t(e)}function jl(t){return F(e=>mO(t,e))}var{isArray:vO}=Array,{getPrototypeOf:yO,prototype:_O,keys:EO}=Object;function Bl(t){if(t.length===1){let e=t[0];if(vO(e))return{args:e,keys:null};if(IO(e)){let n=EO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IO(t){return t&&typeof t=="object"&&yO(t)===_O}function Hl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $l(...t){let e=dr(t),n=Al(t),{args:r,keys:i}=Bl(t);if(r.length===0)return ce([],e);let o=new V(wO(r,e,i?s=>Hl(i,s):ft));return n?o.pipe(jl(n)):o}function wO(t,e,n=ft){return r=>{hw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)hw(e,()=>{let l=ce(t[c],e),u=!1;l.subscribe(z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hw(t,e,n){t?Xe(n,t,e):e()}function pw(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=v=>l<r?g(v):c.push(v),g=v=>{o&&e.next(v),l++;let E=!1;_e(n(v,u++)).subscribe(z(e,A=>{i?.(A),o?h(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){let A=c.shift();s?Xe(e,s,()=>g(A)):g(A)}f()}catch(A){e.error(A)}}))};return t.subscribe(z(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ae(t,e,n=1/0){return N(e)?Ae((r,i)=>F((o,s)=>e(r,o,i,s))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>pw(r,i,t,n)))}function gw(t=1/0){return Ae(ft,t)}function mw(){return gw(1)}function ao(...t){return mw()(ce(t,dr(t)))}function Wl(t){return new V(e=>{_e(t()).subscribe(e)})}function sg(...t){let e=Al(t),{args:n,keys:r}=Bl(t),i=new V(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;_e(n[u]).subscribe(z(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Hl(r,a):a),o.complete())}))}});return e?i.pipe(jl(e)):i}function ht(t,e){return q((n,r)=>{let i=0;n.subscribe(z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pr(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe(z(n,void 0,void 0,s=>{o=_e(t(s,pr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function vw(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(z(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function gr(t,e){return N(e)?Ae(t,e,1):Ae(t,1)}function mr(t){return q((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fn(t){return t<=0?()=>Je:q((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zl(t=CO){return q((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function CO(){return new kn}function Qr(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ln(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,o)=>t(i,o,r)):ft,Fn(1),n?mr(e):zl(()=>new kn))}function co(t){return t<=0?()=>Je:q((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ag(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,o)=>t(i,o,r)):ft,co(1),n?mr(e):zl(()=>new kn))}function cg(t,e){return q(vw(t,e,arguments.length>=2,!0))}function lg(...t){let e=dr(t);return q((n,r)=>{(e?ao(t,n,e):ao(t,n)).subscribe(r)})}function pt(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;_e(t(c,u)).subscribe(i=z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ug(t){return q((e,n)=>{_e(t).subscribe(z(n,()=>n.complete(),Gs)),!n.closed&&e.subscribe(n)})}function Me(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ft}var gg={JSACTION:"jsaction"},mg={JSACTION:"__jsaction",OWNER:"__owner"},Iw={};function bO(t){return t[mg.JSACTION]}function yw(t,e){t[mg.JSACTION]=e}function DO(t){return Iw[t]}function TO(t,e){Iw[t]=e}var D={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},SO=[D.MOUSEENTER,D.MOUSELEAVE,"pointerenter","pointerleave"],PK=[D.CLICK,D.DBLCLICK,D.FOCUSIN,D.FOCUSOUT,D.KEYDOWN,D.KEYUP,D.KEYPRESS,D.MOUSEOVER,D.MOUSEOUT,D.SUBMIT,D.TOUCHSTART,D.TOUCHEND,D.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],AO=[D.FOCUS,D.BLUR,D.ERROR,D.LOAD,D.TOGGLE],vg=t=>AO.indexOf(t)>=0;function MO(t){return t===D.MOUSEENTER?D.MOUSEOVER:t===D.MOUSELEAVE?D.MOUSEOUT:t===D.POINTERENTER?D.POINTEROVER:t===D.POINTERLEAVE?D.POINTEROUT:t}function RO(t,e,n,r){let i=!1;vg(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function NO(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function OO(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var _w=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function PO(t){return t.which===2||t.which==null&&t.button===4}function xO(t){return _w&&t.metaKey||!_w&&t.ctrlKey||PO(t)||t.shiftKey}function kO(t,e,n){let r=t.relatedTarget;return(t.type===D.MOUSEOVER&&e===D.MOUSEENTER||t.type===D.MOUSEOUT&&e===D.MOUSELEAVE||t.type===D.POINTEROVER&&e===D.POINTERENTER||t.type===D.POINTEROUT&&e===D.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function FO(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===D.MOUSEOVER?n.type=D.MOUSEENTER:t.type===D.MOUSEOUT?n.type=D.MOUSELEAVE:t.type===D.POINTEROVER?n.type=D.POINTERENTER:n.type=D.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var LO=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Kl=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){LO&&(this.element.style.cursor="pointer"),this.handlerInfos.push(RO(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)NO(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},VO={EVENT_ACTION_SEPARATOR:":"};function vr(t){return t.eventType}function yg(t,e){t.eventType=e}function ql(t){return t.event}function ww(t,e){t.event=e}function Cw(t){return t.targetElement}function bw(t,e){t.targetElement=e}function Dw(t){return t.eic}function UO(t,e){t.eic=e}function jO(t){return t.timeStamp}function BO(t,e){t.timeStamp=e}function Yl(t){return t.eia}function Tw(t,e,n){t.eia=[e,n]}function dg(t){t.eia=void 0}function Gl(t){return t[1]}function HO(t){return t.eirp}function Sw(t,e){t.eirp=e}function Aw(t){return t.eir}function Mw(t,e){t.eir=e}function Rw(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function $O(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var fg=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return vr(this.eventInfo)}setEventType(e){yg(this.eventInfo,e)}getEvent(){return ql(this.eventInfo)}setEvent(e){ww(this.eventInfo,e)}getTargetElement(){return Cw(this.eventInfo)}setTargetElement(e){bw(this.eventInfo,e)}getContainer(){return Dw(this.eventInfo)}setContainer(e){UO(this.eventInfo,e)}getTimestamp(){return jO(this.eventInfo)}setTimestamp(e){BO(this.eventInfo,e)}getAction(){let e=Yl(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){dg(this.eventInfo);return}Tw(this.eventInfo,e.name,e.element)}getIsReplay(){return HO(this.eventInfo)}setIsReplay(e){Sw(this.eventInfo,e)}getResolved(){return Aw(this.eventInfo)}setResolved(e){Mw(this.eventInfo,e)}clone(){return new t(Rw(this.eventInfo))}},WO={},zO=/\s*;\s*/,GO=D.CLICK,hg=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&vr(e)===D.CLICK&&xO(ql(e))?yg(e,D.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){Aw(e)||(this.populateAction(e,Cw(e)),Mw(e,!0))}resolveParentAction(e){let n=Yl(e),r=n&&Gl(n);dg(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==Dw(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Yl(e));)r=this.getParentNode(r);let i=Yl(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(vr(e)===D.MOUSEENTER||vr(e)===D.MOUSELEAVE||vr(e)===D.POINTERENTER||vr(e)===D.POINTERLEAVE)))if(kO(ql(e),vr(e),Gl(i))){let o=FO(ql(e),Gl(i));ww(e,o),bw(e,Gl(i))}else dg(e)}getParentNode(e){let n=e[mg.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[vr(n)];i!==void 0&&Tw(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=bO(e);if(!n){let r=e.getAttribute(gg.JSACTION);if(!r)n=WO,yw(e,n);else{if(n=DO(r),!n){n={};let i=r.split(zO);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(VO.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():GO,u=c?s.substr(a+1).trim():s;n[l]=u}TO(r,n)}yw(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Nw=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(Nw||{}),pg=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new fg(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&qO(r.element,n)&&OO(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function qO(t,e){return t.tagName==="A"&&(e.getEventType()===D.CLICK||e.getEventType()===D.CLICKMOD)}var Ow=Symbol.for("propagationStopped"),_g={REPLAY:101};var YO="`preventDefault` called during event replay.";var KO="`composedPath` called during event replay.",Zl=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new hg({clickModSupport:n}),this.dispatcher=new pg(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&JO(e),ZO(e);e.getAction();){if(XO(e),vg(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),QO(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function ZO(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[Ow]=!0,n()};Jr(e,"stopPropagation",r),Jr(e,"stopImmediatePropagation",r)}function QO(t){return!!t.getEvent()[Ow]}function JO(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Jr(e,"target",n),Jr(e,"eventPhase",_g.REPLAY),Jr(e,"preventDefault",()=>{throw r(),new Error(YO+"")}),Jr(e,"composedPath",()=>{throw new Error(KO+"")})}function XO(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Jr(e,"currentTarget",n,{configurable:!0})}function Jr(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function Pw(t,e){t.ecrd(n=>{e.dispatch(n)},Nw.I_AM_THE_JSACTION_FRAMEWORK)}function eP(t){return t?.q??[]}function tP(t){t&&(Ew(t.c,t.et,t.h),Ew(t.c,t.etc,t.h,!0))}function Ew(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var nP=!1,xw=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=nP;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=$O(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){Sw(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&SO.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=MO(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),tP(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=Rw(i);yg(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function kw(t,e=window){return eP(e._ejsas?.[t])}function Eg(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var rP="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,n){super(Sm(e,n)),this.code=e}};function iP(t){return`NG0${Math.abs(t)}`}function Sm(t,e){return`${iP(t)}${e?": "+e:""}`}var kC=Symbol("InputSignalNode#UNSET"),oP=L(I({},yl),{transformFn:void 0,applyValueToInputSignal(t,e){Ws(t,e)}});function FC(t,e){let n=Object.create(oP);n.value=t,n.transformFn=e?.transform;function r(){if($s(n),n.value===kC){let i=null;throw new C(-950,i)}return n.value}return r[Lt]=n,r}function sa(t){return{toString:t}.toString()}var Ql="__parameters__";function sP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function LC(t,e,n){return sa(()=>{let r=sP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ql)?c[Ql]:Object.defineProperty(c,Ql,{value:[]})[Ql];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var lo=globalThis;function te(t){for(let e in t)if(t[e]===te)return e;throw Error("Could not find renamed property on target object.")}function aP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(tt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Fw(t,e){return t?e?`${t} ${e}`:t:e||""}var cP=te({__forward_ref__:te});function ui(t){return t.__forward_ref__=ui,t.toString=function(){return tt(this())},t}function Ke(t){return VC(t)?t():t}function VC(t){return typeof t=="function"&&t.hasOwnProperty(cP)&&t.__forward_ref__===ui}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fu(t){return Lw(t,jC)||Lw(t,BC)}function UC(t){return Fu(t)!==null}function Lw(t,e){return t.hasOwnProperty(e)?t[e]:null}function lP(t){let e=t&&(t[jC]||t[BC]);return e||null}function Vw(t){return t&&(t.hasOwnProperty(Uw)||t.hasOwnProperty(uP))?t[Uw]:null}var jC=te({\u0275prov:te}),Uw=te({\u0275inj:te}),BC=te({ngInjectableDef:te}),uP=te({ngInjectorDef:te}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function HC(t){return t&&!!t.\u0275providers}var dP=te({\u0275cmp:te}),fP=te({\u0275dir:te}),hP=te({\u0275pipe:te}),pP=te({\u0275mod:te}),cu=te({\u0275fac:te}),Qs=te({__NG_ELEMENT_ID__:te}),jw=te({__NG_ENV_ID__:te});function $C(t){return typeof t=="string"?t:t==null?"":String(t)}function gP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$C(t)}function WC(t,e){throw new C(-200,t)}function Am(t,e){throw new C(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),Ug;function zC(){return Ug}function et(t){let e=Ug;return Ug=t,e}function GC(t,e,n){let r=Fu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;Am(t,"Injector")}var mP={},ei=mP,jg="__NG_DI_FLAG__",lu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?_l:ei,r)}},uu="ngTempTokenPath",vP="ngTokenPath",yP=/\n/gm,_P="\u0275",Bw="__source";function EP(t,e=k.Default){if(zs()===void 0)throw new C(-203,!1);if(zs()===null)return GC(t,void 0,e);{let n=zs(),r;return n instanceof lu?r=n.injector:r=n,r.get(t,e&k.Optional?null:void 0,e)}}function S(t,e=k.Default){return(zC()||EP)(Ke(t),e)}function m(t,e=k.Default){return S(t,Lu(e))}function Lu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bg(t){let e=[];for(let n=0;n<t.length;n++){let r=Ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=k.Default;for(let s=0;s<r.length;s++){let a=r[s],c=IP(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(S(i,o))}else e.push(S(r))}return e}function qC(t,e){return t[jg]=e,t.prototype[jg]=e,t}function IP(t){return t[jg]}function wP(t,e,n,r){let i=t[uu];throw e[Bw]&&i.unshift(e[Bw]),t.message=CP(`
`+t.message,i,n,r),t[vP]=i,t[uu]=null,t}function CP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==_P?t.slice(2):t;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):tt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yP,`
  `)}`}var YC=qC(LC("Optional"),8);var bP=qC(LC("SkipSelf"),4);function ni(t,e){let n=t.hasOwnProperty(cu);return n?t[cu]:null}function Mm(t,e){t.forEach(n=>Array.isArray(n)?Mm(n,e):e(n))}function KC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function du(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function DP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function TP(t,e,n){let r=aa(t,e);return r>=0?t[r|1]=n:(r=~r,DP(t,r,e,n)),r}function Ig(t,e){let n=aa(t,e);if(n>=0)return t[n|1]}function aa(t,e){return SP(t,e,1)}function SP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ri={},Dt=[],_r=new w(""),ZC=new w("",-1),QC=new w(""),fu=class{get(e,n=ei){if(n===ei){let r=new Error(`NullInjectorError: No provider for ${tt(e)}!`);throw r.name="NullInjectorError",r}return n}};function JC(t,e){let n=t[pP]||null;if(!n&&e===!0)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}function ii(t){return t[dP]||null}function XC(t){return t[fP]||null}function eb(t){return t[hP]||null}function Ir(t){return{\u0275providers:t}}function AP(...t){return{\u0275providers:Rm(!0,t),\u0275fromNgModule:!0}}function Rm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Mm(e,s=>{let a=s;Hg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tb(i,o),n}function tb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Nm(i,o=>{e(o,r)})}}function Hg(t,e,n,r){if(t=Ke(t),!t)return!1;let i=null,o=Vw(t),s=!o&&ii(t);if(!o&&!s){let c=t.ngModule;if(o=Vw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Hg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Mm(o.imports,u=>{Hg(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&tb(l,e)}if(!a){let l=ni(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:QC,useValue:i,multi:!0},i),e({provide:_r,useValue:()=>S(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Nm(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Nm(t,e){for(let n of t)HC(n)&&(n=n.\u0275providers),Array.isArray(n)?Nm(n,e):e(n)}var MP=te({provide:String,useValue:te});function nb(t){return t!==null&&typeof t=="object"&&MP in t}function RP(t){return!!(t&&t.useExisting)}function NP(t){return!!(t&&t.useFactory)}function Eo(t){return typeof t=="function"}function OP(t){return!!t.useClass}var Vu=new w(""),tu={},Hw={},wg;function Om(){return wg===void 0&&(wg=new fu),wg}var je=class{},Js=class extends je{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Wg(e,s=>this.processProvider(s)),this.records.set(ZC,uo(void 0,this)),i.has("environment")&&this.records.set(je,uo(void 0,this));let o=this.records.get(Vu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QC,Dt,k.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?_l:ei,r)}destroy(){Ks(this),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return Ks(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ks(this);let n=xn(this),r=et(void 0),i;try{return e()}finally{xn(n),et(r)}}get(e,n=ei,r=k.Default){if(Ks(this),e.hasOwnProperty(jw))return e[jw](this);r=Lu(r);let i,o=xn(this),s=et(void 0);try{if(!(r&k.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=LP(e)&&Fu(e);l&&this.injectableDefInScope(l)?c=uo($g(e),tu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&k.Self?Om():this.parent;return n=r&k.Optional&&n===ei?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[uu]=a[uu]||[]).unshift(tt(e)),o)throw a;return wP(a,e,"R3InjectorError",this.source)}else throw a}finally{et(s),xn(o)}}resolveInjectorInitializers(){let e=W(null),n=xn(this),r=et(void 0),i;try{let o=this.get(_r,Dt,k.Self);for(let s of o)s()}finally{xn(n),et(r),W(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(tt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ke(e);let n=Eo(e)?e:Ke(e&&e.provide),r=xP(e);if(!Eo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=uo(void 0,tu,!0),i.factory=()=>Bg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=W(null);try{return n.value===Hw?WC(tt(e)):n.value===tu&&(n.value=Hw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&FP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{W(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function $g(t){let e=Fu(t),n=e!==null?e.factory:ni(t);if(n!==null)return n;if(t instanceof w)throw new C(204,!1);if(t instanceof Function)return PP(t);throw new C(204,!1)}function PP(t){if(t.length>0)throw new C(204,!1);let n=lP(t);return n!==null?()=>n.factory(t):()=>new t}function xP(t){if(nb(t))return uo(void 0,t.useValue);{let e=rb(t);return uo(e,tu)}}function rb(t,e,n){let r;if(Eo(t)){let i=Ke(t);return ni(i)||$g(i)}else if(nb(t))r=()=>Ke(t.useValue);else if(NP(t))r=()=>t.useFactory(...Bg(t.deps||[]));else if(RP(t))r=(i,o)=>S(Ke(t.useExisting),o!==void 0&&o&k.Optional?k.Optional:void 0);else{let i=Ke(t&&(t.useClass||t.provide));if(kP(t))r=()=>new i(...Bg(t.deps));else return ni(i)||$g(i)}return r}function Ks(t){if(t.destroyed)throw new C(205,!1)}function uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kP(t){return!!t.deps}function FP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LP(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function Wg(t,e){for(let n of t)Array.isArray(n)?Wg(n,e):n&&HC(n)?Wg(n.\u0275providers,e):e(n)}function Be(t,e){let n;t instanceof Js?(Ks(t),n=t):n=new lu(t);let r,i=xn(n),o=et(void 0);try{return e()}finally{xn(i),et(o)}}function ib(){return zC()!==void 0||zs()!=null}function Uu(t){if(!ib())throw new C(-203,!1)}function VP(t){return typeof t=="function"}var vt=0,R=1,O=2,Pe=3,jt=4,$t=5,on=6,hu=7,yt=8,sn=9,Er=10,de=11,Xs=12,$w=13,To=14,St=15,Io=16,fo=17,wo=18,ju=19,ob=20,yr=21,Cg=22,pu=23,Tt=24,mo=25,Ne=26,sb=1,Un=6,jn=7,gu=8,mu=9,mt=10;function Bt(t){return Array.isArray(t)&&typeof t[sb]=="object"}function dn(t){return Array.isArray(t)&&t[sb]===!0}function ab(t){return(t.flags&4)!==0}function di(t){return t.componentOffset>-1}function Pm(t){return(t.flags&1)===1}function an(t){return!!t.template}function ea(t){return(t[O]&512)!==0}function fi(t){return(t[O]&256)===256}var zg=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var So=(()=>{let t=()=>lb;return t.ngInherit=!0,t})();function lb(t){return t.type.prototype.ngOnChanges&&(t.setInput=jP),UP}function UP(){let t=db(this),e=t?.current;if(e){let n=t.previous;if(n===ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jP(t,e,n,r,i){let o=this.declaredInputs[r],s=db(t)||BP(t,{previous:ri,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new zg(l&&l.currentValue,n,c===ri),cb(t,e,i,n)}var ub="__ngSimpleChanges__";function db(t){return t[ub]||null}function BP(t,e){return t[ub]=e}var Ww=null;var Z=function(t,e=null,n){Ww?.(t,e,n)},HP="svg",$P="math";function Ht(t){for(;Array.isArray(t);)t=t[vt];return t}function fb(t,e){return Ht(e[t])}function fn(t,e){return Ht(e[t.index])}function Bu(t,e){return t.data[e]}function WP(t,e){return t[e]}function cn(t,e){let n=e[t];return Bt(n)?n:n[vt]}function xm(t){return(t[O]&128)===128}function zP(t){return dn(t[Pe])}function vu(t,e){return e==null?null:t[e]}function hb(t){t[fo]=0}function pb(t){t[O]&1024||(t[O]|=1024,xm(t)&&ca(t))}function GP(t,e){for(;t>0;)e=e[To],t--;return e}function Hu(t){return!!(t[O]&9216||t[Tt]?.dirty)}function Gg(t){t[Er].changeDetectionScheduler?.notify(8),t[O]&64&&(t[O]|=1024),Hu(t)&&ca(t)}function ca(t){t[Er].changeDetectionScheduler?.notify(0);let e=oi(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!xm(e)));)e=oi(e)}function gb(t,e){if(fi(t))throw new C(911,!1);t[yr]===null&&(t[yr]=[]),t[yr].push(e)}function qP(t,e){if(t[yr]===null)return;let n=t[yr].indexOf(e);n!==-1&&t[yr].splice(n,1)}function oi(t){let e=t[Pe];return dn(e)?e[Pe]:e}function mb(t){return t[hu]??=[]}function vb(t){return t.cleanup??=[]}var G={lFrame:Sb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qg=!1;function YP(){return G.lFrame.elementDepthCount}function KP(){G.lFrame.elementDepthCount++}function ZP(){G.lFrame.elementDepthCount--}function yb(){return G.bindingsEnabled}function la(){return G.skipHydrationRootTNode!==null}function QP(t){return G.skipHydrationRootTNode===t}function JP(t){G.skipHydrationRootTNode=t}function XP(){G.skipHydrationRootTNode=null}function le(){return G.lFrame.lView}function Wt(){return G.lFrame.tView}function At(){let t=_b();for(;t!==null&&t.type===64;)t=t.parent;return t}function _b(){return G.lFrame.currentTNode}function ex(){let t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ua(t,e){let n=G.lFrame;n.currentTNode=t,n.isParent=e}function Eb(){return G.lFrame.isParent}function tx(){G.lFrame.isParent=!1}function Ib(){return qg}function zw(t){let e=qg;return qg=t,e}function wb(){let t=G.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nx(t){return G.lFrame.bindingIndex=t}function Cb(){return G.lFrame.bindingIndex++}function rx(t){let e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ix(){return G.lFrame.inI18n}function ox(t,e){let n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yg(e)}function sx(){return G.lFrame.currentDirectiveIndex}function Yg(t){G.lFrame.currentDirectiveIndex=t}function ax(t){let e=G.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bb(t){G.lFrame.currentQueryIndex=t}function cx(t){let e=t[R];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function Db(t,e,n){if(n&k.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=cx(o),i===null||(o=o[To],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=G.lFrame=Tb();return r.currentTNode=e,r.lView=t,!0}function km(t){let e=Tb(),n=t[R];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Tb(){let t=G.lFrame,e=t===null?null:t.child;return e===null?Sb(t):e}function Sb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ab(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Mb=Ab;function Fm(){let t=Ab();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lx(t){return(G.lFrame.contextLView=GP(t,G.lFrame.contextLView))[yt]}function Ao(){return G.lFrame.selectedIndex}function si(t){G.lFrame.selectedIndex=t}function ux(){let t=G.lFrame;return Bu(t.tView,t.selectedIndex)}function Rb(){return G.lFrame.currentNamespace}var Nb=!0;function Lm(){return Nb}function wr(t){Nb=t}function dx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=lb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ob(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function nu(t,e,n){Pb(t,e,3,n)}function ru(t,e,n,r){(t[O]&3)===n&&Pb(t,e,n,r)}function bg(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function Pb(t,e,n,r){let i=r!==void 0?t[fo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[fo]+=65536),(a<o||o==-1)&&(fx(t,n,e,c),t[fo]=(t[fo]&4294901760)+c+2),c++}function Gw(t,e){Z(4,t,e);let n=W(null);try{e.call(t)}finally{W(n),Z(5,t,e)}}function fx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[fo]>>16&&(t[O]&3)===e&&(t[O]+=16384,Gw(a,o)):Gw(a,o)}var vo=-1,ai=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function hx(t){return(t.flags&8)!==0}function px(t){return(t.flags&16)!==0}function gx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];vx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mx(t){return t===3||t===4||t===6}function vx(t){return t.charCodeAt(0)===64}function ta(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qw(t,n,i,null,e[++r]):qw(t,n,i,null,null))}}return t}function qw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function xb(t){return t!==vo}function yu(t){return t&32767}function yx(t){return t>>16}function _u(t,e){let n=yx(t),r=e;for(;n>0;)r=r[To],n--;return r}var Kg=!0;function Eu(t){let e=Kg;return Kg=t,e}var _x=256,kb=_x-1,Fb=5,Ex=0,rn={};function Ix(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qs)&&(r=n[Qs]),r==null&&(r=n[Qs]=Ex++);let i=r&kb,o=1<<i;e.data[t+(i>>Fb)]|=o}function Iu(t,e){let n=Lb(t,e);if(n!==-1)return n;let r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,Dg(r.data,t),Dg(e,null),Dg(r.blueprint,null));let i=Vm(t,e),o=t.injectorIndex;if(xb(i)){let s=yu(i),a=_u(i,e),c=a[R].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Dg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Lb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Hb(i),r===null)return vo;if(n++,i=i[To],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vo}function Zg(t,e,n){Ix(t,e,n)}function Vb(t,e,n){if(n&k.Optional||t!==void 0)return t;Am(e,"NodeInjector")}function Ub(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),(n&(k.Self|k.Host))===0){let i=t[sn],o=et(void 0);try{return i?i.get(e,r,n&k.Optional):GC(e,r,n&k.Optional)}finally{et(o)}}return Vb(r,e,n)}function jb(t,e,n,r=k.Default,i){if(t!==null){if(e[O]&2048&&!(r&k.Self)){let s=Tx(t,e,n,r,rn);if(s!==rn)return s}let o=Bb(t,e,n,r,rn);if(o!==rn)return o}return Ub(e,n,r,i)}function Bb(t,e,n,r,i){let o=bx(n);if(typeof o=="function"){if(!Db(e,t,r))return r&k.Host?Vb(i,n,r):Ub(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&k.Optional))Am(n);else return s}finally{Mb()}}else if(typeof o=="number"){let s=null,a=Lb(t,e),c=vo,l=r&k.Host?e[St][$t]:null;for((a===-1||r&k.SkipSelf)&&(c=a===-1?Vm(t,e):e[a+8],c===vo||!Kw(r,!1)?a=-1:(s=e[R],a=yu(c),e=_u(c,e)));a!==-1;){let u=e[R];if(Yw(o,a,u.data)){let d=wx(a,e,n,s,r,l);if(d!==rn)return d}c=e[a+8],c!==vo&&Kw(r,e[R].data[a+8]===l)&&Yw(o,a,e)?(s=u,a=yu(c),e=_u(c,e)):a=-1}}return i}function wx(t,e,n,r,i,o){let s=e[R],a=s.data[t+8],c=r==null?di(a)&&Kg:r!=s&&(a.type&3)!==0,l=i&k.Host&&o===a,u=Cx(a,s,n,c,l);return u!==null?wu(e,s,u,a,i):rn}function Cx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=s[c];if(h&&an(h)&&h.type===n)return c}return null}function wu(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ai){let a=o;a.resolving&&WC(gP(s[n]));let c=Eu(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?et(a.injectImpl):null,d=Db(t,r,k.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dx(n,s[n],e)}finally{u!==null&&et(u),Eu(c),a.resolving=!1,Mb()}}return o}function bx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qs)?t[Qs]:void 0;return typeof e=="number"?e>=0?e&kb:Dx:e}function Yw(t,e,n){let r=1<<t;return!!(n[e+(t>>Fb)]&r)}function Kw(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var ti=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jb(this._tNode,this._lView,e,Lu(r),n)}};function Dx(){return new ti(At(),le())}function Mo(t){return sa(()=>{let e=t.prototype.constructor,n=e[cu]||Qg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[cu]||Qg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qg(t){return VC(t)?()=>{let e=Qg(Ke(t));return e&&e()}:ni(t)}function Tx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!ea(s);){let a=Bb(o,s,n,r|k.Self,rn);if(a!==rn)return a;let c=o.parent;if(!c){let l=s[ob];if(l){let u=l.get(n,rn,r);if(u!==rn)return u}c=Hb(s),s=s[To]}o=c}return i}function Hb(t){let e=t[R],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Zw(t,e=null,n=null,r){let i=$b(t,e,n,r);return i.resolveInjectorInitializers(),i}function $b(t,e=null,n=null,r,i=new Set){let o=[n||Dt,AP(t)];return r=r||(typeof t=="object"?void 0:tt(t)),new Js(o,e||Om(),r||null,i)}var nt=class t{static THROW_IF_NOT_FOUND=ei;static NULL=new fu;static create(e,n){if(Array.isArray(e))return Zw({name:""},n,e,"");{let r=e.name??"";return Zw({name:r},e.parent,e.providers,r)}}static \u0275prov=b({token:t,providedIn:"any",factory:()=>S(ZC)});static __NG_ELEMENT_ID__=-1};var Sx=new w("");Sx.__NG_ELEMENT_ID__=t=>{let e=At();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(t&k.Optional)return null;throw new C(204,!1)};var Wb=!1,Ro=(()=>{class t{static __NG_ELEMENT_ID__=Ax;static __NG_ENV_ID__=n=>n}return t})(),Jg=class extends Ro{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return fi(n)?(e(),()=>{}):(gb(n,e),()=>qP(n,e))}};function Ax(){return new Jg(le())}var ci=class{},$u=new w("",{providedIn:"root",factory:()=>!1});var zb=new w(""),Gb=new w(""),hn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Se(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),da=(()=>{class t{internalPendingTasks=m(hn);scheduler=m(ci);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xg=class extends Te{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ib()&&(this.destroyRef=m(Ro,{optional:!0})??void 0,this.pendingTasks=m(hn,{optional:!0})??void 0)}emit(e){let n=W(null);try{super.next(e)}finally{W(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ue&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ge=Xg;function Cu(...t){}function qb(t){let e,n;function r(){t=Cu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Qw(t){return queueMicrotask(()=>t()),()=>{t=Cu}}var Um="isAngularZone",bu=Um+"_ID",Mx=0,ne=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ge(!1);onMicrotaskEmpty=new ge(!1);onStable=new ge(!1);onError=new ge(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Wb}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ox(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Um)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Rx,Cu,Cu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Rx={};function jm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Nx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){qb(()=>{t.callbackScheduled=!1,em(t),t.isCheckStableRunning=!0,jm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),em(t)}function Ox(t){let e=()=>{Nx(t)},n=Mx++;t._inner=t._inner.fork({name:"angular",properties:{[Um]:!0,[bu]:n,[bu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Px(c))return r.invokeTask(o,s,a,c);try{return Jw(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Xw(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Jw(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!xx(c)&&e(),Xw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,em(t),jm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function em(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Jw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xw(t){t._nesting--,jm(t)}var tm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ge;onMicrotaskEmpty=new ge;onStable=new ge;onError=new ge;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Px(t){return Yb(t,"__ignore_ng_zone__")}function xx(t){return Yb(t,"__scheduler_tick__")}function Yb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ln=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kx=new w("",{providedIn:"root",factory:()=>{let t=m(ne),e=m(ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function eC(t,e){return FC(t,e)}function Fx(t){return FC(kC,t)}var Kb=(eC.required=Fx,eC);function Lx(){return Wu(At(),le())}function Wu(t,e){return new No(fn(t,e))}var No=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Lx}return t})();function hi(t,e){let n=$p(t,e?.equal),r=n[Lt];return n.set=i=>Ws(r,i),n.update=i=>Wp(r,i),n.asReadonly=Vx.bind(n),n}function Vx(){let t=this[Lt];if(t.readonlyFn===void 0){let e=()=>this();e[Lt]=t,t.readonlyFn=e}return t.readonlyFn}var Ux="ngSkipHydration",jx="ngskiphydration";function Zb(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===jx)return!0}return!1}function Qb(t){return t.hasAttribute(Ux)}function Du(t){return(t.flags&128)===128}function Bx(t){if(Du(t))return!0;let e=t.parent;for(;e;){if(Du(t)||Zb(e))return!0;e=e.parent}return!1}var Jb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Jb||{}),Xb=new Map,Hx=0;function $x(){return Hx++}function Wx(t){Xb.set(t[ju],t)}function nm(t){Xb.delete(t[ju])}var tC="__ngContext__";function fa(t,e){Bt(e)?(t[tC]=e[ju],Wx(e)):t[tC]=e}function eD(t){return nD(t[Xs])}function tD(t){return nD(t[jt])}function nD(t){for(;t!==null&&!dn(t);)t=t[jt];return t}var rm;function rD(t){rm=t}function zu(){if(rm!==void 0)return rm;if(typeof document<"u")return document;throw new C(210,!1)}var Vn=new w("",{providedIn:"root",factory:()=>zx}),zx="ng",Bm=new w(""),ha=new w("",{providedIn:"platform",factory:()=>"unknown"});var Hm=new w("",{providedIn:"root",factory:()=>zu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Gx(){let t=new Oo;return t.store=qx(zu(),m(Vn)),t}var Oo=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:Gx});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function qx(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var iD="h",oD="b",Yx="f",Kx="n",Zx="e",Qx="t",$m="c",sD="x",Tu="r",Jx="i",Xx="n",aD="d";var ek="di",tk="s",nk="p";var Jl=new w(""),cD=!1,lD=new w("",{providedIn:"root",factory:()=>cD});var uD=new w(""),rk=!1,ik=new w(""),nC=new w("",{providedIn:"root",factory:()=>new Map}),Wm=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Wm||{}),Po=new w(""),rC=new Set;function Cr(t){rC.has(t)||(rC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var dD=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=ok}return t})();function ok(){return new dD(le(),At())}var ho=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ho||{}),fD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),sk=[ho.EarlyRead,ho.Write,ho.MixedReadWrite,ho.Read],ak=(()=>{class t{ngZone=m(ne);scheduler=m(ci);errorHandler=m(ln,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(Po,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(16),this.executing=!0;for(let r of sk)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(17)}register(n){let{view:r}=n;r!==void 0?((r[mo]??=[]).push(n),ca(r),r[O]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Wm.AFTER_NEXT_RENDER,n):n()}static \u0275prov=b({token:t,providedIn:"root",factory:()=>new t})}return t})(),im=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[mo];e&&(this.view[mo]=e.filter(n=>n!==this))}};function zm(t,e){!e?.injector&&Uu(zm);let n=e?.injector??m(nt);return Cr("NgAfterNextRender"),lk(t,n,e,!0)}function ck(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function lk(t,e,n,r){let i=e.get(fD);i.impl??=e.get(ak);let o=e.get(Po,null,{optional:!0}),s=n?.phase??ho.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Ro):null,c=e.get(dD,null,{optional:!0}),l=new im(i.impl,ck(t,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var gt=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(gt||{}),iC=0,uk=1,Re=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Re||{});var dk=0,Gu=1;var fk=4,hk=5;var pk=7,yo=8,gk=9,hD=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(hD||{});function iu(t,e){let n=vk(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function mk(t){iu(1,t),iu(0,t),iu(2,t)}function vk(t){let e=fk;return t===1?e=hk:t===2&&(e=gk),e}function pD(t){return t+1}function pa(t,e){let n=t[R],r=pD(e.index);return t[r]}function qu(t,e){let n=pD(e.index);return t.data[n]}function yk(t,e,n){let r=e[R],i=qu(r,n);switch(t){case Re.Complete:return i.primaryTmplIndex;case Re.Loading:return i.loadingTmplIndex;case Re.Error:return i.errorTmplIndex;case Re.Placeholder:return i.placeholderTmplIndex;default:return null}}function oC(t,e){return e===Re.Placeholder?t.placeholderBlockConfig?.[iC]??null:e===Re.Loading?t.loadingBlockConfig?.[iC]??null:null}function _k(t){return t.loadingBlockConfig?.[uk]??null}function sC(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function Ek(t,e){let n=e.primaryTmplIndex+Ne;return Bu(t,n)}var Yu="ngb";var Ik=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},wk=(t,e)=>{let n=t,r=n.getAttribute(Yu)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var Ck=t=>{t.removeAttribute(gg.JSACTION),t.removeAttribute(Yu),t.__jsaction_fns=void 0},bk=new w("",{providedIn:"root",factory:()=>({})});function gD(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Gm=new w("");var Dk="__nghData__",mD=Dk,Tk="__nghDeferData__",Sk=Tk,Tg="ngh",Ak="nghm",vD=()=>null;function Mk(t,e,n=!1){let r=t.getAttribute(Tg);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Oo,null,{optional:!0});u!==null&&(c=u.get(mD,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ku(l,0,t.nextSibling)),a?t.setAttribute(Tg,a):t.removeAttribute(Tg),l}function Rk(){vD=Mk}function yD(t,e,n=!1){return vD(t,e,n)}function Nk(t){let e=t._lView;return e[R].type===2?null:(ea(e)&&(e=e[Ne]),e)}function Ok(t){return t.textContent?.replace(/\s/gm,"")}function Pk(t){let e=zu(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=Ok(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ku(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function om(t,e){return t.segmentHeads?.[e]??null}function xk(t){return t.get(ik,!1,{optional:!0})}function kk(t,e){let n=t.data,r=n[Zx]?.[e]??null;return r===null&&n[$m]?.[e]&&(r=qm(t,e)),r}function _D(t,e){return t.data[$m]?.[e]??null}function qm(t,e){let n=_D(t,e)??[],r=0;for(let i of n)r+=i[Tu]*(i[sD]??1);return r}function Fk(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[aD];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function ga(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[aD];t.disconnectedNodes=n?new Set(n):null}return!!Fk(t)?.has(e)}function Lk(t,e){let n=e.get(Gm),i=e.get(Oo).get(Sk,{}),o=!1,s=t,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][nk]}return{parentBlockPromise:a,hydrationQueue:c}}function Sg(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Ak}function aC(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function Vk(t){for(let r of t.body.childNodes)if(Sg(r))return;let e=aC(t.body.previousSibling);if(Sg(e))return;let n=aC(t.head.lastChild);if(!Sg(n))throw new C(-507,!1)}function ED(t,e){let n=t.contentQueries;if(n!==null){let r=W(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];bb(o),a.contentQueries(2,e[s],s)}}}finally{W(r)}}}function sm(t,e,n){bb(0);let r=W(null);try{e(t,n)}finally{W(r)}}function ID(t,e,n){if(ab(e)){let r=W(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{W(r)}}}var un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{});var am=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rP})`}};function wD(t){return t instanceof am?t.changingThisBreaksApplicationSecurity:t}var Uk=/^>|^->|<!--|-->|--!>|<!-$/g,jk=/(<|>)/g,Bk="\u200B$1\u200B";function Hk(t){return t.replace(Uk,e=>e.replace(jk,Bk))}function $k(t){return t.ownerDocument.body}function CD(t){return t instanceof Function?t():t}function Wk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var bD="ng-template";function zk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Wk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ym(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ym(t){return t.type===4&&t.value!==bD}function Gk(t,e,n){let r=t.type===4&&!n?bD:t.value;return e===r}function qk(t,e,n){let r=4,i=t.attrs,o=i!==null?Zk(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ut(r)&&!Ut(c))return!1;if(s&&Ut(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Gk(t,c,n)||c===""&&e.length===1){if(Ut(r))return!1;s=!0}}else if(r&8){if(i===null||!zk(t,i,c,n)){if(Ut(r))return!1;s=!0}}else{let l=e[++a],u=Yk(c,i,Ym(t),n);if(u===-1){if(Ut(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Ut(r))return!1;s=!0}}}}return Ut(r)||s}function Ut(t){return(t&1)===0}function Yk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Qk(e,t)}function Kk(t,e,n=!1){for(let r=0;r<e.length;r++)if(qk(t,e[r],n))return!0;return!1}function Zk(t){for(let e=0;e<t.length;e++){let n=t[e];if(mx(n))return e}return t.length}function Qk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function cC(t,e){return t?":not("+e.trim()+")":e}function Jk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ut(s)&&(e+=cC(o,i),i=""),r=s,o=o||!Ut(r);n++}return i!==""&&(e+=cC(o,i)),e}function Xk(t){return t.map(Jk).join(",")}function eF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ut(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var pi={};function DD(t,e){return t.createText(e)}function tF(t,e,n){t.setValue(e,n)}function TD(t,e){return t.createComment(Hk(e))}function Km(t,e,n){return t.createElement(e,n)}function Su(t,e,n,r,i){t.insertBefore(e,n,r,i)}function SD(t,e,n){t.appendChild(e,n)}function lC(t,e,n,r,i){r!==null?Su(t,e,n,r,i):SD(t,e,n)}function Zm(t,e,n){t.removeChild(null,e,n)}function AD(t){t.textContent=""}function nF(t,e,n){t.setAttribute(e,"style",n)}function rF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function MD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&gx(t,e,r),i!==null&&rF(t,e,i),o!==null&&nF(t,e,o)}function Qm(t,e,n,r,i,o,s,a,c,l,u){let d=Ne+r,f=d+i,h=iF(d,f),g=typeof l=="function"?l():l;return h[R]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function iF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:pi);return n}function oF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jm(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[vt]=i,d[O]=r|4|128|8|64|1024,(l!==null||t&&t[O]&2048)&&(d[O]|=2048),hb(d),d[Pe]=d[To]=t,d[yt]=n,d[Er]=s||t&&t[Er],d[de]=a||t&&t[de],d[sn]=c||t&&t[sn]||null,d[$t]=o,d[ju]=$x(),d[on]=u,d[ob]=l,d[St]=e.type==2?t[St]:d,d}function sF(t,e,n){let r=fn(e,t),i=oF(n),o=t[Er].rendererFactory,s=Xm(t,Jm(t,i,null,RD(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function RD(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ND(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Xm(t,e){return t[Xs]?t[$w][jt]=e:t[Xs]=e,t[$w]=e,e}function He(t=1){OD(Wt(),le(),Ao()+t,!1)}function OD(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&nu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ru(e,o,0,n)}si(n)}var Zu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Zu||{});function cm(t,e,n,r){let i=W(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Zu.SignalBased)!==0&&(c=e[o][Lt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):cb(e,c,o,r)}finally{W(i)}}function PD(t,e,n,r,i){let o=Ao(),s=r&2;try{si(-1),s&&e.length>Ne&&OD(t,e,Ne,!1),Z(s?2:0,i),n(r,i)}finally{si(o),Z(s?3:1,i)}}function ev(t,e,n){pF(t,e,n),(n.flags&64)===64&&gF(t,e,n)}function xD(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function aF(t,e,n,r){let o=r.get(lD,cD)||n===un.ShadowDom,s=t.selectRootElement(e,o);return cF(s),s}function cF(t){kD(t)}var kD=()=>null;function lF(t){Qb(t)?AD(t):Pk(t)}function uF(){kD=lF}function dF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fF(t,e,n,r,i,o,s,a){if(!a&&nv(e,t,n,r,i)){di(e)&&hF(n,e.index);return}if(e.type&3){let c=fn(e,n);r=dF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function hF(t,e){let n=cn(e,t);n[O]&16||(n[O]|=64)}function pF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;di(n)&&sF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Iu(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=wu(e,t,s,n);if(fa(c,e),o!==null&&vF(e,s-r,c,a,n,o),an(a)){let l=cn(n.index,e);l[yt]=wu(e,t,s,n)}}}function gF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sx();try{si(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Yg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mF(c,l)}}finally{si(-1),Yg(s)}}function mF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function FD(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Kk(e,o.selectors,!1)&&(r??=[],an(o)?r.unshift(o):r.push(o))}return r}function vF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];cm(r,n,c,l)}}function tv(t,e){let n=t[sn],r=n?n.get(ln,null):null;r&&r.handleError(e)}function nv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];cm(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];cm(u,l,r,i),a=!0}return a}function yF(t,e){let n=cn(e,t),r=n[R];_F(r,n);let i=n[vt];i!==null&&n[on]===null&&(n[on]=yD(i,n[sn])),Z(18),rv(r,n,n[yt]),Z(19,n[yt])}function _F(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rv(t,e,n){km(e);try{let r=t.viewQuery;r!==null&&sm(1,r,n);let i=t.template;i!==null&&PD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wo]?.finishViewCreation(t),t.staticContentQueries&&ED(t,e),t.staticViewQueries&&sm(2,t.viewQuery,n);let o=t.components;o!==null&&EF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,Fm()}}function EF(t,e){for(let n=0;n<e.length;n++)yF(t,e[n])}function LD(t,e,n,r){let i=W(null);try{let o=e.tView,a=t[O]&4096?4096:16,c=Jm(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Io]=l;let u=t[wo];return u!==null&&(c[wo]=u.createEmbeddedView(o)),rv(o,c,n),c}finally{W(i)}}function lm(t,e){return!e||e.firstChild===null||Du(t)}var IF;function iv(t,e){return IF(t,e)}var Bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bn||{});function xo(t){return(t.flags&32)===32}function po(t,e,n,r,i){if(r!=null){let o,s=!1;dn(r)?o=r:Bt(r)&&(s=!0,r=r[vt]);let a=Ht(r);t===0&&n!==null?i==null?SD(e,n,a):Su(e,n,a,i||null,!0):t===1&&n!==null?Su(e,n,a,i||null,!0):t===2?Zm(e,a,s):t===3&&e.destroyNode(a),o!=null&&PF(e,t,o,n,i)}}function wF(t,e){VD(t,e),e[vt]=null,e[$t]=null}function CF(t,e,n,r,i,o){r[vt]=i,r[$t]=e,Qu(t,r,n,1,i,o)}function VD(t,e){e[Er].changeDetectionScheduler?.notify(9),Qu(t,e,e[de],2,null,null)}function bF(t){let e=t[Xs];if(!e)return Ag(t[R],t);for(;e;){let n=null;if(Bt(e))n=e[Xs];else{let r=e[mt];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)Bt(e)&&Ag(e[R],e),e=e[Pe];e===null&&(e=t),Bt(e)&&Ag(e[R],e),n=e&&e[jt]}e=n}}function ov(t,e){let n=t[mu],r=n.indexOf(e);n.splice(r,1)}function sv(t,e){if(fi(e))return;let n=e[de];n.destroyNode&&Qu(t,e,n,3,null,null),bF(e)}function Ag(t,e){if(fi(e))return;let n=W(null);try{e[O]&=-129,e[O]|=256,e[Tt]&&jp(e[Tt]),TF(t,e),DF(t,e),e[R].type===1&&e[de].destroy();let r=e[Io];if(r!==null&&dn(e[Pe])){r!==e[Pe]&&ov(r,e);let i=e[wo];i!==null&&i.detachView(t)}nm(e)}finally{W(n)}}function DF(t,e){let n=t.cleanup,r=e[hu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[hu]=null);let i=e[yr];if(i!==null){e[yr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[pu];if(o!==null){e[pu]=null;for(let s of o)s.destroy()}}function TF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ai)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Z(4,a,c);try{c.call(a)}finally{Z(5,a,c)}}else{Z(4,i,o);try{o.call(i)}finally{Z(5,i,o)}}}}}function SF(t,e,n){return AF(t,e.parent,n)}function AF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[vt];if(di(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===un.None||i===un.Emulated)return null}return fn(r,n)}function MF(t,e,n){return NF(t,e,n)}function RF(t,e,n){return t.type&40?fn(t,n):null}var NF=RF,uC;function av(t,e,n,r){let i=SF(t,r,e),o=e[de],s=r.parent||e[$t],a=MF(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lC(o,i,n[c],a,!1);else lC(o,i,n,a,!1);uC!==void 0&&uC(o,r,e,n,i)}function Zs(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return um(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zs(t,r);{let i=t[e.index];return dn(i)?um(-1,i):Ht(i)}}else{if(n&128)return Zs(t,e.next);if(n&32)return iv(e,t)()||Ht(t[e.index]);{let r=UD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oi(t[St]);return Zs(i,r)}else return Zs(t,e.next)}}}return null}function UD(t,e){if(e!==null){let r=t[St][$t],i=e.projection;return r.projection[i]}return null}function um(t,e){let n=mt+t+1;if(n<e.length){let r=e[n],i=r[R].firstChild;if(i!==null)return Zs(r,i)}return e[jn]}function cv(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&fa(Ht(a),r),n.flags|=2),!xo(n))if(c&8)cv(t,e,n.child,r,i,o,!1),po(e,t,i,a,o);else if(c&32){let l=iv(n,r),u;for(;u=l();)po(e,t,i,u,o);po(e,t,i,a,o)}else c&16?OF(t,e,r,n,i,o):po(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qu(t,e,n,r,i,o){cv(n,r,t.firstChild,e,i,o,!1)}function OF(t,e,n,r,i,o){let s=n[St],c=s[$t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];po(e,t,i,u,o)}else{let l=c,u=s[Pe];Du(r)&&(l.flags|=128),cv(t,e,l,u,i,o,!0)}}function PF(t,e,n,r,i){let o=n[jn],s=Ht(n);o!==s&&po(e,t,r,o,i);for(let a=mt;a<n.length;a++){let c=n[a];Qu(c[R],c,t,e,r,o)}}function xF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),t.setStyle(n,r,i,o))}}function Au(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ht(o)),dn(o)&&kF(o,r);let s=n.type;if(s&8)Au(t,e,n.child,r);else if(s&32){let a=iv(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=UD(e,n);if(Array.isArray(a))r.push(...a);else{let c=oi(e[St]);Au(c[R],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kF(t,e){for(let n=mt;n<t.length;n++){let r=t[n],i=r[R].firstChild;i!==null&&Au(r[R],r,i,e)}t[jn]!==t[vt]&&e.push(t[jn])}function jD(t){if(t[mo]!==null){for(let e of t[mo])e.impl.addSequence(e);t[mo].length=0}}var BD=[];function FF(t){return t[Tt]??LF(t)}function LF(t){let e=BD.pop()??Object.create(UF);return e.lView=t,e}function VF(t){t.lView[Tt]!==t&&(t.lView=null,BD.push(t))}var UF=L(I({},Hs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ca(t.lView)},consumerOnSignalRead(){this.lView[Tt]=this}});function jF(t){let e=t[Tt]??Object.create(BF);return e.lView=t,e}var BF=L(I({},Hs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=oi(t.lView);for(;e&&!HD(e[R]);)e=oi(e);e&&pb(e)},consumerOnSignalRead(){this.lView[Tt]=this}});function HD(t){return t.type!==2}function $D(t){if(t[pu]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[pu])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[O]&8192)}}var HF=100;function WD(t,e=!0,n=0){let i=t[Er].rendererFactory,o=!1;o||i.begin?.();try{$F(t,n)}catch(s){throw e&&tv(t,s),s}finally{o||i.end?.()}}function $F(t,e){let n=Ib();try{zw(!0),dm(t,e);let r=0;for(;Hu(t);){if(r===HF)throw new C(103,!1);r++,dm(t,1)}}finally{zw(n)}}function WF(t,e,n,r){if(fi(e))return;let i=e[O],o=!1,s=!1;km(e);let a=!0,c=null,l=null;o||(HD(t)?(l=FF(e),c=gl(l)):xp()===null?(a=!1,l=jF(e),c=gl(l)):e[Tt]&&(jp(e[Tt]),e[Tt]=null));try{hb(e),nx(t.bindingStartIndex),n!==null&&PD(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&nu(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ru(e,h,0,null),bg(e,0)}if(s||zF(e),$D(e),zD(e,0),t.contentQueries!==null&&ED(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&nu(e,h)}else{let h=t.contentHooks;h!==null&&ru(e,h,1),bg(e,1)}qF(t,e);let d=t.components;d!==null&&qD(e,d,0);let f=t.viewQuery;if(f!==null&&sm(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&nu(e,h)}else{let h=t.viewHooks;h!==null&&ru(e,h,2),bg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Cg]){for(let h of e[Cg])h();e[Cg]=null}o||(jD(e),e[O]&=-73)}catch(u){throw o||ca(e),u}finally{l!==null&&(Vp(l,c),a&&VF(l)),Fm()}}function zD(t,e){for(let n=eD(t);n!==null;n=tD(n))for(let r=mt;r<n.length;r++){let i=n[r];GD(i,e)}}function zF(t){for(let e=eD(t);e!==null;e=tD(e)){if(!(e[O]&2))continue;let n=e[mu];for(let r=0;r<n.length;r++){let i=n[r];pb(i)}}}function GF(t,e,n){Z(18);let r=cn(e,t);GD(r,n),Z(19,r[yt])}function GD(t,e){xm(t)&&dm(t,e)}function dm(t,e){let r=t[R],i=t[O],o=t[Tt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Up(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)WF(r,t,r.template,t[yt]);else if(i&8192){$D(t),zD(t,1);let a=r.components;a!==null&&qD(t,a,1),jD(t)}}function qD(t,e,n){for(let r=0;r<e.length;r++)GF(t,e[r],n)}function qF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)si(~i);else{let o=i,s=n[++r],a=n[++r];ox(s,o);let c=e[o];Z(24,c),a(2,c),Z(25,c)}}}finally{si(-1)}}function Ju(t,e){let n=Ib()?64:1088;for(t[Er].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=oi(t);if(ea(t)&&!r)return t;t=r}return null}function YD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function KD(t,e,n,r=!0){let i=e[R];if(KF(i,e,t,n),r){let s=um(n,t),a=e[de],c=a.parentNode(t[jn]);c!==null&&CF(i,t[$t],a,e,c,s)}let o=e[on];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function YF(t,e){let n=Mu(t,e);return n!==void 0&&sv(n[R],n),n}function Mu(t,e){if(t.length<=mt)return;let n=mt+e,r=t[n];if(r){let i=r[Io];i!==null&&i!==t&&ov(i,r),e>0&&(t[n-1][jt]=r[jt]);let o=du(t,mt+e);wF(r[R],r);let s=o[wo];s!==null&&s.detachView(o[R]),r[Pe]=null,r[jt]=null,r[O]&=-129}return r}function KF(t,e,n,r){let i=mt+r,o=n.length;r>0&&(n[i-1][jt]=e),r<o-mt?(e[jt]=n[i],KC(n,mt+r,e)):(n.push(e),e[jt]=null),e[Pe]=n;let s=e[Io];s!==null&&n!==s&&ZD(s,e);let a=e[wo];a!==null&&a.insertView(t),Gg(e),e[O]|=128}function ZD(t,e){let n=t[mu],r=e[Pe];if(Bt(r))t[O]|=2;else{let i=r[Pe][St];e[St]!==i&&(t[O]|=2)}n===null?t[mu]=[e]:n.push(e)}var na=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[R];return Au(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[yt]}set context(e){this._lView[yt]=e}get destroyed(){return fi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(dn(e)){let n=e[gu],r=n?n.indexOf(this):-1;r>-1&&(Mu(e,r),du(n,r))}this._attachedToViewContainer=!1}sv(this._lView[R],this._lView)}onDestroy(e){gb(this._lView,e)}markForCheck(){Ju(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){Gg(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,WD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ea(this._lView),n=this._lView[Io];n!==null&&!e&&ov(n,this._lView),VD(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=ea(this._lView),r=this._lView[Io];r!==null&&!n&&ZD(r,this._lView),Gg(this._lView)}};var Xu=(()=>{class t{static __NG_ELEMENT_ID__=JF}return t})(),ZF=Xu,QF=class extends ZF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=LD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new na(i)}};function JF(){return XF(At(),le())}function XF(t,e){return t.type&4?new QF(e,t,Wu(t,e)):null}function lv(t,e,n,r,i){let o=t.data[e];if(o===null)o=eL(t,e,n,r,i),ix()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ex();o.injectorIndex=s===null?-1:s.injectorIndex}return ua(o,!0),o}function eL(t,e,n,r,i){let o=_b(),s=Eb(),a=s?o:o&&o.parent,c=t.data[e]=nL(t,a,n,e,r,i);return tL(t,c,o,s),c}function tL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function nL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return la()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var rL=new RegExp(`^(\\d+)*(${oD}|${iD})*(.*)`);function iL(t){let e=t.match(rL),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function oL(t){return!t.prev&&t.parent?.type===8}function Mg(t){return t.index-Ne}function sL(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function ed(t,e,n,r){let i=Mg(r),o=sL(t,i);if(o===void 0){let s=t.data[Xx];if(s?.[i])o=cL(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(oL(r)){let l=Mg(r.parent);o=om(t,l)}else{let l=fn(c,n);if(a)o=l.firstChild;else{let u=Mg(c),d=om(t,u);if(c.type===2&&d){let h=qm(t,u)+1;o=td(h,d)}else o=l.nextSibling}}}}return o}function td(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function aL(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Yx:n=n.firstChild;break;case Kx:n=n.nextSibling;break}}return n}function cL(t,e){let[n,...r]=iL(t),i;if(n===iD)i=e[St][vt];else if(n===oD)i=$k(e[St][vt]);else{let o=Number(n);i=Ht(e[o+Ne])}return aL(i,r)}var lL=!1;function uL(t){lL=t}function dL(t){let e=t[on];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[de];for(let o of r.values())fL(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function fL(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ne);i&&Zm(t,i,!1)}}function QD(t){let e=t[Un]??[],r=t[Pe][de],i=[];for(let o of e)o.data[ek]!==void 0?i.push(o):JD(o,r);t[Un]=i}function hL(t){let{lContainer:e}=t,n=e[Un];if(n===null)return;let i=e[Pe][de];for(let o of n)JD(o,i)}function JD(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Tu];for(;n<i;){let o=r.nextSibling;Zm(e,r,!1),r=o,n++}}}function nd(t){QD(t);let e=t[vt];Bt(e)&&Ru(e);for(let n=mt;n<t.length;n++)Ru(t[n])}function Ru(t){dL(t);let e=t[R];for(let n=Ne;n<e.bindingStartIndex;n++)if(dn(t[n])){let r=t[n];nd(r)}else Bt(t[n])&&Ru(t[n])}function XD(t){let e=t._views;for(let n of e){let r=Nk(n);r!==null&&r[vt]!==null&&(Bt(r)?Ru(r):nd(r))}}function pL(t,e,n,r){t!==null&&(n.cleanup(e),nd(t.lContainer),XD(r))}function gL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[sD]??1);i++){let o={data:r,firstChild:null};r[Tu]>0&&(o.firstChild=t,t=td(r[Tu],t)),n.push(o)}return[t,n]}var eT=()=>null;function mL(t,e){let n=t[Un];return!e||n===null||n.length===0?null:n[0].data[Jx]===e?n.shift():(QD(t),null)}function vL(){eT=mL}function dC(t,e){return eT(t,e)}var yL=class{},tT=class{},fm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${tt(e)}.`)}},rd=class{static NULL=new fm},Co=class{},ma=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>_L()}return t})();function _L(){let t=le(),e=At(),n=cn(e.index,t);return(Bt(n)?n:t)[de]}var EL=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>null})}return t})();var Rg={},_o=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Lu(r);let i=this.injector.get(e,Rg,r);return i!==Rg||n===Rg?i:this.parentInjector.get(e,n,r)}};function fC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Fw(i,a);else if(o==2){let c=a,l=e[++s];r=Fw(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function U(t,e=k.Default){let n=le();if(n===null)return S(t,e);let r=At();return jb(r,n,Ke(t),e)}function nT(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,c=null,l=null,u=wL(s);u===null?a=s:[a,c,l]=u,DL(t,e,n,a,o,c,l)}o!==null&&r!==null&&IL(n,r,o)}function IL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}function wL(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&an(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,CL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function CL(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function bL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function DL(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&an(h)&&(c=!0,bL(t,n,f)),Zg(Iu(n,e),t,h.type)}NL(n,t.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=ND(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=ta(n.mergedAttrs,h.hostAttrs),SL(t,n,e,d,h),RL(d,h,i),s!==null&&s.has(h)){let[v,E]=s.get(h);n.directiveToIndex.set(h.type,[d,v+n.directiveStart,E+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}TL(t,n,o)}function TL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))hC(0,e,i,r),hC(1,e,i,r),gC(e,r,!1);else{let o=n.get(i);pC(0,e,o,r),pC(1,e,o,r),gC(e,r,!0)}}}function hC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),rT(e,o)}}function pC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),rT(e,s)}}function rT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function gC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Ym(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function SL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ni(i.type,!0)),s=new ai(o,an(i),U);t.blueprint[r]=s,n[r]=s,AL(t,e,r,ND(t,n,i.hostVars,pi),i)}function AL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ML(s)!=a&&s.push(a),s.push(n,r,o)}}function ML(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function RL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;an(e)&&(n[""]=t)}}function NL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function iT(t,e,n,r,i,o,s,a){let c=e.consts,l=vu(c,s),u=lv(e,t,2,r,l);return o&&nT(e,n,u,vu(c,a),i),u.mergedAttrs=ta(u.mergedAttrs,u.attrs),u.attrs!==null&&fC(u,u.attrs,!1),u.mergedAttrs!==null&&fC(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function oT(t,e){Ob(t,e),ab(e)&&t.queries.elementEnd(e)}var Nu=class extends rd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ii(e);return new ra(n,this.ngModule)}};function OL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Zu.SignalBased)!==0};return i&&(o.transform=i),o})}function PL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function xL(t,e,n){let r=e instanceof je?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new _o(n,r):n}function kL(t){let e=t.get(Co,null);if(e===null)throw new C(407,!1);let n=t.get(EL,null),r=t.get(ci,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function FL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Km(e,n,n==="svg"?HP:n==="math"?$P:null)}var ra=class extends tT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Xk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Z(22);let o=W(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:eF(this.componentDef.selectors[0]),c=Qm(0,null,null,1,0,null,null,null,null,[a],null),l=xL(s,i||this.ngModule,e),u=kL(l),d=u.rendererFactory.createRenderer(null,s),f=r?aF(d,r,s.encapsulation,l):FL(s,d),h=Jm(null,c,null,512|RD(s),null,null,u,d,l,null,yD(f,l,!0));h[Ne]=f,km(h);let g=null;try{let v=iT(Ne,c,h,"#host",()=>[this.componentDef],!0,0);f&&(MD(d,f,v),fa(f,h)),ev(c,h,v),ID(c,v,h),oT(c,v),n!==void 0&&LL(v,this.ngContentSelectors,n),g=cn(v.index,h),h[yt]=g[yt],rv(c,h,null)}catch(v){throw g!==null&&nm(g),nm(h),v}finally{Z(23),Fm()}return new hm(this.componentType,h)}finally{W(o)}}},hm=class extends yL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Bu(n[R],Ne),this.location=Wu(this._tNode,n),this.instance=cn(this._tNode.index,n)[yt],this.hostView=this.changeDetectorRef=new na(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=nv(r,i[R],i,e,n);this.previousInputValues.set(e,n);let s=cn(r.index,i);Ju(s,1)}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ko=(()=>{class t{static __NG_ELEMENT_ID__=VL}return t})();function VL(){let t=At();return jL(t,le())}var UL=ko,sT=class extends UL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wu(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vm(this._hostTNode,this._hostLView);if(xb(e)){let n=_u(e,this._hostLView),r=yu(e),i=n[R].data[r+8];return new ti(i,n)}else return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=dC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,lm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!VP(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new ra(ii(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(je,null);v&&(o=v)}let u=ii(c.componentType??{}),d=dC(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,lm(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pe],l=new sT(c,c[$t],c[Pe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return KD(s,i,o,r),e.attachToViewContainerRef(),KC(Ng(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mu(this._lContainer,n);r&&(du(Ng(this._lContainer),n),sv(r[R],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mu(this._lContainer,n);return r&&du(Ng(this._lContainer),n)!=null?new na(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mC(t){return t[gu]}function Ng(t){return t[gu]||(t[gu]=[])}function jL(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=YD(r,e,null,t),e[t.index]=n,Xm(e,n)),aT(n,e,t,r),new sT(n,t,e)}function BL(t,e){let n=t[de],r=n.createComment(""),i=fn(e,t),o=n.parentNode(i);return Su(n,o,r,n.nextSibling(i),!1),r}var aT=cT,uv=()=>!1;function HL(t,e,n){return uv(t,e,n)}function cT(t,e,n,r){if(t[jn])return;let i;n.type&8?i=Ht(r):i=BL(e,n),t[jn]=i}function $L(t,e,n){if(t[jn]&&t[Un])return!0;let r=n[on],i=e.index-Ne;if(!r||Bx(e)||ga(r,i))return!1;let s=om(r,i),a=r.data[$m]?.[i],[c,l]=gL(s,a);return t[jn]=c,t[Un]=l,!0}function WL(t,e,n,r){uv(t,n,e)||cT(t,e,n,r)}function zL(){aT=WL,uv=$L}var bo=class{},dv=class{};var pm=class extends bo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=JC(e);this._bootstrapComponents=CD(o.bootstrap),this._r3Injector=$b(e,n,[{provide:bo,useValue:this},{provide:rd,useValue:this.componentFactoryResolver},...r],tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gm=class extends dv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new pm(this.moduleType,e,[])}};var Ou=class extends bo{injector;componentFactoryResolver=new Nu(this);instance=null;constructor(e){super();let n=new Js([...e.providers,{provide:bo,useValue:this},{provide:rd,useValue:this.componentFactoryResolver}],e.parent||Om(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function va(t,e,n=null){return new Ou({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var GL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Rm(!1,n.type),i=r.length>0?va([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:t,providedIn:"environment",factory:()=>new t(S(je))})}return t})();function pn(t){return sa(()=>{let e=uT(t),n=L(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(GL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Cr("NgStandalone"),dT(n);let r=t.dependencies;return n.directiveDefs=vC(r,!1),n.pipeDefs=vC(r,!0),n.id=QL(n),n})}function qL(t){return ii(t)||XC(t)}function YL(t){return t!==null}function $n(t){return sa(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KL(t,e){if(t==null)return ri;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Zu.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function ZL(t){if(t==null)return ri;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function $e(t){return sa(()=>{let e=uT(t);return dT(e),e})}function lT(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function uT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ri,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:KL(t.inputs,e),outputs:ZL(t.outputs),debugInfo:null}}function dT(t){t.features?.forEach(e=>e(t))}function vC(t,e){if(!t)return null;let n=e?eb:qL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(YL)}function QL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function JL(t){return Object.getPrototypeOf(t.prototype).constructor}function Wn(t){let e=JL(t.type),n=!0,r=[t];for(;e;){let i;if(an(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Og(t.inputs),s.declaredInputs=Og(t.declaredInputs),s.outputs=Og(t.outputs);let a=i.hostBindings;a&&r1(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&t1(t,c),l&&n1(t,l),XL(t,i),aP(t.outputs,i.outputs),an(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Wn&&(n=!1)}}e=Object.getPrototypeOf(e)}e1(r)}function XL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function e1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ta(i.hostAttrs,n=ta(n,i.hostAttrs))}}function Og(t){return t===ri?{}:t===Dt?[]:t}function t1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function n1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function r1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function fT(t){return o1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function i1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function o1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function s1(t,e,n){return t[e]=n}function ia(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function a1(t,e,n,r){let i=ia(t,e,n);return ia(t,e+1,r)||i}function c1(t,e,n,r,i,o,s,a,c){let l=e.consts,u=lv(e,t,4,s||null,a||null);yb()&&nT(e,n,u,vu(l,c),FD),u.mergedAttrs=ta(u.mergedAttrs,u.attrs),Ob(e,u);let d=u.tView=Qm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function l1(t,e,n,r,i,o,s,a,c,l){let u=n+Ne,d=e.firstCreatePass?c1(u,e,t,r,i,o,s,a,c):e.data[u];ua(d,!1);let f=hT(e,t,d,n);Lm()&&av(e,t,f,d),fa(f,t);let h=YD(f,t,f,d);return t[u]=h,Xm(t,h),HL(h,d,t),Pm(d)&&ev(e,t,d),c!=null&&xD(t,d,l),d}function gi(t,e,n,r,i,o,s,a){let c=le(),l=Wt(),u=vu(l.consts,o);return l1(c,l,t,e,n,r,i,u,s,a),gi}var hT=pT;function pT(t,e,n,r){return wr(!0),e[de].createComment("")}function u1(t,e,n,r){let i=e[on],o=!i||la()||xo(n)||ga(i,r);if(wr(o),o)return pT(t,e);let s=i.data[Qx]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=ed(i,t,e,n);Ku(i,r,a);let c=qm(i,r);return td(c,a)}function d1(){hT=u1}var f1=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?va(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:t,providedIn:"environment",factory:()=>new t})}return t})();var h1=new w("");function Pg(t,e,n){return t.get(f1).getOrCreateInjector(e,t,n,"")}function p1(t,e,n){if(t instanceof _o){let i=t.injector,o=t.parentInjector,s=Pg(o,e,n);return new _o(i,s)}let r=t.get(je);if(r!==t){let i=Pg(r,e,n);return new _o(t,i)}return Pg(t,e,n)}function go(t,e,n,r=!1){let i=n[Pe],o=i[R];if(fi(i))return;let s=pa(i,e),a=s[Gu],c=s[pk];if(!(c!==null&&t<c)&&yC(a,t)&&yC(s[dk]??-1,t)){let l=qu(o,e),d=!r&&!0&&(_k(l)!==null||oC(l,Re.Loading)!==null||oC(l,Re.Placeholder))?v1:m1;try{d(t,s,n,e,i)}catch(f){tv(i,f)}}}function g1(t,e){let n=t[Un]?.findIndex(i=>i.data[tk]===e[Gu])??-1;return{dehydratedView:n>-1?t[Un][n]:null,dehydratedViewIx:n}}function m1(t,e,n,r,i){Z(20);let o=yk(t,i,r);if(o!==null){e[Gu]=t;let s=i[R],a=o+Ne,c=Bu(s,a),l=0;YF(n,l);let u;if(t===Re.Complete){let g=qu(s,r),v=g.providers;v&&v.length>0&&(u=p1(i[sn],g,v))}let{dehydratedView:d,dehydratedViewIx:f}=g1(n,e),h=LD(i,c,null,{injector:u,dehydratedView:d});if(KD(n,h,l,lm(c,d)),Ju(h,2),f>-1&&n[Un]?.splice(f,1),(t===Re.Complete||t===Re.Error)&&Array.isArray(e[yo])){for(let g of e[yo])g();e[yo]=null}}Z(21)}function yC(t,e){return t<e}function _C(t,e,n){t.loadingPromise.then(()=>{t.loadingState===gt.COMPLETE?go(Re.Complete,e,n):t.loadingState===gt.FAILED&&go(Re.Error,e,n)})}var v1=null;var fv=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var gT=new w("");var y1=(()=>{class t{static \u0275prov=b({token:t,providedIn:"root",factory:()=>new mm})}return t})(),mm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function mi(t){return!!t&&typeof t.then=="function"}function mT(t){return!!t&&typeof t.subscribe=="function"}var _1=new w("");var vT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(_1,{optional:!0})??[];injector=m(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Be(this.injector,i);if(mi(o))n.push(o);else if(mT(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vi=new w("");function E1(){Hp(()=>{throw new C(600,!1)})}function I1(t){return t.isBoundToModule}var w1=10;var rt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(kx);afterRenderManager=m(fD);zonelessEnabled=m($u);rootEffectScheduler=m(y1);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Te;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(hn).hasPendingTasks.pipe(F(n=>!n));constructor(){m(Po,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(je);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=nt.NULL){Z(10);let o=n instanceof tT;if(!this._injector.get(vT).done){let h="";throw new C(405,h)}let a;o?a=n:a=this._injector.get(rd).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=I1(a)?void 0:this._injector.get(bo),l=r||a.selector,u=a.create(i,[],l,c),d=u.location.nativeElement,f=u.injector.get(gT,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ou(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),Z(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Wm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let n=W(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,W(n),this.afterTick.next(),Z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Co,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<w1;)Z(14),this.synchronizeOnce(),Z(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)C1(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Hu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ou(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(vi,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ou(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ou(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function C1(t,e,n,r){if(!n&&!Hu(t))return;WD(t,e,n&&!r?0:1)}function b1(t,e,n){let r=e[sn],i=e[R];if(t.loadingState!==gt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=pa(e,n),s=Ek(i,t);t.loadingState=gt.IN_PROGRESS,iu(1,o);let a=t.dependencyResolverFn,c=r.get(da).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let g=h.value,v=ii(g)||XC(g);if(v)d.push(v);else{let E=eb(g);E&&f.push(E)}}else{u=!0;break}if(u){if(t.loadingState=gt.FAILED,t.errorTmplIndex===null){let h="",g=new C(-750,!1);tv(e,g)}}else{t.loadingState=gt.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=sC(h.directiveRegistry,d);let g=d.map(E=>E.type),v=Rm(!1,...g);t.providers=v}f.length>0&&(h.pipeRegistry=sC(h.pipeRegistry,f))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=gt.COMPLETE,c()}),t.loadingPromise)}function D1(t,e){return e[sn].get(h1,null,{optional:!0})?.behavior!==hD.Manual}function T1(t,e,n){let r=e[R],i=e[n.index];if(!D1(t,e))return;let o=pa(e,n),s=qu(r,n);switch(mk(o),s.loadingState){case gt.NOT_STARTED:go(Re.Loading,n,i),b1(s,e,n),s.loadingState===gt.IN_PROGRESS&&_C(s,n,i);break;case gt.IN_PROGRESS:go(Re.Loading,n,i),_C(s,n,i);break;case gt.COMPLETE:go(Re.Complete,n,i);break;case gt.FAILED:go(Re.Error,n,i);break;default:}}function S1(t,e,n){return p(this,null,function*(){let r=t.get(Gm);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=Lk(e,t);if(s.length===0)return;o!==null&&s.shift(),R1(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield EC(t,s,n):r.awaitParentBlock(a,()=>p(null,null,function*(){return yield EC(t,s,n)}))})}function EC(t,e,n){return p(this,null,function*(){let r=t.get(Gm),i=r.hydrating,o=t.get(hn),s=o.add();for(let c=0;c<e.length;c++){let l=e[c],u=r.get(l);if(u!=null){if(yield O1(u),yield N1(t),A1(u)){hL(u),IC(e.slice(c),r);break}i.get(l).resolve()}else{M1(c,e,r),IC(e.slice(c),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),pL(r.get(a),e,r,t.get(rt))})}function A1(t){return pa(t.lView,t.tNode)[Gu]===Re.Error}function M1(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&nd(i.lContainer)}function IC(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function R1(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function N1(t){return new Promise(e=>zm(e,{injector:t}))}function O1(t){return p(this,null,function*(){let{tNode:e,lView:n}=t,r=pa(n,e);return new Promise(i=>{P1(r,i),T1(2,n,e)})})}function P1(t,e){Array.isArray(t[yo])||(t[yo]=[]),t[yo].push(e)}function x1(t,e,n,r){return ia(t,Cb(),n)?e+$C(n)+r:pi}function Xl(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function k1(t){return(t&2)==2}function F1(t,e){return t&131071|e<<17}function vm(t){return t|2}function Do(t){return(t&131068)>>2}function xg(t,e){return t&-131069|e<<2}function L1(t){return(t&1)===1}function ym(t){return t|1}function V1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),c=Do(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||aa(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=li(t[a+1]);t[r+1]=Xl(f,a),f!==0&&(t[f+1]=xg(t[f+1],r)),t[a+1]=F1(t[a+1],r)}else t[r+1]=Xl(a,0),a!==0&&(t[a+1]=xg(t[a+1],r)),a=r;else t[r+1]=Xl(c,0),a===0?a=r:t[c+1]=xg(t[c+1],r),c=r;l&&(t[r+1]=vm(t[r+1])),wC(t,u,r,!0),wC(t,u,r,!1),U1(e,u,t,r,o),s=Xl(a,c),o?e.classBindings=s:e.styleBindings=s}function U1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&aa(o,e)>=0&&(n[r+1]=ym(n[r+1]))}function wC(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):Do(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];j1(c,e)&&(a=!0,t[s+1]=r?ym(l):vm(l)),s=r?li(l):Do(l)}a&&(t[n+1]=r?vm(i):ym(i))}function j1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?aa(t,e)>=0:!1}function it(t,e,n){let r=le(),i=Cb();if(ia(r,i,e)){let o=Wt(),s=ux();fF(o,s,r,t,e,r[de],n,!1)}return it}function CC(t,e,n,r,i){nv(e,t,n,i?"class":"style",r)}function id(t,e){return B1(t,e,null,!0),id}function B1(t,e,n,r){let i=le(),o=Wt(),s=rx(2);if(o.firstUpdatePass&&$1(o,t,s,r),e!==pi&&ia(i,s,e)){let a=o.data[Ao()];Y1(o,a,i,i[de],t,i[s+1]=K1(e,n),r,s)}}function H1(t,e){return e>=t.expandoStartIndex}function $1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ao()],s=H1(t,n);Z1(o,r)&&e===null&&!s&&(e=!1),e=W1(i,o,e,r),V1(i,o,e,n,s,r)}}function W1(t,e,n,r){let i=ax(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kg(null,t,e,n,r),n=oa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=kg(i,t,e,n,r),o===null){let c=z1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=kg(null,t,e,c[1],r),c=oa(c,e.attrs,r),G1(t,e,r,c))}else o=q1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function z1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Do(r)!==0)return t[li(r)]}function G1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function q1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=oa(r,s,n)}return oa(r,e.attrs,n)}function kg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=oa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),TP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Y1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=L1(l)?bC(c,e,n,i,Do(l),s):void 0;if(!Pu(u)){Pu(o)||k1(l)&&(o=bC(c,null,n,i,a,s));let d=fb(Ao(),n);xF(r,s,d,i,o)}}function bC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===pi&&(f=d?Dt:void 0);let h=d?Ig(f,r):u===r?f:void 0;if(l&&!Pu(h)&&(h=Ig(c,r)),Pu(h)&&(a=h,s))return a;let g=t[i+1];i=s?li(g):Do(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ig(c,r))}return a}function Pu(t){return t!==void 0}function K1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=tt(wD(t)))),t}function Z1(t,e){return(t.flags&(e?8:16))!==0}function X(t,e,n,r){let i=le(),o=Wt(),s=Ne+t,a=i[de],c=o.firstCreatePass?iT(s,o,i,e,FD,yb(),n,r):o.data[s],l=yT(o,i,c,a,e,t);i[s]=l;let u=Pm(c);return ua(c,!0),MD(a,l,c),!xo(c)&&Lm()&&av(o,i,l,c),(YP()===0||u)&&fa(l,i),KP(),u&&(ev(o,i,c),ID(o,c,i)),r!==null&&xD(i,c),X}function ae(){let t=At();Eb()?tx():(t=t.parent,ua(t,!1));let e=t;QP(e)&&XP(),ZP();let n=Wt();return n.firstCreatePass&&oT(n,e),e.classesWithoutHost!=null&&hx(e)&&CC(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&px(e)&&CC(n,e,le(),e.stylesWithoutHost,!1),ae}function _t(t,e,n,r){return X(t,e,n,r),ae(),_t}var yT=(t,e,n,r,i,o)=>(wr(!0),Km(r,i,Rb()));function Q1(t,e,n,r,i,o){let s=e[on],a=!s||la()||xo(n)||ga(s,o);if(wr(a),a)return Km(r,i,Rb());let c=ed(s,t,e,n);return _D(s,o)&&Ku(s,o,c.nextSibling),s&&(Zb(n)||Qb(c))&&di(n)&&(JP(n),AD(c)),c}function J1(){yT=Q1}var X1=(t,e,n,r)=>(wr(!0),TD(e[de],""));function eV(t,e,n,r){let i,o=e[on],s=!o||la()||ga(o,r)||xo(n);if(wr(s),s)return TD(e[de],"");let a=ed(o,t,e,n),c=kk(o,r);return Ku(o,r,a),i=td(c,a),i}function tV(){X1=eV}var Xr=void 0;function nV(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var rV=["en",[["a","p"],["AM","PM"],Xr],[["AM","PM"],Xr,Xr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xr,"{1} 'at' {0}",Xr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",nV],Fg={};function Mt(t){let e=iV(t),n=DC(e);if(n)return n;let r=e.split("-")[0];if(n=DC(r),n)return n;if(r==="en")return rV;throw new C(701,!1)}function DC(t){return t in Fg||(Fg[t]=lo.ng&&lo.ng.common&&lo.ng.common.locales&&lo.ng.common.locales[t]),Fg[t]}var me=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(me||{});function iV(t){return t.toLowerCase().replace(/_/g,"-")}var xu="en-US";var oV=xu;function sV(t){typeof t=="string"&&(oV=t.toLowerCase().replace(/_/g,"-"))}function TC(t,e,n){return function r(i){if(i===Function)return n;let o=di(t)?cn(t.index,e):e;Ju(o,5);let s=e[yt],a=SC(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=SC(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function SC(t,e,n,r){let i=W(null);try{return Z(6,e,n),n(r)!==!1}catch(o){return aV(t,o),!1}finally{Z(7,e,n),W(i)}}function aV(t,e){let n=t[sn],r=n?n.get(ln,null):null;r&&r.handleError(e)}function AC(t,e,n,r,i,o){let s=e[n],a=e[R],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?vb(a):null,f=mb(e),h=u.subscribe(o),g=f.length;f.push(o,h),d&&d.push(i,t.index,g,-(g+1))}var hv=new Map;function cV(t,e){hv.set(t,e)}function lV(t){hv.delete(t)}function zn(t,e,n,r){let i=le(),o=Wt(),s=At();return dV(o,i,i[de],s,t,e,r),zn}function uV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hu],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function dV(t,e,n,r,i,o,s){let a=Pm(r),l=t.firstCreatePass?vb(t):null,u=mb(e),d=!0;if(r.type&3||s){let f=fn(r,e),h=s?s(f):f,g=u.length,v=s?A=>s(Ht(A[r.index])):r.index,E=null;if(!s&&a&&(E=uV(t,e,i,r.index)),E!==null){let A=E.__ngLastListenerFn__||E;A.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,d=!1}else{o=TC(r,e,o);let A=e[sn].get(Vn);hv.get(A)?.(h,i,o);let $=n.listen(h,i,o);u.push(o,$),l&&l.push(i,v,g,g+1)}}else o=TC(r,e,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let v=h[g],E=h[g+1];AC(r,e,v,E,i,o)}if(f&&f.length)for(let g of f)AC(r,e,g,i,i,o)}}function od(t=1){return lx(t)}function fV(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ze(t,e=""){let n=le(),r=Wt(),i=t+Ne,o=r.firstCreatePass?lv(r,i,1,e,null):r.data[i],s=_T(r,n,o,e,t);n[i]=s,Lm()&&av(r,n,s,o),ua(o,!1)}var _T=(t,e,n,r,i)=>(wr(!0),DD(e[de],r));function hV(t,e,n,r,i){let o=e[on],s=!o||la()||xo(n)||ga(o,i);return wr(s),s?DD(e[de],r):ed(o,t,e,n)}function pV(){_T=hV}function ya(t){return _a("",t,""),ya}function _a(t,e,n){let r=le(),i=x1(r,t,e,n);return i!==pi&&gV(r,Ao(),i),_a}function gV(t,e,n){let r=fb(e,t);tF(t[de],r,n)}function mV(t,e,n){let r=Wt();if(r.firstCreatePass){let i=an(t);_m(n,r.data,r.blueprint,i,!0),_m(e,r.data,r.blueprint,i,!1)}}function _m(t,e,n,r,i){if(t=Ke(t),Array.isArray(t))for(let o=0;o<t.length;o++)_m(t[o],e,n,r,i);else{let o=Wt(),s=le(),a=At(),c=Eo(t)?t:Ke(t.provide),l=rb(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Eo(t)||!t.multi){let h=new ai(l,i,U),g=Vg(c,e,i?u:u+f,d);g===-1?(Zg(Iu(a,s),o,c),Lg(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Vg(c,e,u+f,d),g=Vg(c,e,u,u+f),v=h>=0&&n[h],E=g>=0&&n[g];if(i&&!E||!i&&!v){Zg(Iu(a,s),o,c);let A=_V(i?yV:vV,n.length,i,r,l);!i&&E&&(n[g].providerFactory=A),Lg(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=ET(n[i?g:h],l,!i&&r);Lg(o,t,h>-1?h:g,A)}!i&&r&&E&&n[g].componentProviders++}}}function Lg(t,e,n,r){let i=Eo(e),o=OP(e);if(i||o){let c=(o?Ke(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function ET(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vV(t,e,n,r,i){return Em(this.multi,[])}function yV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=wu(r,r[R],this.providerFactory.index,i);s=c.slice(0,a),Em(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Em(o,s);return s}function Em(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function _V(t,e,n,r,i){let o=new ai(t,n,U);return o.multi=[],o.index=e,o.componentProviders=0,ET(o,i,r&&!n),o}function Ea(t,e=[]){return n=>{n.providersResolver=(r,i)=>mV(r,i?i(t):t,e)}}function IT(t,e,n,r,i){return wT(le(),wb(),t,e,n,r,i)}function EV(t,e){let n=t[e];return n===pi?void 0:n}function wT(t,e,n,r,i,o,s){let a=e+n;return a1(t,a,i,o)?s1(t,a+2,s?r.call(s,i,o):r(i,o)):EV(t,a+2)}function CT(t,e){let n=Wt(),r,i=t+Ne;n.firstCreatePass?(r=IV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ni(r.type,!0)),s,a=et(U);try{let c=Eu(!1),l=o();return Eu(c),fV(n,le(),i,l),l}finally{et(a)}}function IV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function bT(t,e,n,r){let i=t+Ne,o=le(),s=WP(o,i);return wV(o,i)?wT(o,wb(),e,s.transform,n,r,s):s.transform(n,r)}function wV(t,e){return t[R].data[e].pure}var Im=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},DT=(()=>{class t{compileModuleSync(n){return new gm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=JC(n),o=CD(i.declarations).reduce((s,a)=>{let c=ii(a);return c&&s.push(new ra(c)),s},[]);return new Im(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var CV=(()=>{class t{zone=m(ne);changeDetectionScheduler=m(ci);applicationRef=m(rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bV=new w("",{factory:()=>!1});function TT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ne(L(I({},AT()),{scheduleInRootZone:n})),[{provide:ne,useFactory:t},{provide:_r,multi:!0,useFactory:()=>{let r=m(CV,{optional:!0});return()=>r.initialize()}},{provide:_r,multi:!0,useFactory:()=>{let r=m(DV);return()=>{r.initialize()}}},e===!0?{provide:zb,useValue:!0}:[],{provide:Gb,useValue:n??Wb}]}function ST(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=TT({ngZoneFactory:()=>{let i=AT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Cr("NgZone_CoalesceEvent"),new ne(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ir([{provide:bV,useValue:!0},{provide:$u,useValue:!1},r])}function AT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var DV=(()=>{class t{subscription=new ue;initialized=!1;zone=m(ne);pendingTasks=m(hn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var TV=(()=>{class t{appRef=m(rt);taskService=m(hn);ngZone=m(ne);zonelessEnabled=m($u);tracing=m(Po,{optional:!0});disableScheduling=m(zb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Gb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tm||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Qw:qb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SV(){return typeof $localize<"u"&&$localize.locale||xu}var sd=new w("",{providedIn:"root",factory:()=>m(sd,k.Optional|k.SkipSelf)||SV()});var wm=new w(""),AV=new w("");function Ys(t){return!t.moduleRef}function MV(t){let e=Ys(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ne);return n.run(()=>{Ys(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ln,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ys(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(wm);s.add(o),t.moduleRef.onDestroy(()=>{ou(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return NV(r,n,()=>{let o=e.get(vT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(sd,xu);if(sV(s||xu),!e.get(AV,!0))return Ys(t)?e.get(rt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ys(t)){let c=e.get(rt);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return RV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function RV(t,e){let n=t.injector.get(rt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new C(-403,!1);e.push(t)}function NV(t,e,n){try{let r=n();return mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var su=null;function OV(t=[],e){return nt.create({name:e,providers:[{provide:Vu,useValue:"platform"},{provide:wm,useValue:new Set([()=>su=null])},...t]})}function PV(t=[]){if(su)return su;let e=OV(t);return su=e,E1(),xV(e),e}function xV(t){let e=t.get(Bm,null);Be(t,()=>{e?.forEach(n=>n())})}function pv(){return!1}var ad=(()=>{class t{static __NG_ELEMENT_ID__=kV}return t})();function kV(t){return FV(At(),le(),(t&16)===16)}function FV(t,e,n){if(di(t)&&!n){let r=cn(t.index,e);return new na(r,r)}else if(t.type&175){let r=e[St];return new na(r,e)}return null}var Cm=class{constructor(){}supports(e){return fT(e)}create(e){return new bm(e)}},LV=(t,e)=>e,bm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||LV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<MC(r,i,o)?n:r,a=MC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!fT(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,i1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Dm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Dm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Tm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ku=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Tm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function MC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function RC(){return new gv([new Cm])}var gv=(()=>{class t{factories;static \u0275prov=b({token:t,providedIn:"root",factory:RC});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||RC()),deps:[[t,new bP,new YC]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new C(901,!1)}}return t})();function MT(t){Z(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=PV(r),o=[TT({}),{provide:ci,useExisting:TV},...n||[]],s=new Ou({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return MV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Z(9)}}var eu=new WeakSet,NC="",au=[];function OC(t){return t.get(uD,rk)}function RT(){let t=[{provide:uD,useFactory:()=>{let e=!0;{let n=m(Vn);e=!!window._ejsas?.[n]}return e&&Cr("NgEventReplay"),e}}];return t.push({provide:_r,useValue:()=>{let e=m(rt),{injector:n}=e;if(!eu.has(e)){let r=m(nC);if(OC(n)){let i=n.get(Vn);cV(i,(o,s,a)=>{o.nodeType===Node.ELEMENT_NODE&&(Ik(o,s,a),wk(o,r))})}}},multi:!0},{provide:vi,useFactory:()=>{let e=m(rt),{injector:n}=e;return()=>{!OC(n)||eu.has(e)||(eu.add(e),e.onDestroy(()=>{eu.delete(e);{let r=n.get(Vn);Eg(r),lV(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=n.get(bk);VV(r,n);let i=n.get(nC);i.get(NC)?.forEach(Ck),i.delete(NC);let o=r.instance;xk(n)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),t}var VV=(t,e)=>{let n=e.get(Vn),r=window._ejsas[n],i=t.instance=new xw(new Kl(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=kw(n);i.replayEarlyEventInfos(o),Eg(n);let s=new Zl(a=>{UV(e,a,a.currentTarget)});Pw(i,s)};function UV(t,e,n){let r=(n&&n.getAttribute(Yu))??"";/d\d+/.test(r)?jV(r,t,e,n):e.eventPhase===_g.REPLAY&&gD(e,n)}function jV(t,e,n,r){au.push({event:n,currentTarget:r}),S1(e,t,BV)}function BV(t){let e=[...au],n=new Set(t);au=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Yu);n.has(o)?gD(r,i):au.push({event:r,currentTarget:i})}}var PC=!1;function HV(){PC||(PC=!0,Rk(),J1(),pV(),tV(),d1(),zL(),vL(),uF())}function $V(t){return t.whenStable()}function NT(){let t=[{provide:Jl,useFactory:()=>{let e=!0;return e=!!m(Oo,{optional:!0})?.get(mD,null),e&&Cr("NgHydration"),e}},{provide:_r,useValue:()=>{uL(!1),m(Jl)&&(Vk(zu()),HV())},multi:!0}];return t.push({provide:lD,useFactory:()=>m(Jl)},{provide:vi,useFactory:()=>{if(m(Jl)){let e=m(rt);return()=>{$V(e).then(()=>{e.destroyed||XD(e)})}}return()=>{}},multi:!0}),Ir(t)}function gn(t){return zp(t)}function yi(t,e){return Bp(t,e?.equal)}var xC=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};var xe=new w("");var xT=null;function Rt(){return xT}function mv(t){xT??=t}var Ia=class{},vv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>m(kT),providedIn:"platform"})}return t})();var kT=(()=>{class t extends vv{_location;_history;_doc=m(xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rt().getBaseHref(this._doc)}onPopState(n){let r=Rt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Rt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function FT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function OT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function br(t){return t&&t[0]!=="?"?`?${t}`:t}var cd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>m(VT),providedIn:"root"})}return t})(),LT=new w(""),VT=(()=>{class t extends cd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return FT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+br(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+br(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(S(vv),S(LT,8))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fo=(()=>{class t{_subject=new Te;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=GV(OT(PT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+br(r))}normalize(n){return t.stripTrailingSlash(zV(this._basePath,PT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+br(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=br;static joinWithSlash=FT;static stripTrailingSlash=OT;static \u0275fac=function(r){return new(r||t)(S(cd))};static \u0275prov=b({token:t,factory:()=>WV(),providedIn:"root"})}return t})();function WV(){return new Fo(S(cd))}function zV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function PT(t){return t.replace(/\/index.html$/,"")}function GV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ze=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ze||{}),ee=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ee||{}),ot=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ot||{}),qn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $T(t){return Mt(t)[me.LocaleId]}function WT(t,e,n){let r=Mt(t),i=[r[me.DayPeriodsFormat],r[me.DayPeriodsStandalone]],o=Nt(i,e);return Nt(o,n)}function zT(t,e,n){let r=Mt(t),i=[r[me.DaysFormat],r[me.DaysStandalone]],o=Nt(i,e);return Nt(o,n)}function GT(t,e,n){let r=Mt(t),i=[r[me.MonthsFormat],r[me.MonthsStandalone]],o=Nt(i,e);return Nt(o,n)}function qT(t,e){let r=Mt(t)[me.Eras];return Nt(r,e)}function wa(t,e){let n=Mt(t);return Nt(n[me.DateFormat],e)}function Ca(t,e){let n=Mt(t);return Nt(n[me.TimeFormat],e)}function ba(t,e){let r=Mt(t)[me.DateTimeFormat];return Nt(r,e)}function Da(t,e){let n=Mt(t),r=n[me.NumberSymbols][e];if(typeof r>"u"){if(e===qn.CurrencyDecimal)return n[me.NumberSymbols][qn.Decimal];if(e===qn.CurrencyGroup)return n[me.NumberSymbols][qn.Group]}return r}function YT(t){if(!t[me.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[me.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function KT(t){let e=Mt(t);return YT(e),(e[me.ExtraData][2]||[]).map(r=>typeof r=="string"?yv(r):[yv(r[0]),yv(r[1])])}function ZT(t,e,n){let r=Mt(t);YT(r);let i=[r[me.ExtraData][0],r[me.ExtraData][1]],o=Nt(i,e)||[];return Nt(o,n)||[]}function Nt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function yv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var qV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ld={},YV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function QT(t,e,n,r){let i=rU(t);e=Gn(n,e)||e;let s=[],a;for(;e;)if(a=YV.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=XT(r,c),i=nU(i,r));let l="";return s.forEach(u=>{let d=eU(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function pd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Gn(t,e){let n=$T(t);if(ld[n]??={},ld[n][e])return ld[n][e];let r="";switch(e){case"shortDate":r=wa(t,ot.Short);break;case"mediumDate":r=wa(t,ot.Medium);break;case"longDate":r=wa(t,ot.Long);break;case"fullDate":r=wa(t,ot.Full);break;case"shortTime":r=Ca(t,ot.Short);break;case"mediumTime":r=Ca(t,ot.Medium);break;case"longTime":r=Ca(t,ot.Long);break;case"fullTime":r=Ca(t,ot.Full);break;case"short":let i=Gn(t,"shortTime"),o=Gn(t,"shortDate");r=ud(ba(t,ot.Short),[i,o]);break;case"medium":let s=Gn(t,"mediumTime"),a=Gn(t,"mediumDate");r=ud(ba(t,ot.Medium),[s,a]);break;case"long":let c=Gn(t,"longTime"),l=Gn(t,"longDate");r=ud(ba(t,ot.Long),[c,l]);break;case"full":let u=Gn(t,"fullTime"),d=Gn(t,"fullDate");r=ud(ba(t,ot.Full),[u,d]);break}return r&&(ld[n][e]=r),r}function ud(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function zt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function KV(t,e){return zt(t,3).substring(0,e)}function Ee(t,e,n=0,r=!1,i=!1){return function(o,s){let a=ZV(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return KV(a,e);let c=Da(s,qn.MinusSign);return zt(a,e,c,r,i)}}function ZV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function re(t,e,n=ze.Format,r=!1){return function(i,o){return QV(i,o,t,e,n,r)}}function QV(t,e,n,r,i,o){switch(n){case 2:return GT(e,i,r)[t.getMonth()];case 1:return zT(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=KT(e),u=ZT(e,i,r),d=l.findIndex(f=>{if(Array.isArray(f)){let[h,g]=f,v=s>=h.hours&&a>=h.minutes,E=s<g.hours||s===g.hours&&a<g.minutes;if(h.hours<g.hours){if(v&&E)return!0}else if(v||E)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return WT(e,i,r)[s<12?0:1];case 3:return qT(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function dd(t){return function(e,n,r){let i=-1*r,o=Da(n,qn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+zt(s,2,o)+zt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+zt(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+zt(s,2,o)+":"+zt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+zt(s,2,o)+":"+zt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var JV=0,hd=4;function XV(t){let e=pd(t,JV,1).getDay();return pd(t,0,1+(e<=hd?hd:hd+7)-e)}function JT(t){let e=t.getDay(),n=e===0?-3:hd-e;return pd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function _v(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=JT(n),s=XV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zt(i,t,Da(r,qn.MinusSign))}}function fd(t,e=!1){return function(n,r){let o=JT(n).getFullYear();return zt(o,t,Da(r,qn.MinusSign),e)}}var Ev={};function eU(t){if(Ev[t])return Ev[t];let e;switch(t){case"G":case"GG":case"GGG":e=re(3,ee.Abbreviated);break;case"GGGG":e=re(3,ee.Wide);break;case"GGGGG":e=re(3,ee.Narrow);break;case"y":e=Ee(0,1,0,!1,!0);break;case"yy":e=Ee(0,2,0,!0,!0);break;case"yyy":e=Ee(0,3,0,!1,!0);break;case"yyyy":e=Ee(0,4,0,!1,!0);break;case"Y":e=fd(1);break;case"YY":e=fd(2,!0);break;case"YYY":e=fd(3);break;case"YYYY":e=fd(4);break;case"M":case"L":e=Ee(1,1,1);break;case"MM":case"LL":e=Ee(1,2,1);break;case"MMM":e=re(2,ee.Abbreviated);break;case"MMMM":e=re(2,ee.Wide);break;case"MMMMM":e=re(2,ee.Narrow);break;case"LLL":e=re(2,ee.Abbreviated,ze.Standalone);break;case"LLLL":e=re(2,ee.Wide,ze.Standalone);break;case"LLLLL":e=re(2,ee.Narrow,ze.Standalone);break;case"w":e=_v(1);break;case"ww":e=_v(2);break;case"W":e=_v(1,!0);break;case"d":e=Ee(2,1);break;case"dd":e=Ee(2,2);break;case"c":case"cc":e=Ee(7,1);break;case"ccc":e=re(1,ee.Abbreviated,ze.Standalone);break;case"cccc":e=re(1,ee.Wide,ze.Standalone);break;case"ccccc":e=re(1,ee.Narrow,ze.Standalone);break;case"cccccc":e=re(1,ee.Short,ze.Standalone);break;case"E":case"EE":case"EEE":e=re(1,ee.Abbreviated);break;case"EEEE":e=re(1,ee.Wide);break;case"EEEEE":e=re(1,ee.Narrow);break;case"EEEEEE":e=re(1,ee.Short);break;case"a":case"aa":case"aaa":e=re(0,ee.Abbreviated);break;case"aaaa":e=re(0,ee.Wide);break;case"aaaaa":e=re(0,ee.Narrow);break;case"b":case"bb":case"bbb":e=re(0,ee.Abbreviated,ze.Standalone,!0);break;case"bbbb":e=re(0,ee.Wide,ze.Standalone,!0);break;case"bbbbb":e=re(0,ee.Narrow,ze.Standalone,!0);break;case"B":case"BB":case"BBB":e=re(0,ee.Abbreviated,ze.Format,!0);break;case"BBBB":e=re(0,ee.Wide,ze.Format,!0);break;case"BBBBB":e=re(0,ee.Narrow,ze.Format,!0);break;case"h":e=Ee(3,1,-12);break;case"hh":e=Ee(3,2,-12);break;case"H":e=Ee(3,1);break;case"HH":e=Ee(3,2);break;case"m":e=Ee(4,1);break;case"mm":e=Ee(4,2);break;case"s":e=Ee(5,1);break;case"ss":e=Ee(5,2);break;case"S":e=Ee(6,1);break;case"SS":e=Ee(6,2);break;case"SSS":e=Ee(6,3);break;case"Z":case"ZZ":case"ZZZ":e=dd(0);break;case"ZZZZZ":e=dd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=dd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=dd(2);break;default:return null}return Ev[t]=e,e}function XT(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function tU(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function nU(t,e,n){let i=t.getTimezoneOffset(),o=XT(e,i);return tU(t,-1*(o-i))}function rU(t){if(UT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return pd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(qV))return iU(r)}let e=new Date(t);if(!UT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function iU(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function UT(t){return t instanceof Date&&!isNaN(t.valueOf())}var Iv=/\s+/,jT=[],wv=(()=>{class t{_ngEl;_renderer;initialClasses=jT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Iv):jT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Iv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Iv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(U(No),U(ma))};static \u0275dir=$e({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var gd=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vd=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(U(ko),U(Xu),U(gv))};static \u0275dir=$e({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function BT(t,e){t.context.$implicit=e.item}var Cv=(()=>{class t{_viewContainer;_context=new md;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){HT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){HT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(U(ko),U(Xu))};static \u0275dir=$e({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),md=class{$implicit=null;ngIf=null};function HT(t,e){if(t&&!t.createEmbeddedView)throw new C(2020,!1)}function oU(t,e){return new C(2100,!1)}var sU="mediumDate",eS=new w(""),tS=new w(""),bv=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??sU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return QT(n,s,o||this.locale,a)}catch(s){throw oU(t,s.message)}}static \u0275fac=function(r){return new(r||t)(U(sd,16),U(eS,24),U(tS,24))};static \u0275pipe=lT({name:"date",type:t,pure:!0})}return t})();var Dr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Hn({})}return t})();function Ta(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dv="browser",nS="server";function yd(t){return t===nS}var _i=class{};var Id=new w(""),Rv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(S(Id),S(ne))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Sa=class{_doc;constructor(e){this._doc=e}manager},_d="ng-app-id";function rS(t){for(let e of t)e.remove()}function iS(t,e){let n=e.createElement("style");return n.textContent=t,n}function aU(t,e,n,r){let i=t.head?.querySelectorAll(`style[${_d}="${e}"],link[${_d}="${e}"]`);if(i)for(let o of i)o.removeAttribute(_d),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Av(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Nv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=yd(o),aU(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,iS);r?.forEach(i=>this.addUsage(i,this.external,Av))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(rS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])rS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,iS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Av(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_d,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(S(xe),S(Vn),S(Hm,8),S(ha))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Sv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ov=/%COMP%/g;var sS="%COMP%",cU=`_nghost-${sS}`,lU=`_ngcontent-${sS}`,uU=!0,dU=new w("",{providedIn:"root",factory:()=>uU});function fU(t){return lU.replace(Ov,t)}function hU(t){return cU.replace(Ov,t)}function aS(t,e){return e.map(n=>n.replace(Ov,t))}var Pv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=yd(a),this.defaultRenderer=new Aa(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===un.ShadowDom&&(r=L(I({},r),{encapsulation:un.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ed?i.applyToHost(n):i instanceof Ma&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case un.Emulated:o=new Ed(c,l,r,this.appId,u,s,a,d,f);break;case un.ShadowDom:return new Mv(c,l,n,r,s,a,this.nonce,d,f);default:o=new Ma(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(S(Rv),S(Nv),S(Vn),S(dU),S(xe),S(ha),S(ne),S(Hm),S(Po,8))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Aa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Sv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Sv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Sv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,i&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Rt().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function oS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mv=class extends Aa{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=aS(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Av(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ma=class extends Aa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?aS(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ed=class extends Ma{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,l,u),this.contentAttr=fU(u),this.hostAttr=hU(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var wd=class t extends Ia{supportsDOMEvents=!0;static makeCurrent(){mv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pU();return n==null?null:gU(n)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ta(document.cookie,e)}},Ra=null;function pU(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}function gU(t){return new URL(t,document.baseURI).pathname}var mU=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),lS=(()=>{class t extends Sa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(S(xe))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),cS=["alt","control","meta","shift"],vU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},uS=(()=>{class t extends Sa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),cS.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=vU[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cS.forEach(s=>{if(s!==i){let a=yU[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(S(xe))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function xv(t,e){return MT(I({rootComponent:t},_U(e)))}function _U(t){return{appProviders:[...bU,...t?.providers??[]],platformProviders:CU}}function EU(){wd.makeCurrent()}function IU(){return new ln}function wU(){return rD(document),document}var CU=[{provide:ha,useValue:Dv},{provide:Bm,useValue:EU,multi:!0},{provide:xe,useFactory:wU}];var bU=[{provide:Vu,useValue:"root"},{provide:ln,useFactory:IU},{provide:Id,useClass:lS,multi:!0,deps:[xe]},{provide:Id,useClass:uS,multi:!0,deps:[xe]},Pv,Nv,Rv,{provide:Co,useExisting:Pv},{provide:_i,useClass:mU},[]];var Vo=class{},Uo=class{},Gt=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Dd=class{encodeKey(e){return dS(e)}encodeValue(e){return dS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function DU(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var TU=/%(\d[a-f0-9])/gi,SU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dS(t){return encodeURIComponent(t).replace(TU,(e,n)=>SU[n]??e)}function Cd(t){return`${t}`}var Kn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Dd,e.fromString){if(e.fromObject)throw new C(2805,!1);this.map=DU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Cd):[Cd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Cd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Cd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Td=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function AU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hS(t){return typeof Blob<"u"&&t instanceof Blob}function pS(t){return typeof FormData<"u"&&t instanceof FormData}function MU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Na="Content-Type",Sd="Accept",Uv="X-Request-URL",mS="text/plain",vS="application/json",yS=`${vS}, ${mS}, */*`,Lo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(AU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Gt,this.context??=new Td,!this.params)this.params=new Kn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fS(this.body)||hS(this.body)||pS(this.body)||MU(this.body)?this.body:this.body instanceof Kn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pS(this.body)?null:hS(this.body)?this.body.type||null:fS(this.body)?null:typeof this.body=="string"?mS:this.body instanceof Kn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?vS:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Zn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Zn||{}),jo=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Gt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Oa=class t extends jo{constructor(e={}){super(e)}type=Zn.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Tr=class t extends jo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Zn.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Yn=class extends jo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_S=200,RU=204;function kv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ES=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Lo)o=n;else{let c;i.headers instanceof Gt?c=i.headers:c=new Gt(i.headers);let l;i.params&&(i.params instanceof Kn?l=i.params:l=new Kn({fromObject:i.params})),o=new Lo(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=T(o).pipe(gr(c=>this.handler.handle(c)));if(n instanceof Lo||i.observe==="events")return s;let a=s.pipe(ht(c=>c instanceof Tr));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(F(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Kn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,kv(i,r))}post(n,r,i={}){return this.request("POST",n,kv(i,r))}put(n,r,i={}){return this.request("PUT",n,kv(i,r))}static \u0275fac=function(r){return new(r||t)(S(Vo))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),NU=/^\)\]\}',?\n/;function gS(t){if(t.url)return t.url;let e=Uv.toLocaleLowerCase();return t.headers.get(e)}var IS=new w(""),bd=(()=>{class t{fetchImpl=m(Fv,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=m(ne);handle(n){return new V(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Lv,o=>r.error(new Yn({error:o}))),()=>i.abort()})}doRequest(n,r,i){return p(this,null,function*(){let o=this.createRequestInit(n),s;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,I({signal:r},o)));OU(h),i.next({type:Zn.Sent}),s=yield h}catch(h){i.error(new Yn({error:h,status:h.status??0,statusText:h.statusText,url:n.urlWithParams,headers:h.headers}));return}let a=new Gt(s.headers),c=s.statusText,l=gS(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&i.next(new Oa({headers:a,status:u,statusText:c,url:l})),s.body){let h=s.headers.get("content-length"),g=[],v=s.body.getReader(),E=0,A,be,$=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>p(this,null,function*(){for(;;){let{done:nn,value:Pn}=yield v.read();if(nn)break;if(g.push(Pn),E+=Pn.length,n.reportProgress){be=n.responseType==="text"?(be??"")+(A??=new TextDecoder).decode(Pn,{stream:!0}):void 0;let js=()=>i.next({type:Zn.DownloadProgress,total:h?+h:void 0,loaded:E,partialText:be});$?$.run(js):js()}}}));let bt=this.concatChunks(g,E);try{let nn=s.headers.get(Na)??"";d=this.parseBody(n,bt,nn)}catch(nn){i.error(new Yn({error:nn,headers:new Gt(s.headers),status:s.status,statusText:s.statusText,url:gS(s)??n.urlWithParams}));return}}u===0&&(u=d?_S:0),u>=200&&u<300?(i.next(new Tr({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new Yn({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(NU,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(Sd)||(r[Sd]=yS),!n.headers.has(Na)){let o=n.detectContentTypeHeader();o!==null&&(r[Na]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),Fv=class{};function Lv(){}function OU(t){t.then(Lv,Lv)}function PU(t,e){return e(t)}function xU(t,e,n){return(r,i)=>Be(n,()=>e(r,o=>t(o,i)))}var wS=new w(""),jv=new w(""),CS=new w("",{providedIn:"root",factory:()=>!0});var Ad=(()=>{class t extends Vo{backend;injector;chain=null;pendingTasks=m(hn);contributeToStability=m(CS);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wS),...this.injector.get(jv,[])]));this.chain=r.reduceRight((i,o)=>xU(i,o,this.injector),PU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Qr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(S(Uo),S(je))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();var kU=/^\)\]\}',?\n/,FU=RegExp(`^${Uv}:`,"m");function LU(t){return"responseURL"in t&&t.responseURL?t.responseURL:FU.test(t.getAllResponseHeaders())?t.getResponseHeader(Uv):null}var Vv=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ce(r.\u0275loadImpl()):T(null)).pipe(pt(()=>new V(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,E)=>s.setRequestHeader(v,E.join(","))),n.headers.has(Sd)||s.setRequestHeader(Sd,yS),!n.headers.has(Na)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(Na,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",E=new Gt(s.getAllResponseHeaders()),A=LU(s)||n.url;return c=new Oa({headers:E,status:s.status,statusText:v,url:A}),c},u=()=>{let{headers:v,status:E,statusText:A,url:be}=l(),$=null;E!==RU&&($=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=$?_S:0);let bt=E>=200&&E<300;if(n.responseType==="json"&&typeof $=="string"){let nn=$;$=$.replace(kU,"");try{$=$!==""?JSON.parse($):null}catch(Pn){$=nn,bt&&(bt=!1,$={error:Pn,text:$})}}bt?(o.next(new Tr({body:$,headers:v,status:E,statusText:A,url:be||void 0})),o.complete()):o.error(new Yn({error:$,headers:v,status:E,statusText:A,url:be||void 0}))},d=v=>{let{url:E}=l(),A=new Yn({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(A)},f=!1,h=v=>{f||(o.next(l()),f=!0);let E={type:Zn.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),n.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},g=v=>{let E={type:Zn.UploadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Zn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(S(_i))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})(),bS=new w(""),VU="XSRF-TOKEN",UU=new w("",{providedIn:"root",factory:()=>VU}),jU="X-XSRF-TOKEN",BU=new w("",{providedIn:"root",factory:()=>jU}),Pa=class{},HU=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ta(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(S(xe),S(UU))};static \u0275prov=b({token:t,factory:t.\u0275fac})}return t})();function $U(t,e){let n=t.url.toLowerCase();if(!m(bS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=m(Pa).getToken(),i=m(BU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Bv=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Bv||{});function WU(t,e){return{\u0275kind:t,\u0275providers:e}}function Hv(...t){let e=[ES,Vv,Ad,{provide:Vo,useExisting:Ad},{provide:Uo,useFactory:()=>m(IS,{optional:!0})??m(Vv)},{provide:wS,useValue:$U,multi:!0},{provide:bS,useValue:!0},{provide:Pa,useClass:HU}];for(let n of t)e.push(...n.\u0275providers);return Ir(e)}function $v(){return WU(Bv.Fetch,[bd,{provide:IS,useExisting:bd},{provide:Uo,useExisting:bd}])}var zU=new w(""),GU="b",qU="h",YU="s",KU="st",ZU="u",QU="rt",Wv=new w(""),JU=["GET","HEAD"];function XU(t,e){let f=m(Wv),{isCacheActive:n}=f,r=jI(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!JU.includes(o)||!r.includeRequestsWithAuthHeaders&&ej(t)||r.filter?.(t)===!1)return e(t);let s=m(Oo);if(m(zU,{optional:!0}))throw new C(2803,!1);let c=t.url,l=tj(t,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[GU]:h,[QU]:g,[qU]:v,[YU]:E,[KU]:A,[ZU]:be}=u,$=h;switch(g){case"arraybuffer":$=new TextEncoder().encode(h).buffer;break;case"blob":$=new Blob([h]);break}let bt=new Gt(v);return T(new Tr({body:$,headers:bt,status:E,statusText:A,url:be}))}return e(t).pipe(Me(h=>{h instanceof Tr}))}function ej(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function DS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function tj(t,e){let{params:n,method:r,responseType:i}=t,o=DS(n),s=t.serializeBody();s instanceof URLSearchParams?s=DS(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=nj(a);return c}function nj(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function TS(t){return[{provide:Wv,useFactory:()=>(Cr("NgHttpTransferCache"),I({isCacheActive:!0},t))},{provide:jv,useValue:XU,multi:!0},{provide:vi,multi:!0,useFactory:()=>{let e=m(rt),n=m(Wv);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var AS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(S(xe))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Md=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(Md||{});function rj(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function MS(){return rj(Md.EventReplay,RT())}function RS(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(Md.HttpTransferCacheOptions);return Ir([[],NT(),n.has(Md.NoHttpTransferCache)||r?[]:TS({}),e])}var P="primary",qa=Symbol("RouteTitle"),Kv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function wi(t){return new Kv(t)}function VS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mn(t[n],e[n]))return!1;return!0}function mn(t,e){let n=t?Zv(t):void 0,r=e?Zv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!US(t[i],e[i]))return!1;return!0}function Zv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function US(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jS(t){return t.length>0?t[t.length-1]:null}function Mr(t){return og(t)?t:mi(t)?ce(Promise.resolve(t)):T(t)}var sj={exact:HS,subset:$S},BS={exact:aj,subset:cj,ignored:()=>!0};function NS(t,e,n){return sj[n.paths](t.root,e.root,n.matrixParams)&&BS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aj(t,e){return mn(t,e)}function HS(t,e,n){if(!Ei(t.segments,e.segments)||!Od(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!HS(t.children[r],e.children[r],n))return!1;return!0}function cj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>US(t[n],e[n]))}function $S(t,e,n){return WS(t,e,e.segments,n)}function WS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ei(i,n)||e.hasChildren()||!Od(i,n,r))}else if(t.segments.length===n.length){if(!Ei(t.segments,n)||!Od(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$S(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ei(t.segments,i)||!Od(t.segments,i,r)||!t.children[P]?!1:WS(t.children[P],e,o,r)}}function Od(t,e,n){return e.every((r,i)=>BS[n](t[i].parameters,r.parameters))}var yn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new K([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return dj.serialize(this)}},K=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pd(this)}},Sr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return GS(this)}};function lj(t,e){return Ei(t,e)&&t.every((n,r)=>mn(n.parameters,e[r].parameters))}function Ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function uj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===P&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==P&&(n=n.concat(e(i,r)))}),n}var Ya=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>new Ci,providedIn:"root"})}return t})(),Ci=class{parse(e){let n=new Jv(e);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${xa(e.root,!0)}`,r=pj(e.queryParams),i=typeof e.fragment=="string"?`#${fj(e.fragment)}`:"";return`${n}${r}${i}`}},dj=new Ci;function Pd(t){return t.segments.map(e=>GS(e)).join("/")}function xa(t,e){if(!t.hasChildren())return Pd(t);if(e){let n=t.children[P]?xa(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==P&&r.push(`${i}:${xa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=uj(t,(r,i)=>i===P?[xa(t.children[P],!1)]:[`${i}:${xa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${Pd(t)}/${n[0]}`:`${Pd(t)}/(${n.join("//")})`}}function zS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(t){return zS(t).replace(/%3B/gi,";")}function fj(t){return encodeURI(t)}function Qv(t){return zS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xd(t){return decodeURIComponent(t)}function OS(t){return xd(t.replace(/\+/g,"%20"))}function GS(t){return`${Qv(t.path)}${hj(t.parameters)}`}function hj(t){return Object.entries(t).map(([e,n])=>`;${Qv(e)}=${Qv(n)}`).join("")}function pj(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rd(n)}=${Rd(i)}`).join("&"):`${Rd(n)}=${Rd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gj=/^[^\/()?;#]+/;function zv(t){let e=t.match(gj);return e?e[0]:""}var mj=/^[^\/()?;=#]+/;function vj(t){let e=t.match(mj);return e?e[0]:""}var yj=/^[^=?&#]+/;function _j(t){let e=t.match(yj);return e?e[0]:""}var Ej=/^[^&#]+/;function Ij(t){let e=t.match(Ej);return e?e[0]:""}var Jv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new K([],{}):new K([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[P]=new K(e,n)),r}parseSegment(){let e=zv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Sr(xd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zv(this.remaining);i&&(r=i,this.capture(r))}e[xd(n)]=xd(r)}parseQueryParam(e){let n=_j(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Ij(this.remaining);s&&(r=s,this.capture(r))}let i=OS(n),o=OS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new K([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function qS(t){return t.segments.length>0?new K([],{[P]:t}):t}function YS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=YS(i);if(r===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new K(t.segments,e);return wj(n)}function wj(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new K(t.segments.concat(e.segments),e.children)}return t}function zo(t){return t instanceof yn}function KS(t,e,n=null,r=null){let i=ZS(t);return QS(i,e,n,r)}function ZS(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new K(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=qS(r);return e??i}function QS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Gv(i,i,i,n,r);let o=Cj(e);if(o.toRoot())return Gv(i,i,new K([],{}),n,r);let s=bj(o,i,t),a=s.processChildren?Fa(s.segmentGroup,s.index,o.commands):XS(s.segmentGroup,s.index,o.commands);return Gv(i,s.segmentGroup,a,n,r)}function Fd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Va(t){return typeof t=="object"&&t!=null&&t.outlets}function Gv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=JS(t,e,n);let a=qS(YS(s));return new yn(a,o,i)}function JS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=JS(o,e,n)}),new K(t.segments,r)}var Ld=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fd(r[0]))throw new C(4003,!1);let i=r.find(Va);if(i&&i!==jS(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Cj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ld(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ld(n,e,r)}var $o=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function bj(t,e,n){if(t.isAbsolute)return new $o(e,!0,0);if(!n)return new $o(e,!1,NaN);if(n.parent===null)return new $o(n,!0,0);let r=Fd(t.commands[0])?0:1,i=n.segments.length-1+r;return Dj(n,i,t.numberOfDoubleDots)}function Dj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new $o(r,!1,i-o)}function Tj(t){return Va(t[0])?t[0].outlets:{[P]:t}}function XS(t,e,n){if(t??=new K([],{}),t.segments.length===0&&t.hasChildren())return Fa(t,e,n);let r=Sj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new K(t.segments.slice(0,r.pathIndex),{});return o.children[P]=new K(t.segments.slice(r.pathIndex),t.children),Fa(o,0,i)}else return r.match&&i.length===0?new K(t.segments,{}):r.match&&!t.hasChildren()?Xv(t,e,n):r.match?Fa(t,0,i):Xv(t,e,n)}function Fa(t,e,n){if(n.length===0)return new K(t.segments,{});{let r=Tj(n),i={};if(Object.keys(r).some(o=>o!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let o=Fa(t.children[P],e,n);return new K(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=XS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new K(t.segments,i)}}function Sj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Va(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!xS(c,l,s))return o;r+=2}else{if(!xS(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Va(o)){let c=Aj(o.outlets);return new K(r,c)}if(i===0&&Fd(n[0])){let c=t.segments[e];r.push(new Sr(c.path,PS(n[0]))),i++;continue}let s=Va(o)?o.outlets[P]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Fd(a)?(r.push(new Sr(s,PS(a))),i+=2):(r.push(new Sr(s,{})),i++)}return new K(r,{})}function Aj(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Xv(new K([],{}),0,r))}),e}function PS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xS(t,e,n){return t==n.path&&mn(e,n.parameters)}var kd="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),It=class{id;url;constructor(e,n){this.id=e,this.url=n}},bi=class extends It{type=ke.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qn=class extends It{urlAfterRedirects;type=ke.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(st||{}),Ua=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ua||{}),vn=class extends It{reason;code;type=ke.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jn=class extends It{reason;code;type=ke.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Go=class extends It{error;target;type=ke.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ja=class extends It{urlAfterRedirects;state;type=ke.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends It{urlAfterRedirects;state;type=ke.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ud=class extends It{urlAfterRedirects;state;shouldActivate;type=ke.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jd=class extends It{urlAfterRedirects;state;type=ke.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends It{urlAfterRedirects;state;type=ke.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class{route;type=ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$d=class{route;type=ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wd=class{snapshot;type=ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{snapshot;type=ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ba=class{},qo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Mj(t,e){return t.providers&&!t._injector&&(t._injector=va(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qt(t){return t.outlet||P}function Rj(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function Ka(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ka(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Zo(this.rootInjector)}},Zo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(S(je))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ey(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ey(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ty(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ty(e,this._root).map(n=>n.value)}};function ey(t,e){if(t===e.value)return e;for(let n of e.children){let r=ey(t,n);if(r)return r}return null}function ty(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ty(t,n);if(r.length)return r.unshift(e),r}return[]}var Et=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ho(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ha=class extends Kd{snapshot;constructor(e,n){super(e),this.snapshot=n,ly(this,e)}toString(){return this.snapshot.toString()}};function eA(t){let e=Nj(t),n=new Se([new Sr("",{})]),r=new Se({}),i=new Se({}),o=new Se({}),s=new Se(""),a=new Ar(n,r,o,s,i,P,t,e.root);return a.snapshot=e.root,new Ha(new Et(a,[]),e)}function Nj(t){let e={},n={},r={},i="",o=new Ii([],e,r,i,n,P,t,null,{});return new $a("",new Et(o,[]))}var Ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(l=>l[qa]))??T(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&nA(i)&&(r.resolve[qa]=i.title),r}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qa]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},$a=class extends Kd{url;constructor(e,n){super(n),this.url=e,ly(this,n)}toString(){return tA(this._root)}};function ly(t,e){e.value._routerState=t,e.children.forEach(n=>ly(t,n))}function tA(t){let e=t.children.length>0?` { ${t.children.map(tA).join(", ")} } `:"";return`${t.value}${e}`}function qv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),mn(e.params,n.params)||t.paramsSubject.next(n.params),oj(e.url,n.url)||t.urlSubject.next(n.url),mn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ny(t,e){let n=mn(t.params,e.params)&&lj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ny(t.parent,e.parent))}function nA(t){return typeof t.title=="string"||t.title===null}var rA=new w(""),Za=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new ge;deactivateEvents=new ge;attachEvents=new ge;detachEvents=new ge;routerOutletData=Kb(void 0);parentContexts=m(Zo);location=m(ko);changeDetector=m(ad);inputBinder=m(ef,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ry(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[So]})}return t})(),ry=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ar?this.route:e===Zo?this.childContexts:e===rA?this.outletData:this.parent.get(e,n)}},ef=new w("");function Oj(t,e,n){let r=Wa(t,e._root,n?n._root:void 0);return new Ha(r,e)}function Wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Pj(t,e,n);return new Et(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wa(t,a)),s}}let r=xj(e.value),i=e.children.map(o=>Wa(t,o));return new Et(r,i)}}function Pj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wa(t,r,i);return Wa(t,r)})}function xj(t){return new Ar(new Se(t.url),new Se(t.params),new Se(t.queryParams),new Se(t.fragment),new Se(t.data),t.outlet,t.component,t)}var Yo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},iA="ngNavigationCancelingError";function Qd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oA(!1,st.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function oA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[iA]=!0,n.cancellationCode=e,n}function kj(t){return sA(t)&&zo(t.url)}function sA(t){return!!t&&t[iA]}var Fj=(t,e,n,r)=>F(i=>(new iy(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),iy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),qv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ho(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ho(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(qv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Lj(t,e,n){let r=t._root,i=e?e._root:null;return ka(r,i,n,[r.value])}function Vj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!UC(t)?t:e.get(t):r}function ka(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ho(e);return t.children.forEach(s=>{Uj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>La(a,n.getContext(s),i)),i}function Uj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=jj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ka(t,e,a?a.children:null,r,i):ka(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wo(a.outlet.component,s))}else s&&La(e,a,i),i.canActivateChecks.push(new Jd(r)),o.component?ka(t,null,a?a.children:null,r,i):ka(t,null,n,r,i);return i}function jj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(t.url,e.url)||!mn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ny(t,e)||!mn(t.queryParams,e.queryParams);case"paramsChange":default:return!ny(t,e)}}function La(t,e,n){let r=Ho(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?La(s,e.children.getContext(o),n):La(s,null,n):La(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Wo(e.outlet.component,i)):n.canDeactivateChecks.push(new Wo(null,i)):n.canDeactivateChecks.push(new Wo(null,i))}function Qa(t){return typeof t=="function"}function Bj(t){return typeof t=="boolean"}function Hj(t){return t&&Qa(t.canLoad)}function $j(t){return t&&Qa(t.canActivate)}function Wj(t){return t&&Qa(t.canActivateChild)}function zj(t){return t&&Qa(t.canDeactivate)}function Gj(t){return t&&Qa(t.canMatch)}function aA(t){return t instanceof kn||t?.name==="EmptyError"}var Nd=Symbol("INITIAL_VALUE");function Ko(){return pt(t=>$l(t.map(e=>e.pipe(Fn(1),lg(Nd)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===Nd)return Nd;if(n===!1||qj(n))return n}return!0}),ht(e=>e!==Nd),Fn(1)))}function qj(t){return zo(t)||t instanceof Yo}function Yj(t,e){return Ae(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?T(L(I({},n),{guardsResult:!0})):Kj(s,r,i,t).pipe(Ae(a=>a&&Bj(a)?Zj(r,o,t,e):T(a)),F(a=>L(I({},n),{guardsResult:a})))})}function Kj(t,e,n,r){return ce(t).pipe(Ae(i=>tB(i.component,i.route,n,e,r)),Ln(i=>i!==!0,!0))}function Zj(t,e,n,r){return ce(e).pipe(gr(i=>ao(Jj(i.route.parent,r),Qj(i.route,r),eB(t,i.path,n),Xj(t,i.route,n))),Ln(i=>i!==!0,!0))}function Qj(t,e){return t!==null&&e&&e(new Gd(t)),T(!0)}function Jj(t,e){return t!==null&&e&&e(new Wd(t)),T(!0)}function Xj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let i=r.map(o=>Wl(()=>{let s=Ka(e)??n,a=Qo(o,s),c=$j(a)?a.canActivate(e,t):Be(s,()=>a(e,t));return Mr(c).pipe(Ln())}));return T(i).pipe(Ko())}function eB(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Vj(s)).filter(s=>s!==null).map(s=>Wl(()=>{let a=s.guards.map(c=>{let l=Ka(s.node)??n,u=Qo(c,l),d=Wj(u)?u.canActivateChild(r,t):Be(l,()=>u(r,t));return Mr(d).pipe(Ln())});return T(a).pipe(Ko())}));return T(o).pipe(Ko())}function tB(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return T(!0);let s=o.map(a=>{let c=Ka(e)??i,l=Qo(a,c),u=zj(l)?l.canDeactivate(t,e,n,r):Be(c,()=>l(t,e,n,r));return Mr(u).pipe(Ln())});return T(s).pipe(Ko())}function nB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return T(!0);let o=i.map(s=>{let a=Qo(s,t),c=Hj(a)?a.canLoad(e,n):Be(t,()=>a(e,n));return Mr(c)});return T(o).pipe(Ko(),cA(r))}function cA(t){return Jp(Me(e=>{if(typeof e!="boolean")throw Qd(t,e)}),F(e=>e===!0))}function rB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return T(!0);let o=i.map(s=>{let a=Qo(s,t),c=Gj(a)?a.canMatch(e,n):Be(t,()=>a(e,n));return Mr(c)});return T(o).pipe(Ko(),cA(r))}var za=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ga=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Bo(t){return so(new za(t))}function iB(t){return so(new C(4e3,!1))}function oB(t){return so(oA(!1,st.GuardRejected))}var oy=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return T(r);if(i.numberOfChildren>1||!i.children[P])return iB(`${e.redirectTo}`);i=i.children[P]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:v}=i,E=Be(o,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:v}));if(E instanceof yn)throw new Ga(E);n=E}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ga(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new K(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},sy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sB(t,e,n,r,i){let o=lA(t,e,n);return o.matched?(r=Mj(e,r),rB(r,e,n,i).pipe(F(s=>s===!0?o:I({},sy)))):T(o)}function lA(t,e,n){if(e.path==="**")return aB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},sy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VS)(n,t,e);if(!i)return I({},sy);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function aB(t){return{matched:!0,parameters:t.length>0?jS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kS(t,e,n,r){return n.length>0&&uB(t,n,r)?{segmentGroup:new K(e,lB(r,new K(n,t.children))),slicedSegments:[]}:n.length===0&&dB(t,n,r)?{segmentGroup:new K(t.segments,cB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new K(t.segments,t.children),slicedSegments:n}}function cB(t,e,n,r){let i={};for(let o of n)if(tf(t,e,o)&&!r[qt(o)]){let s=new K([],{});i[qt(o)]=s}return I(I({},r),i)}function lB(t,e){let n={};n[P]=e;for(let r of t)if(r.path===""&&qt(r)!==P){let i=new K([],{});n[qt(r)]=i}return n}function uB(t,e,n){return n.some(r=>tf(t,e,r)&&qt(r)!==P)}function dB(t,e,n){return n.some(r=>tf(t,e,r))}function tf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fB(t,e,n){return e.length===0&&!t.children[n]}var ay=class{};function hB(t,e,n,r,i,o,s="emptyOnly"){return new cy(t,e,n,r,i,s,o).recognize()}var pB=31,cy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new oy(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=kS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(({children:n,rootSnapshot:r})=>{let i=new Et(r,n),o=new $a("",i),s=KS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ii([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,P,n).pipe(F(r=>({children:r,rootSnapshot:n})),pr(r=>{if(r instanceof Ga)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof za?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(F(s=>s instanceof Et?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ce(o).pipe(gr(s=>{let a=r.children[s],c=Rj(n,s);return this.processSegmentGroup(e,c,a,s,i)}),cg((s,a)=>(s.push(...a),s)),mr(null),ag(),Ae(s=>{if(s===null)return Bo(r);let a=uA(s);return gB(a),T(a)}))}processSegment(e,n,r,i,o,s,a){return ce(n).pipe(gr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(pr(l=>{if(l instanceof za)return T(null);throw l}))),Ln(c=>!!c),pr(c=>{if(aA(c))return fB(r,i,o)?T(new ay):Bo(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return qt(r)!==s&&(s===P||!tf(i,o,r))?Bo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Bo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=lA(n,i,o);if(!c)return Bo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pB&&(this.allowRedirects=!1));let h=new Ii(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,FS(i),qt(i),i.component??i._loadedComponent??null,i,LS(i)),g=Zd(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Ae(E=>this.processSegment(e,r,n,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=sB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(pt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new Ii(f,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,FS(r),qt(r),r.component??r._loadedComponent??null,r,LS(r)),v=Zd(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:E,slicedSegments:A}=kS(n,f,h,l);if(A.length===0&&E.hasChildren())return this.processChildren(u,l,E,g).pipe(F($=>new Et(g,$)));if(l.length===0&&A.length===0)return T(new Et(g,[]));let be=qt(r)===o;return this.processSegment(u,l,E,A,be?P:o,!0,g).pipe(F($=>new Et(g,$ instanceof Et?[$]:[])))}))):Bo(n)))}getChildConfig(e,n,r){return n.children?T({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):nB(e,n,r,this.urlSerializer).pipe(Ae(i=>i?this.configLoader.loadChildren(e,n).pipe(Me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):oB(n))):T({routes:[],injector:e})}};function gB(t){t.sort((e,n)=>e.value.outlet===P?-1:n.value.outlet===P?1:e.value.outlet.localeCompare(n.value.outlet))}function mB(t){let e=t.value.routeConfig;return e&&e.path===""}function uA(t){let e=[],n=new Set;for(let r of t){if(!mB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=uA(r.children);e.push(new Et(r.value,i))}return e.filter(r=>!n.has(r))}function FS(t){return t.data||{}}function LS(t){return t.resolve||{}}function vB(t,e,n,r,i,o){return Ae(s=>hB(t,e,n,r,s.extractedUrl,i,o).pipe(F(({state:a,tree:c})=>L(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function yB(t,e){return Ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return T(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of dA(c))s.add(l);let a=0;return ce(s).pipe(gr(c=>o.has(c)?_B(c,r,t,e):(c.data=Zd(c,c.parent,t).resolve,T(void 0))),Me(()=>a++),co(1),Ae(c=>a===s.size?T(n):Je))})}function dA(t){let e=t.children.map(n=>dA(n)).flat();return[t,...e]}function _B(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!nA(i)&&(o[qa]=i.title),EB(o,t,e,r).pipe(F(s=>(t._resolvedData=s,t.data=Zd(t,t.parent,n).resolve,null)))}function EB(t,e,n,r){let i=Zv(t);if(i.length===0)return T({});let o={};return ce(i).pipe(Ae(s=>IB(t[s],e,n,r).pipe(Ln(),Me(a=>{if(a instanceof Yo)throw Qd(new Ci,a);o[s]=a}))),co(1),F(()=>o),pr(s=>aA(s)?Je:so(s)))}function IB(t,e,n,r){let i=Ka(e)??r,o=Qo(t,i),s=o.resolve?o.resolve(e,n):Be(i,()=>o(e,n));return Mr(s)}function Yv(t){return pt(e=>{let n=t(e);return n?ce(n).pipe(F(()=>e)):T(e)})}var uy=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===P);return r}getResolvedTitleForRoute(n){return n.data[qa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>m(fA),providedIn:"root"})}return t})(),fA=(()=>{class t extends uy{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(S(AS))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ja=new w("",{providedIn:"root",factory:()=>({})}),dy=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=pn({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_t(0,"router-outlet")},dependencies:[Za],encapsulation:2})}return t})();function fy(t){let e=t.children&&t.children.map(fy),n=e?L(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=dy),n}var Xa=new w(""),hA=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(DT);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return T(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Mr(n.loadComponent()).pipe(F(gA),Me(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Qr(()=>{this.componentLoaders.delete(n)})),i=new no(r,()=>new Te).pipe(to());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pA(r,this.compiler,n,this.onLoadEndListener).pipe(Qr(()=>{this.childrenLoaders.delete(r)})),s=new no(o,()=>new Te).pipe(to());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pA(t,e,n,r){return Mr(t.loadChildren()).pipe(F(gA),Ae(i=>i instanceof dv||Array.isArray(i)?T(i):ce(e.compileModuleAsync(i))),F(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Xa,[],{optional:!0,self:!0}).flat()),{routes:s.map(fy),injector:o}}))}function wB(t){return t&&typeof t=="object"&&"default"in t}function gA(t){return wB(t)?t.default:t}var nf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>m(CB),providedIn:"root"})}return t})(),CB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mA=new w("");var vA=new w(""),yA=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Te;transitionAbortSubject=new Te;configLoader=m(hA);environmentInjector=m(je);destroyRef=m(Ro);urlSerializer=m(Ya);rootContexts=m(Zo);location=m(Fo);inputBindingEnabled=m(ef,{optional:!0})!==null;titleStrategy=m(uy);options=m(Ja,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(nf);createViewTransition=m(mA,{optional:!0});navigationErrorHandler=m(vA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Hd(i)),r=i=>this.events.next(new $d(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(L(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Se(null),this.transitions.pipe(ht(r=>r!==null),pt(r=>{let i=!1,o=!1;return T(r).pipe(pt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",st.SupersededByNewNavigation),Je;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?L(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Jn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ua.IgnoredSameUrlNavigation)),s.resolve(!1),Je}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return T(s).pipe(pt(l=>(this.events.next(new bi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Je:Promise.resolve(l))),vB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=L(I({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new ja(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:f,extras:h}=s,g=new bi(l,this.urlSerializer.serialize(u),d,f);this.events.next(g);let v=eA(this.rootComponentType).snapshot;return this.currentTransition=r=L(I({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:L(I({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,T(r)}else{let l="";return this.events.next(new Jn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ua.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Je}}),Me(s=>{let a=new Vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),F(s=>(this.currentTransition=r=L(I({},s),{guards:Lj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Yj(this.environmentInjector,s=>this.events.next(s)),Me(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qd(this.urlSerializer,s.guardsResult);let a=new Ud(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ht(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",st.GuardRejected),!1)),Yv(s=>{if(s.guards.canActivateChecks.length!==0)return T(s).pipe(Me(a=>{let c=new jd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),pt(a=>{let c=!1;return T(a).pipe(yB(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",st.NoDataFromResolver)}}))}),Me(a=>{let c=new Bd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Yv(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Me(u=>{c.component=u}),F(()=>{})));for(let u of c.children)l.push(...a(u));return l};return $l(a(s.targetSnapshot.root)).pipe(mr(null),Fn(1))}),Yv(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ce(c).pipe(F(()=>r)):T(r)}),F(s=>{let a=Oj(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=L(I({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Me(()=>{this.events.next(new Ba)}),Fj(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Fn(1),Me({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ug(this.transitionAbortSubject.pipe(Me(s=>{throw s}))),Qr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",st.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),pr(s=>{if(this.destroyed)return r.resolve(!1),Je;if(o=!0,sA(s))this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),kj(s)?this.events.next(new qo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Go(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Yo){let{message:l,cancellationCode:u}=Qd(this.urlSerializer,c);this.events.next(new vn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new qo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Je}))}))}cancelNavigationTransition(n,r,i){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bB(t){return t!==kd}var _A=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>m(DB),providedIn:"root"})}return t})(),Xd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},DB=(()=>{class t extends Xd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mo(t)))(i||t)}})();static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EA=(()=>{class t{urlSerializer=m(Ya);options=m(Ja,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Fo);urlHandlingStrategy=m(nf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof yn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=eA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:()=>m(TB),providedIn:"root"})}return t})(),TB=(()=>{class t extends EA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof bi?this.updateStateMemento():n instanceof Jn?this.commitTransition(r):n instanceof ja?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ba?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof vn&&(n.code===st.GuardRejected||n.code===st.NoDataFromResolver)?this.restoreHistory(r):n instanceof Go?this.restoreHistory(r,!0):n instanceof Qn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mo(t)))(i||t)}})();static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hy(t,e){t.events.pipe(ht(n=>n instanceof Qn||n instanceof vn||n instanceof Go||n instanceof Jn),F(n=>n instanceof Qn||n instanceof Jn?0:(n instanceof vn?n.code===st.Redirect||n.code===st.SupersededByNewNavigation:!1)?2:1),ht(n=>n!==2),Fn(1)).subscribe(()=>{e()})}var SB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(fv);stateManager=m(EA);options=m(Ja,{optional:!0})||{};pendingTasks=m(hn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(yA);urlSerializer=m(Ya);location=m(Fo);urlHandlingStrategy=m(nf);_events=new Te;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(_A);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Xa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ef,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vn&&r.code!==st.Redirect&&r.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qn)this.navigated=!0;else if(r instanceof qo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bB(i.source)},s);this.scheduleNavigation(a,kd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}RB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=ZS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return QS(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=zo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kd,null,r)}navigate(n,r={skipLocationChange:!1}){return MB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},SB):r===!1?i=I({},AB):i=r,zo(n))return NS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return NS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return hy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function RB(t){return!(t instanceof Ba)&&!(t instanceof qo)}var PB=new w("");function py(t,...e){return Ir([{provide:Xa,multi:!0,useValue:t},[],{provide:Ar,useFactory:xB,deps:[Rr]},{provide:vi,multi:!0,useFactory:kB},e.map(n=>n.\u0275providers)])}function xB(t){return t.routerState.root}function kB(){let t=m(nt);return e=>{let n=t.get(rt);if(e!==n.components[0])return;let r=t.get(Rr),i=t.get(FB);t.get(LB)===1&&r.initialNavigation(),t.get(VB,null,k.Optional)?.setUpPreloading(),t.get(PB,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var FB=new w("",{factory:()=>new Te}),LB=new w("",{providedIn:"root",factory:()=>1});var VB=new w("");var RA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(U(ma),U(No))};static \u0275dir=$e({type:t})}return t})(),NA=(()=>{class t extends RA{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mo(t)))(i||t)}})();static \u0275dir=$e({type:t,features:[Wn]})}return t})(),Ey=new w(""),jB={provide:Ey,useExisting:ui(()=>Iy),multi:!0},Iy=(()=>{class t extends NA{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Mo(t)))(i||t)}})();static \u0275dir=$e({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&zn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ea([jB]),Wn]})}return t})(),BB={provide:Ey,useExisting:ui(()=>ns),multi:!0};function HB(){let t=Rt()?Rt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $B=new w(""),ns=(()=>{class t extends RA{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!HB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(U(ma),U(No),U($B,8))};static \u0275dir=$e({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&zn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ea([BB]),Wn]})}return t})();function wy(t){return t==null||Cy(t)===0}function Cy(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var OA=new w(""),PA=new w(""),WB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xn=class{static min(e){return zB(e)}static max(e){return GB(e)}static required(e){return qB(e)}static requiredTrue(e){return YB(e)}static email(e){return KB(e)}static minLength(e){return ZB(e)}static maxLength(e){return QB(e)}static pattern(e){return JB(e)}static nullValidator(e){return xA()}static compose(e){return jA(e)}static composeAsync(e){return HA(e)}};function zB(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function GB(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function qB(t){return wy(t.value)?{required:!0}:null}function YB(t){return t.value===!0?null:{required:!0}}function KB(t){return wy(t.value)||WB.test(t.value)?null:{email:!0}}function ZB(t){return e=>{let n=e.value?.length??Cy(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function QB(t){return e=>{let n=e.value?.length??Cy(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function JB(t){if(!t)return xA;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(wy(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function xA(t){return null}function kA(t){return t!=null}function FA(t){return mi(t)?ce(t):t}function LA(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function VA(t,e){return e.map(n=>n(t))}function XB(t){return!t.validate}function UA(t){return t.map(e=>XB(e)?e:n=>e.validate(n))}function jA(t){if(!t)return null;let e=t.filter(kA);return e.length==0?null:function(n){return LA(VA(n,e))}}function BA(t){return t!=null?jA(UA(t)):null}function HA(t){if(!t)return null;let e=t.filter(kA);return e.length==0?null:function(n){let r=VA(n,e).map(FA);return sg(r).pipe(F(LA))}}function $A(t){return t!=null?HA(UA(t)):null}function wA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WA(t){return t._rawValidators}function zA(t){return t._rawAsyncValidators}function gy(t){return t?Array.isArray(t)?t:[t]:[]}function sf(t,e){return Array.isArray(t)?t.includes(e):t===e}function CA(t,e){let n=gy(e);return gy(t).forEach(i=>{sf(n,i)||n.push(i)}),n}function bA(t,e){return gy(e).filter(n=>!sf(t,n))}var af=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$A(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},es=class extends af{name;get formDirective(){return null}get path(){return null}},ic=class extends af{_parent=null;name=null;valueAccessor=null},cf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},eH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},LJ=L(I({},eH),{"[class.ng-submitted]":"isSubmitted"}),hf=(()=>{class t extends cf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(U(ic,2))};static \u0275dir=$e({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&id("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Wn]})}return t})(),pf=(()=>{class t extends cf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(U(es,10))};static \u0275dir=$e({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&id("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Wn]})}return t})();var ec="VALID",rf="INVALID",Jo="PENDING",tc="DISABLED",Nr=class{},lf=class extends Nr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},nc=class extends Nr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},rc=class extends Nr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Xo=class extends Nr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},my=class extends Nr{source;constructor(e){super(),this.source=e}},vy=class extends Nr{source;constructor(e){super(),this.source=e}};function by(t){return(gf(t)?t.validators:t)||null}function tH(t){return Array.isArray(t)?BA(t):t||null}function Dy(t,e){return(gf(e)?e.asyncValidators:t)||null}function nH(t){return Array.isArray(t)?$A(t):t||null}function gf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function GA(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function qA(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var ts=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gn(this.statusReactive)}set status(e){gn(()=>this.statusReactive.set(e))}_status=yi(()=>this.statusReactive());statusReactive=hi(void 0);get valid(){return this.status===ec}get invalid(){return this.status===rf}get pending(){return this.status==Jo}get disabled(){return this.status===tc}get enabled(){return this.status!==tc}errors;get pristine(){return gn(this.pristineReactive)}set pristine(e){gn(()=>this.pristineReactive.set(e))}_pristine=yi(()=>this.pristineReactive());pristineReactive=hi(!0);get dirty(){return!this.pristine}get touched(){return gn(this.touchedReactive)}set touched(e){gn(()=>this.touchedReactive.set(e))}_touched=yi(()=>this.touchedReactive());touchedReactive=hi(!1);get untouched(){return!this.touched}_events=new Te;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bA(e,this._rawAsyncValidators))}hasValidator(e){return sf(this._rawValidators,e)}hasAsyncValidator(e){return sf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(L(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new rc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(L(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new nc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new nc(!0,r))}markAsPending(e={}){this.status=Jo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(L(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=tc,this.errors=null,this._forEachChild(i=>{i.disable(L(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lf(this.value,r)),this._events.next(new Xo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ec,this._forEachChild(r=>{r.enable(L(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(L(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ec||this.status===Jo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lf(this.value,n)),this._events.next(new Xo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(L(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tc:ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=FA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?tc:this.errors?rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(rf)?rf:ec}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new nc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new rc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nH(this._rawAsyncValidators)}},uf=class extends ts{constructor(e,n,r){super(by(n),Dy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){qA(this,!0,e),Object.keys(e).forEach(r=>{GA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yy=class extends uf{};var Ty=new w("",{providedIn:"root",factory:()=>mf}),mf="always";function rH(t,e){return[...e.path,t]}function DA(t,e,n=mf){Sy(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oH(t,e),aH(t,e),sH(t,e),iH(t,e)}function TA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ff(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function df(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Sy(t,e){let n=WA(t);e.validator!==null?t.setValidators(wA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=zA(t);e.asyncValidator!==null?t.setAsyncValidators(wA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();df(e._rawValidators,i),df(e._rawAsyncValidators,i)}function ff(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=WA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=zA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return df(e._rawValidators,r),df(e._rawAsyncValidators,r),n}function oH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&YA(t,e)})}function sH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&YA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function YA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cH(t,e){t==null,Sy(t,e)}function lH(t,e){return ff(t,e)}function uH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function dH(t){return Object.getPrototypeOf(t.constructor)===NA}function fH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ns?n=o:dH(o)?r=o:i=o}),i||r||n||null}function pH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var of=class extends ts{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(by(n),Dy(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gH=t=>t instanceof of;var vf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=$e({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var KA=new w("");var mH={provide:es,useExisting:ui(()=>oc)},oc=(()=>{class t extends es{callSetDisabledState;get submitted(){return gn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=yi(()=>this._submittedReactive());_submittedReactive=hi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ge;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ff(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return DA(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){TA(n.control||null,n,!1),pH(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),fH(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new my(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new vy(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(TA(r||null,n),gH(i)&&(DA(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);cH(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&lH(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sy(this.form,this),this._oldForm&&ff(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(U(OA,10),U(PA,10),U(Ty,8))};static \u0275dir=$e({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&zn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ea([mH]),Wn,So]})}return t})();var vH={provide:ic,useExisting:ui(()=>sc)},sc=(()=>{class t extends ic{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new ge;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hH(this,o)}ngOnChanges(n){this._added||this._setUpControl(),uH(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return rH(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(U(es,13),U(OA,10),U(PA,10),U(Ey,10),U(KA,8))};static \u0275dir=$e({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ea([vH]),Wn,So]})}return t})();var ZA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Hn({})}return t})(),_y=class extends ts{constructor(e,n,r){super(by(n),Dy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){qA(this,!1,e),e.forEach((r,i)=>{GA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function MA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var yf=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return MA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new uf(i,o)}record(n,r=null){let i=this._reduceControls(n);return new yy(i,r)}control(n,r,i){let o={};return this.useNonNullable?(MA(r)?o=r:(o.validators=r,o.asyncValidators=i),new of(n,L(I({},o),{nonNullable:!0}))):new of(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new _y(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof of)return n;if(n instanceof ts)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ty,useValue:n.callSetDisabledState??mf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Hn({imports:[ZA]})}return t})(),_f=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:KA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ty,useValue:n.callSetDisabledState??mf}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=Hn({imports:[ZA]})}return t})();var e_={};YN(e_,{FirebaseError:()=>Fe,SDK_VERSION:()=>Kt,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>ds,_addOrOverwriteComponent:()=>Qy,_apps:()=>xr,_clearComponents:()=>v$,_components:()=>us,_getProvider:()=>Ri,_isFirebaseApp:()=>T0,_isFirebaseServerApp:()=>ie,_registerComponent:()=>Yt,_removeServiceInstance:()=>m$,_serverApps:()=>ls,deleteApp:()=>Pf,getApp:()=>hc,getApps:()=>S0,initializeApp:()=>Of,initializeServerApp:()=>_$,onLog:()=>Jy,registerVersion:()=>Le,setLogLevel:()=>Xy});var XA=()=>{};var My={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(t,e){if(!t)throw Ti(e)},Ti=function(t){return new Error("Firebase Database ("+My.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var t0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},If={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Ry;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ry=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Oy=function(t){let e=t0(t);return If.encodeByteArray(e,!0)},ac=function(t){return Oy(t).replace(/\./g,"")},Di=function(t){try{return If.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n0(t){return is(void 0,t)}function is(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!_H(n)||(t[n]=is(t[n],e[n]));return t}function _H(t){return t!=="__proto__"}function Py(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EH=()=>Py().__FIREBASE_DEFAULTS__,IH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},wH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Di(t[1]);return e&&JSON.parse(e)},wf=()=>{try{return XA()||EH()||IH()||wH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xy=t=>{var e,n;return(n=(e=wf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r0=t=>{let e=xy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ky=()=>{var t;return(t=wf())===null||t===void 0?void 0:t.config},Fy=t=>{var e;return(e=wf())===null||e===void 0?void 0:e[`_${t}`]};var Or=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function i0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ac(JSON.stringify(n)),ac(JSON.stringify(s)),""].join(".")}function ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function Ly(){var t;let e=(t=wf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o0(){return typeof window<"u"||Vy()}function Vy(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function s0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cf(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Si(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bf(){let t=ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _n(){return My.NODE_CLIENT===!0||My.NODE_ADMIN===!0}function os(){try{return typeof indexedDB=="object"}catch{return!1}}function a0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var CH="FirebaseError",Fe=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}},Ot=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?bH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fe(i,a,r)}};function bH(t,e){return t.replace(DH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var DH=/\{\$([^}]+)}/g;function rs(t){return JSON.parse(t)}function Ie(t){return JSON.stringify(t)}var c0=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=rs(Di(o[0])||""),n=rs(Di(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var l0=function(t){let e=c0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u0=function(t){let e=c0(t).claims;return typeof e=="object"&&e.admin===!0};function wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ai(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uc(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function En(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(e0(o)&&e0(s)){if(!En(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function e0(t){return t!==null&&typeof t=="object"}function er(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pr(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ss(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Ef=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function Df(t,e){let n=new Ny(t,e);return n.subscribe.bind(n)}var Ny=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ay),i.error===void 0&&(i.error=Ay),i.complete===void 0&&(i.complete=Ay);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TH(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ay(){}function Tf(t,e){return`${t} failed: ${e} argument `}var d0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dc=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var HJ=4*60*60*1e3;function M(t){return t&&t._delegate?t._delegate:t}function as(t){return t.endsWith(".cloudworkstations.dev")}function Sf(t){return p(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}var Ge=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mi="[DEFAULT]";var Af=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Or;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AH(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SH(t){return t===Mi?void 0:t}function AH(t){return t.instantiationMode==="EAGER"}var cs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Af(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Uy=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),f0={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},MH=Q.INFO,RH={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},NH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=RH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},In=class{constructor(e){this.name=e,this._logLevel=MH,this._logHandler=NH,this._userLogHandler=null,Uy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};function h0(t){Uy.forEach(e=>{e.setLogLevel(t)})}function p0(t,e){for(let n of Uy){let r=null;e&&e.level&&(r=f0[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{let a=s.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:Q[o].toLowerCase(),message:a,args:s,type:i.name})}}}var OH=(t,e)=>e.some(n=>t instanceof n),g0,m0;function PH(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xH(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var v0=new WeakMap,By=new WeakMap,y0=new WeakMap,jy=new WeakMap,$y=new WeakMap;function kH(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(wn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&v0.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function FH(t){if(By.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});By.set(t,e)}var Hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _0(t){Hy=t(Hy)}function LH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Mf(this),e,...n);return y0.set(r,e.sort?e.sort():[e]),wn(r)}:xH().includes(t)?function(...e){return t.apply(Mf(this),e),wn(v0.get(this))}:function(...e){return wn(t.apply(Mf(this),e))}}function VH(t){return typeof t=="function"?LH(t):(t instanceof IDBTransaction&&FH(t),OH(t,PH())?new Proxy(t,Hy):t)}function wn(t){if(t instanceof IDBRequest)return kH(t);if(jy.has(t))return jy.get(t);let e=VH(t);return e!==t&&(jy.set(t,e),$y.set(e,t)),e}var Mf=t=>$y.get(t);function I0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=wn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(wn(s.result),c.oldVersion,c.newVersion,wn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var UH=["get","getKey","getAll","getAllKeys","count"],jH=["put","add","delete","clear"],Wy=new Map;function E0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wy.get(e))return Wy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=jH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UH.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Wy.set(e,o),o}_0(t=>L(I({},t),{get:(e,n,r)=>E0(e,n)||t.get(e,n,r),has:(e,n)=>!!E0(e,n)||t.has(e,n)}));var Gy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BH(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function BH(t){let e=t.getComponent();return e?.type==="VERSION"}var Rf="@firebase/app",qy="0.12.1";var tr=new In("@firebase/app"),HH="@firebase/app-compat",$H="@firebase/analytics-compat",WH="@firebase/analytics",zH="@firebase/app-check-compat",GH="@firebase/app-check",qH="@firebase/auth",YH="@firebase/auth-compat",KH="@firebase/database",ZH="@firebase/data-connect",QH="@firebase/database-compat",JH="@firebase/functions",XH="@firebase/functions-compat",e$="@firebase/installations",t$="@firebase/installations-compat",n$="@firebase/messaging",r$="@firebase/messaging-compat",i$="@firebase/performance",o$="@firebase/performance-compat",s$="@firebase/remote-config",a$="@firebase/remote-config-compat",c$="@firebase/storage",l$="@firebase/storage-compat",u$="@firebase/firestore",d$="@firebase/vertexai",f$="@firebase/firestore-compat",h$="firebase",p$="11.7.1";var Cn="[DEFAULT]",g$={[Rf]:"fire-core",[HH]:"fire-core-compat",[WH]:"fire-analytics",[$H]:"fire-analytics-compat",[GH]:"fire-app-check",[zH]:"fire-app-check-compat",[qH]:"fire-auth",[YH]:"fire-auth-compat",[KH]:"fire-rtdb",[ZH]:"fire-data-connect",[QH]:"fire-rtdb-compat",[JH]:"fire-fn",[XH]:"fire-fn-compat",[e$]:"fire-iid",[t$]:"fire-iid-compat",[n$]:"fire-fcm",[r$]:"fire-fcm-compat",[i$]:"fire-perf",[o$]:"fire-perf-compat",[s$]:"fire-rc",[a$]:"fire-rc-compat",[c$]:"fire-gcs",[l$]:"fire-gcs-compat",[u$]:"fire-fst",[f$]:"fire-fst-compat",[d$]:"fire-vertex","fire-js":"fire-js",[h$]:"fire-js-all"};var xr=new Map,ls=new Map,us=new Map;function ds(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qy(t,e){t.container.addOrOverwriteComponent(e)}function Yt(t){let e=t.name;if(us.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;us.set(e,t);for(let n of xr.values())ds(n,t);for(let n of ls.values())ds(n,t);return!0}function Ri(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function m$(t,e,n=Cn){Ri(t,e).clearInstance(n)}function T0(t){return t.options!==void 0}function ie(t){return t==null?!1:t.settings!==void 0}function v$(){us.clear()}var y$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pt=new Ot("app","Firebase",y$);var Nf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pt.create("app-deleted",{appName:this._name})}};function w0(t,e){let n=Di(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}let i=JSON.parse(n).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}var Yy=class extends Nf{constructor(e,n,r,i){let o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{let a=e;super(a.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._serverConfig.authIdToken&&w0(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&w0(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Le(Rf,qy,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Pf(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pt.create("server-app-deleted")}};var Kt=p$;function Of(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pt.create("bad-app-name",{appName:String(i)});if(n||(n=ky()),!n)throw Pt.create("no-options");let o=xr.get(i);if(o){if(En(n,o.options)&&En(r,o.config))return o;throw Pt.create("duplicate-app",{appName:i})}let s=new cs(i);for(let c of us.values())s.addComponent(c);let a=new Nf(n,r,s);return xr.set(i,a),a}function _$(t,e){if(o0()&&!Vy())throw Pt.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;T0(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=l=>[...l].reduce((u,d)=>Math.imul(31,u)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Pt.create("finalization-registry-not-supported",{});let o=""+i(JSON.stringify(r)),s=ls.get(o);if(s)return s.incRefCount(e.releaseOnDeref),s;let a=new cs(o);for(let l of us.values())a.addComponent(l);let c=new Yy(n,e,o,a);return ls.set(o,c),c}function hc(t=Cn){let e=xr.get(t);if(!e&&t===Cn&&ky())return Of();if(!e)throw Pt.create("no-app",{appName:t});return e}function S0(){return Array.from(xr.values())}function Pf(t){return p(this,null,function*(){let e=!1,n=t.name;xr.has(n)?(e=!0,xr.delete(n)):ls.has(n)&&t.decRefCount()<=0&&(ls.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function Le(t,e,n){var r;let i=(r=g$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(a.join(" "));return}Yt(new Ge(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Jy(t,e){if(t!==null&&typeof t!="function")throw Pt.create("invalid-log-argument");p0(t,e)}function Xy(t){h0(t)}var E$="firebase-heartbeat-database",I$=1,fc="firebase-heartbeat-store",zy=null;function A0(){return zy||(zy=I0(E$,I$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pt.create("idb-open",{originalErrorMessage:t.message})})),zy}function w$(t){return p(this,null,function*(){try{let n=(yield A0()).transaction(fc),r=yield n.objectStore(fc).get(M0(t));return yield n.done,r}catch(e){if(e instanceof Fe)tr.warn(e.message);else{let n=Pt.create("idb-get",{originalErrorMessage:e?.message});tr.warn(n.message)}}})}function C0(t,e){return p(this,null,function*(){try{let r=(yield A0()).transaction(fc,"readwrite");yield r.objectStore(fc).put(e,M0(t)),yield r.done}catch(n){if(n instanceof Fe)tr.warn(n.message);else{let r=Pt.create("idb-set",{originalErrorMessage:n?.message});tr.warn(r.message)}}})}function M0(t){return`${t.name}!${t.options.appId}`}var C$=1024,b$=30,Ky=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Zy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=b0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>b$){let s=T$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){tr.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=b0(),{heartbeatsToSend:r,unsentEntries:i}=D$(this._heartbeatsCache.heartbeats),o=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return tr.warn(n),""}})}};function b0(){return new Date().toISOString().substring(0,10)}function D$(t,e=C$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),D0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Zy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return os()?a0().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield w$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function D0(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}function T$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function S$(t){Yt(new Ge("platform-logger",e=>new Gy(e),"PRIVATE")),Yt(new Ge("heartbeat",e=>new Ky(e),"PRIVATE")),Le(Rf,qy,t),Le(Rf,qy,"esm2017"),Le("fire-js","")}S$("");var Ur={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var sr={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function A$(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Qf=A$,O_=Y0,K0=new Ot("auth","Firebase",Y0());var Lf=new In("@firebase/auth");function M$(t,...e){Lf.logLevel<=Q.WARN&&Lf.warn(`Auth (${Kt}): ${t}`,...e)}function kf(t,...e){Lf.logLevel<=Q.ERROR&&Lf.error(`Auth (${Kt}): ${t}`,...e)}function ye(t,...e){throw x_(t,...e)}function Ce(t,...e){return x_(t,...e)}function P_(t,e,n){let r=Object.assign(Object.assign({},O_()),{[e]:n});return new Ot("auth","Firebase",r).create(e,{appName:t.name})}function Ve(t){return P_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ms(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ye(t,"argument-error"),P_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K0.create(t,...e)}function y(t,e,...n){if(!t)throw x_(e,...n)}function bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function xt(t,e){t||bn(e)}function Ic(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k_(){return R0()==="http:"||R0()==="https:"}function R0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function R$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k_()||Cf()||"connection"in navigator)?navigator.onLine:!0}function N$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ni=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xt(n>e,"Short delay should be less than long delay!"),this.isMobile=cc()||Si()}get(){return R$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function F_(t,e){xt(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var wc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var O$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var P$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x$=new Ni(3e4,6e4);function fe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function he(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return Z0(t,i,()=>p(null,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=er(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return s0()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&as(t.emulatorConfig.host)&&(h.credentials="include"),wc.fetch()(yield Q0(t,t.config.apiHost,n,d),h)}))})}function Z0(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},O$),e);try{let i=new s_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw gc(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw P_(t,u,l);ye(t,u)}}catch(i){if(i instanceof Fe)throw i;ye(t,"network-request-failed",{message:String(i)})}})}function ar(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield he(t,e,n,r,i);return"mfaPendingCredential"in l&&ye(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Q0(t,e,n,r){return p(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?F_(t.config,i):`${t.config.apiScheme}://${i}`;return P$.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function k$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var s_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ce(this.auth,"network-request-failed")),x$.get())})}};function gc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ce(t,e,r);return i.customData._tokenResponse=n,i}function N0(t){return t!==void 0&&t.getResponse!==void 0}function O0(t){return t!==void 0&&t.enterprise!==void 0}var Vf=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return k$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function F$(t){return p(this,null,function*(){return(yield he(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function J0(t,e){return p(this,null,function*(){return he(t,"GET","/v2/recaptchaConfig",fe(t,e))})}function L$(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:delete",e)})}function V$(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:update",e)})}function Uf(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:lookup",e)})}function mc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function L_(t,e=!1){return p(this,null,function*(){let n=M(t),r=yield n.getIdToken(e),i=Jf(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:mc(t_(i.auth_time)),issuedAtTime:mc(t_(i.iat)),expirationTime:mc(t_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function t_(t){return Number(t)*1e3}function Jf(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Di(n);return i?JSON.parse(i):(kf("Failed to decode base64 JWT payload"),null)}catch(i){return kf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function P0(t){let e=Jf(t);return y(e,"internal-error"),y(typeof e.exp<"u","internal-error"),y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ir(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Fe&&U$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function U$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var a_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Cc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bc(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ir(t,Uf(n,{idToken:r}));y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?X0(o.providerUserInfo):[],a=j$(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Cc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function V_(t){return p(this,null,function*(){let e=M(t);yield bc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function j$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function X0(t){return t.map(e=>{var{providerId:n}=e,r=Ml(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function B$(t,e){return p(this,null,function*(){let n=yield Z0(t,{},()=>p(null,null,function*(){let r=er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield Q0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function H$(t,e){return p(this,null,function*(){return he(t,"POST","/v2/accounts:revokeToken",fe(t,e))})}var vc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(typeof e.idToken<"u","internal-error"),y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){y(e.length!==0,"internal-error");let n=P0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield B$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return bn("not implemented")}};function kr(t,e){y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var nr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ml(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield ir(this,this.stsTokenManager.getToken(this.auth,e));return y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return L_(this,e)}reload(){return V_(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(ie(this.auth.app))return Promise.reject(Ve(this.auth));let e=yield this.getIdToken();return yield ir(this,L$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,be=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:$,emailVerified:bt,isAnonymous:nn,providerData:Pn,stsTokenManager:js}=n;y($&&js,e,"internal-error");let HN=vc.fromJSON(this.name,js);y(typeof $=="string",e,"internal-error"),kr(d,e.name),kr(f,e.name),y(typeof bt=="boolean",e,"internal-error"),y(typeof nn=="boolean",e,"internal-error"),kr(h,e.name),kr(g,e.name),kr(v,e.name),kr(E,e.name),kr(A,e.name),kr(be,e.name);let Ap=new t({uid:$,auth:e,email:f,emailVerified:bt,displayName:d,isAnonymous:nn,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:HN,createdAt:A,lastLoginAt:be});return Pn&&Array.isArray(Pn)&&(Ap.providerData=Pn.map($N=>Object.assign({},$N))),E&&(Ap._redirectEventId=E),Ap}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new vc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?X0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new vc;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var x0=new Map;function qe(t){xt(t instanceof Function,"Expected a class definition");let e=x0.get(t);return e?(xt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x0.set(t,e),e)}var $$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),or=$$;function Dn(t,e,n){return`firebase:${t}:${e}:${n}`}var jf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Dn(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dn("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Uf(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(qe(or),e,r);let i=(yield Promise.all(n.map(l=>p(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||qe(or),s=Dn(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield Uf(e,{idToken:u}).catch(()=>{});if(!f)break;d=yield nr._fromGetAccountInfoResponse(e,f,u)}else d=nr._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function k0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(oM(e))return"Webos";if(tM(e))return"Safari";if((e.includes("chrome/")||nM(e))&&!e.includes("edge/"))return"Chrome";if(vs(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eM(t=ve()){return/firefox\//i.test(t)}function tM(t=ve()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nM(t=ve()){return/crios\//i.test(t)}function rM(t=ve()){return/iemobile/i.test(t)}function vs(t=ve()){return/android/i.test(t)}function iM(t=ve()){return/blackberry/i.test(t)}function oM(t=ve()){return/webos/i.test(t)}function ys(t=ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sM(t=ve()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function W$(t=ve()){var e;return ys(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z$(){return bf()&&document.documentMode===10}function aM(t=ve()){return ys(t)||vs(t)||oM(t)||iM(t)||/windows phone/i.test(t)||rM(t)}function U_(t,e=[]){let n;switch(t){case"Browser":n=k0(ve());break;case"Worker":n=`${k0(ve())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kt}/${r}`}var c_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function G$(n){return p(this,arguments,function*(t,e={}){return he(t,"GET","/v2/passwordPolicy",fe(t,e))})}var q$=6,l_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:q$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Bf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hf(this),this.idTokenSubscription=new Hf(this),this.beforeStateQueue=new c_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qe(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield jf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield Uf(this,{idToken:e}),r=yield nr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(ie(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield bc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=N$()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(ie(this.app))return Promise.reject(Ve(this));let n=e?M(e):null;return n&&y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return ie(this.app)?Promise.reject(Ve(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ie(this.app)?Promise.reject(Ve(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(qe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield G$(this),n=new l_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ot("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield H$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qe(e)||this._popupRedirectResolver;y(n,this,"argument-error"),this.redirectPersistenceManager=yield jf.create(this,[qe(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;if(ie(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&M$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function oe(t){return M(t)}var Hf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Df(n=>this.observer=n)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mc={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y$(t){Mc=t}function j_(t){return Mc.loadJS(t)}function K$(){return Mc.recaptchaV2Script}function Z$(){return Mc.recaptchaEnterpriseScript}function Q$(){return Mc.gapiScript}function cM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var J$=500,X$=6e4,xf=1e12,u_=class{constructor(e){this.auth=e,this.counter=xf,this._widgets=new Map}render(e,n){let r=this.counter;return this._widgets.set(r,new h_(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;let r=e||xf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;let r=e||xf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return p(this,null,function*(){var n;let r=e||xf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""})}},d_=class{constructor(){this.enterprise=new f_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},f_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},h_=class{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;y(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=e2(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},X$)},J$))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function e2(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var t2="recaptcha-enterprise",yc="NO_RECAPTCHA",$f=class{constructor(e){this.type=t2,this.auth=oe(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(null,null,function*(){J0(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Vf(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;O0(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(yc)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&O0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Z$();c.length!==0&&(c+=a),j_(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function pc(t,e,n,r=!1,i=!1){return p(this,null,function*(){let o=new $f(t),s;if(i)s=yc;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Fr(t,e,n,r,i){return p(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield pc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>p(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield pc(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield pc(t,e,n);return r(t,a).catch(c=>p(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield pc(t,e,n,!1,!0);return r(t,u)}return Promise.reject(c)}))}else{let a=yield pc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function n2(t){return p(this,null,function*(){let e=oe(t),n=yield J0(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vf(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new $f(e).verify()})}function B_(t,e){let n=Ri(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(En(o,e??{}))return i;ye(i,"already-initialized")}return n.initialize({options:e})}function r2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qe);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Rc(t,e,n){let r=oe(t);y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=lM(e),{host:s,port:a}=i2(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),y(En(l,r.config.emulator)&&En(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||o2(),as(s)&&Sf(`${o}//${s}${c}`)}function lM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i2(t){let e=lM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:F0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:F0(s)}}}function F0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function o2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Zt=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}};function uM(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:resetPassword",fe(t,e))})}function s2(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:update",e)})}function a2(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:signUp",e)})}function c2(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:update",fe(t,e))})}function l2(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signInWithPassword",fe(t,e))})}function Xf(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:sendOobCode",fe(t,e))})}function u2(t,e){return p(this,null,function*(){return Xf(t,e)})}function d2(t,e){return p(this,null,function*(){return Xf(t,e)})}function f2(t,e){return p(this,null,function*(){return Xf(t,e)})}function h2(t,e){return p(this,null,function*(){return Xf(t,e)})}function p2(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))})}function g2(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signInWithEmailLink",fe(t,e))})}var fs=class t extends Zt{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fr(e,n,"signInWithPassword",l2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return p2(e,{email:this._email,oobCode:this._password});default:ye(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fr(e,r,"signUpPassword",a2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return g2(e,{idToken:n,email:this._email,oobCode:this._password});default:ye(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function rr(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signInWithIdp",fe(t,e))})}var m2="http://localhost",kt=class t extends Zt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ye("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ml(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return rr(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,rr(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,rr(e,n)}buildRequest(){let e={requestUri:m2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=er(n)}return e}};function L0(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:sendVerificationCode",fe(t,e))})}function v2(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e))})}function y2(t,e){return p(this,null,function*(){let n=yield ar(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,e));if(n.temporaryProof)throw gc(t,"account-exists-with-different-credential",n);return n})}var _2={USER_NOT_FOUND:"user-not-found"};function E2(t,e){return p(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ar(t,"POST","/v1/accounts:signInWithPhoneNumber",fe(t,n),_2)})}var Oi=class t extends Zt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return v2(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return y2(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return E2(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new t({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function I2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w2(t){let e=Pr(ss(t)).link,n=e?Pr(ss(e)).deep_link_id:null,r=Pr(ss(t)).deep_link_id;return(r?Pr(ss(r)).link:null)||r||n||e||t}var hs=class t{constructor(e){var n,r,i,o,s,a;let c=Pr(ss(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=I2((i=c.mode)!==null&&i!==void 0?i:null);y(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=w2(e);try{return new t(n)}catch{return null}}};var _s=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return fs._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=hs.parseLink(r);return y(i,"argument-error"),fs._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Qt=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vr=class extends Qt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Pi=class t extends Vr{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return y("providerId"in n&&"signInMethod"in n,"argument-error"),kt._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),kt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=e;if(!r&&!i&&!n&&!o||!a)return null;try{return new t(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}};var Nc=(()=>{class t extends Vr{constructor(){super("facebook.com")}static credential(n){return kt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Oc=(()=>{class t extends Vr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return kt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Pc=(()=>{class t extends Vr{constructor(){super("github.com")}static credential(n){return kt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),C2="http://localhost",xi=class t extends Zt{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return rr(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,rr(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,rr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new t(r,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:C2,returnSecureToken:!0,pendingToken:this.pendingToken}}};var b2="saml.",ps=class t extends Qt{constructor(e){y(e.startsWith(b2),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=xi.fromJSON(e);return y(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return xi._create(r,n)}catch{return null}}};var xc=(()=>{class t extends Vr{constructor(){super("twitter.com")}static credential(n,r){return kt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:r,oauthTokenSecret:i}=n;if(!r||!i)return null;try{return t.credential(r,i)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function dM(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signUp",fe(t,e))})}var Jt=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield nr._fromIdTokenResponse(e,r,i),s=V0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=V0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function V0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function eh(t){return p(this,null,function*(){var e;if(ie(t.app))return Promise.reject(Ve(t));let n=oe(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jt({user:n.currentUser,providerId:null,operationType:"signIn"});let r=yield dM(n,{returnSecureToken:!0}),i=yield Jt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})}var p_=class t extends Fe{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?p_._fromErrorAndOperation(t,o,e,r):o})}function hM(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function th(t,e){return p(this,null,function*(){let n=M(t);yield nh(!0,n,e);let{providerUserInfo:r}=yield V$(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),i=hM(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function H_(t,e,n=!1){return p(this,null,function*(){let r=yield ir(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jt._forOperation(t,"link",r)})}function nh(t,e,n){return p(this,null,function*(){yield bc(e);let r=hM(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";y(r.has(n)===t,e.auth,i)})}function pM(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(ie(r.app))return Promise.reject(Ve(r));let i="reauthenticate";try{let o=yield ir(t,fM(r,i,e,t),n);y(o.idToken,r,"internal-error");let s=Jf(o.idToken);y(s,r,"internal-error");let{sub:a}=s;return y(t.uid===a,r,"user-mismatch"),Jt._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ye(r,"user-mismatch"),o}})}function gM(t,e,n=!1){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let r="signIn",i=yield fM(t,r,e),o=yield Jt._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Li(t,e){return p(this,null,function*(){return gM(oe(t),e)})}function kc(t,e){return p(this,null,function*(){let n=M(t);return yield nh(!1,n,e.providerId),H_(n,e)})}function Fc(t,e){return p(this,null,function*(){return pM(M(t),e)})}function D2(t,e){return p(this,null,function*(){return ar(t,"POST","/v1/accounts:signInWithCustomToken",fe(t,e))})}function rh(t,e){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let n=oe(t),r=yield D2(n,{token:e,returnSecureToken:!0}),i=yield Jt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})}var ki=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?g_._fromServerResponse(e,n):"totpInfo"in n?m_._fromServerResponse(e,n):ye(e,"internal-error")}},g_=class t extends ki{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},m_=class t extends ki{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function ih(t,e,n){var r;y(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),y(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function $_(t){return p(this,null,function*(){let e=oe(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function oh(t,e,n){return p(this,null,function*(){let r=oe(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ih(r,i,n),yield Fr(r,i,"getOobCode",d2,"EMAIL_PASSWORD_PROVIDER")})}function sh(t,e,n){return p(this,null,function*(){yield uM(M(t),{oobCode:e,newPassword:n}).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&$_(t),r}))})}function ah(t,e){return p(this,null,function*(){yield c2(M(t),{oobCode:e})})}function Lc(t,e){return p(this,null,function*(){let n=M(t),r=yield uM(n,{oobCode:e}),i=r.requestType;switch(y(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":y(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":y(r.mfaInfo,n,"internal-error");default:y(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=ki._fromServerResponse(oe(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})}function ch(t,e){return p(this,null,function*(){let{data:n}=yield Lc(M(t),e);return n.email})}function lh(t,e,n){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let r=oe(t),s=yield Fr(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dM,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$_(t),c}),a=yield Jt._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Es(t,e,n){return ie(t.app)?Promise.reject(Ve(t)):Li(M(t),_s.credential(e,n)).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&$_(t),r}))}function uh(t,e,n){return p(this,null,function*(){let r=oe(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,a){y(a.handleCodeInApp,r,"argument-error"),a&&ih(r,s,a)}o(i,n),yield Fr(r,i,"getOobCode",f2,"EMAIL_PASSWORD_PROVIDER")})}function dh(t,e){let n=hs.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function fh(t,e,n){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let r=M(t),i=_s.credentialWithLink(e,n||Ic());return y(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Li(r,i)})}function T2(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:createAuthUri",fe(t,e))})}function hh(t,e){return p(this,null,function*(){let n=k_()?Ic():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield T2(M(t),r);return i||[]})}function ph(t,e){return p(this,null,function*(){let n=M(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&ih(n.auth,i,e);let{email:o}=yield u2(n.auth,i);o!==t.email&&(yield t.reload())})}function gh(t,e,n){return p(this,null,function*(){let r=M(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&ih(r.auth,o,n);let{email:s}=yield h2(r.auth,o);s!==t.email&&(yield t.reload())})}function S2(t,e){return p(this,null,function*(){return he(t,"POST","/v1/accounts:update",e)})}function mh(r,i){return p(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=M(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield ir(o,S2(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let l=o.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function vh(t,e){let n=M(t);return ie(n.auth.app)?Promise.reject(Ve(n.auth)):mM(n,e,null)}function yh(t,e){return mM(M(t),null,e)}function mM(t,e,n){return p(this,null,function*(){let{auth:r}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let s=yield ir(t,s2(r,o));yield t._updateTokensIfNecessary(s,!0)})}function A2(t){var e,n;if(!t)return null;let{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&t?.idToken){let s=(n=(e=Jf(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){let a=s!=="anonymous"&&s!=="custom"?s:null;return new Lr(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new v_(o,i);case"github.com":return new y_(o,i);case"google.com":return new __(o,i);case"twitter.com":return new E_(o,i,t.screenName||null);case"custom":case"anonymous":return new Lr(o,null);default:return new Lr(o,r,i)}}var Lr=class{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}},Wf=class extends Lr{constructor(e,n,r,i){super(e,n,r),this.username=i}},v_=class extends Lr{constructor(e,n){super(e,"facebook.com",n)}},y_=class extends Wf{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},__=class extends Lr{constructor(e,n){super(e,"google.com",n)}},E_=class extends Wf{constructor(e,n,r){super(e,"twitter.com",n,r)}};function _h(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:A2(n)}function Eh(t,e){return M(t).setPersistence(e)}function W_(t,e,n,r){return M(t).onIdTokenChanged(e,n,r)}function z_(t,e,n){return M(t).beforeAuthStateChanged(e,n)}function Is(t,e,n,r){return M(t).onAuthStateChanged(e,n,r)}var zf=class t{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var I_=class t{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){let r=oe(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(a=>ki._fromServerResponse(r,a));y(i.mfaPendingCredential,r,"internal-error");let s=zf._fromMfaPendingCredential(i.mfaPendingCredential);return new t(s,o,a=>p(null,null,function*(){let c=yield a._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;let l=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":let u=yield Jt._fromIdTokenResponse(r,n.operationType,l);return yield r._updateCurrentUser(u.user),u;case"reauthenticate":return y(n.user,r,"internal-error"),Jt._forOperation(n.user,n.operationType,l);default:ye(r,"internal-error")}}))}resolveSignIn(e){return p(this,null,function*(){let n=e;return this.signInResolver(n)})}};function Ih(t,e){var n;let r=M(t),i=e;return y(e.customData.operationType,r,"argument-error"),y((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),I_._fromError(r,i)}function U0(t,e){return he(t,"POST","/v2/accounts/mfaEnrollment:start",fe(t,e))}function M2(t,e){return he(t,"POST","/v2/accounts/mfaEnrollment:finalize",fe(t,e))}function R2(t,e){return he(t,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(t,e))}var w_=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>ki._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new t(e)}getSession(){return p(this,null,function*(){return zf._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return p(this,null,function*(){let r=e,i=yield this.getSession(),o=yield ir(this.user,r._process(this.user.auth,i,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return p(this,null,function*(){let n=typeof e=="string"?e:e.uid,r=yield this.user.getIdToken();try{let i=yield ir(this.user,R2(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(i),yield this.user.reload()}catch(i){throw i}})}},n_=new WeakMap;function wh(t){let e=M(t);return n_.has(e)||n_.set(e,w_._fromUser(e)),n_.get(e)}var Gf="__sak";var qf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var N2=1e3,O2=10,P2=(()=>{class t extends qf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);z$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,O2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Gr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Gr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Gr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Tn=P2;var x2=(()=>{class t extends qf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),at=x2;function k2(t){return Promise.all(t.map(e=>p(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var F2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield k2(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Vi(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var C_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Vi("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function we(){return window}function L2(t){we().location.href=t}function G_(){return typeof we().WorkerGlobalScope<"u"&&typeof we().importScripts=="function"}function V2(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function U2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j2(){return G_()?self:null}var vM="firebaseLocalStorageDb",B2=1,Yf="firebaseLocalStorage",yM="fbase_key",Fi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ch(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function H2(){let t=indexedDB.deleteDatabase(vM);return new Fi(t).toPromise()}function b_(){let t=indexedDB.open(vM,B2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yf,{keyPath:yM})}catch(i){n(i)}}),t.addEventListener("success",()=>p(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Yf)?e(r):(r.close(),yield H2(),e(yield b_()))}))})}function j0(t,e,n){return p(this,null,function*(){let r=Ch(t,!0).put({[yM]:e,value:n});return new Fi(r).toPromise()})}function $2(t,e){return p(this,null,function*(){let n=Ch(t,!1).get(e),r=yield new Fi(n).toPromise();return r===void 0?null:r.value})}function B0(t,e){let n=Ch(t,!0).delete(e);return new Fi(n).toPromise()}var W2=800,z2=3,G2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield b_(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>z2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return G_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=F2._getInstance(j2()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield V2(),!this.activeServiceWorker)return;this.sender=new C_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield b_();return yield j0(n,Gf,"1"),yield B0(n,Gf),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>j0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>$2(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>B0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Ch(o,!1).getAll();return new Fi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),W2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),cr=G2;function H0(t,e){return he(t,"POST","/v2/accounts/mfaSignIn:start",fe(t,e))}function q2(t,e){return he(t,"POST","/v2/accounts/mfaSignIn:finalize",fe(t,e))}var r_=cM("rcb"),Y2=new Ni(3e4,6e4),D_=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=we().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return y(K2(n),e,"argument-error"),this.shouldResolveImmediately(n)&&N0(we().grecaptcha)?Promise.resolve(we().grecaptcha):new Promise((r,i)=>{let o=we().setTimeout(()=>{i(Ce(e,"network-request-failed"))},Y2.get());we()[r_]=()=>{we().clearTimeout(o),delete we()[r_];let a=we().grecaptcha;if(!a||!N0(a)){i(Ce(e,"internal-error"));return}let c=a.render;a.render=(l,u)=>{let d=c(l,u);return this.counter++,d},this.hostLanguage=n,r(a)};let s=`${K$()}?${er({onload:r_,render:"explicit",hl:n})}`;j_(s).catch(()=>{clearTimeout(o),i(Ce(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=we().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function K2(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var T_=class{load(e){return p(this,null,function*(){return new u_(e)})}clearedOneInstance(){}};var _c="recaptcha",Z2={theme:"light",type:"image"},gs=class{constructor(e,n,r=Object.assign({},Z2)){this.parameters=r,this.type=_c,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oe(e),this.isInvisible=this.parameters.size==="invisible",y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof n=="string"?document.getElementById(n):n;y(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new T_:new D_,this.validateStartingState()}verify(){return p(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){let r=we()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return p(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return p(this,null,function*(){y(k_()&&!G_(),this.auth,"internal-error"),yield Q2(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield F$(this.auth);y(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Q2(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Dc=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=Oi._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function bh(t,e,n){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let r=oe(t),i=yield Sh(r,e,M(n));return new Dc(i,o=>Li(r,o))})}function Dh(t,e,n){return p(this,null,function*(){let r=M(t);yield nh(!1,r,"phone");let i=yield Sh(r.auth,e,M(n));return new Dc(i,o=>kc(r,o))})}function Th(t,e,n){return p(this,null,function*(){let r=M(t);if(ie(r.auth.app))return Promise.reject(Ve(r.auth));let i=yield Sh(r.auth,e,M(n));return new Dc(i,o=>Fc(r,o))})}function Sh(t,e,n){return p(this,null,function*(){var r;if(!t._getRecaptchaConfig())try{yield n2(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){y(o.type==="enroll",t,"internal-error");let s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Fr(t,s,"mfaSmsEnrollment",(u,d)=>p(null,null,function*(){if(d.phoneEnrollmentInfo.captchaResponse===yc){y(n?.type===_c,u,"argument-error");let f=yield i_(u,d,n);return U0(u,f)}return U0(u,d)}),"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{y(o.type==="signin",t,"internal-error");let s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;y(s,t,"missing-multi-factor-info");let a={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Fr(t,a,"mfaSmsSignIn",(d,f)=>p(null,null,function*(){if(f.phoneSignInInfo.captchaResponse===yc){y(n?.type===_c,d,"argument-error");let h=yield i_(d,f,n);return H0(d,h)}return H0(d,f)}),"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Fr(t,o,"sendVerificationCode",(l,u)=>p(null,null,function*(){if(u.captchaResponse===yc){y(n?.type===_c,l,"argument-error");let d=yield i_(l,u,n);return L0(l,d)}return L0(l,u)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{n?._reset()}})}function Ah(t,e){return p(this,null,function*(){let n=M(t);if(ie(n.auth.app))return Promise.reject(Ve(n.auth));yield H_(n,e)})}function i_(t,e,n){return p(this,null,function*(){y(n.type===_c,t,"argument-error");let r=yield n.verify();y(typeof r=="string",t,"argument-error");let i=Object.assign({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}var jr=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=oe(n)}verifyPhoneNumber(n,r){return Sh(this.auth,n,M(r))}static credential(n,r){return Oi._fromVerification(n,r)}static credentialFromResult(n){let r=n;return t.credentialFromTaggedObject(r)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:r,temporaryProof:i}=n;return r&&i?Oi._fromTokenResponse(r,i):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Ui(t,e){return e?qe(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Tc=class extends Zt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rr(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function J2(t){return gM(t.auth,new Tc(t),t.bypassAuthState)}function X2(t){let{auth:e,user:n}=t;return y(n,e,"internal-error"),pM(n,new Tc(t),t.bypassAuthState)}function eW(t){return p(this,null,function*(){let{auth:e,user:n}=t;return y(n,e,"internal-error"),H_(n,new Tc(t),t.bypassAuthState)})}var Kf=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return eW;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:ye(this.auth,"internal-error")}}resolve(e){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tW=new Ni(2e3,1e4);function Mh(t,e,n){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ce(t,"operation-not-supported-in-this-environment"));let r=oe(t);ms(t,e,Qt);let i=Ui(r,n);return new q_(r,"signInViaPopup",e,i).executeNotNull()})}function Rh(t,e,n){return p(this,null,function*(){let r=M(t);if(ie(r.auth.app))return Promise.reject(Ce(r.auth,"operation-not-supported-in-this-environment"));ms(r.auth,e,Qt);let i=Ui(r.auth,n);return new q_(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})}function Nh(t,e,n){return p(this,null,function*(){let r=M(t);ms(r.auth,e,Qt);let i=Ui(r.auth,n);return new q_(r.auth,"linkViaPopup",e,i,r).executeNotNull()})}var q_=(()=>{class t extends Kf{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return y(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){xt(this.filter.length===1,"Popup operations only handle one event");let n=Vi();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ce(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,tW.get())};n()}}t.currentPopupAction=null;return t})(),nW="pendingRedirect",Ec=new Map,S_=class t extends Kf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Ec.get(this.auth._key());if(!e){try{let r=(yield rW(this.resolver,this.auth))?yield Gr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Gr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Gr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function rW(t,e){return p(this,null,function*(){let n=IM(e),r=EM(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Y_(t,e){return p(this,null,function*(){return EM(t)._set(IM(e),"true")})}function _M(){Ec.clear()}function ws(t,e){Ec.set(t._key(),e)}function EM(t){return qe(t._redirectPersistence)}function IM(t){return Dn(nW,t.config.apiKey,t.name)}function Oh(t,e,n){return iW(t,e,n)}function iW(t,e,n){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let r=oe(t);ms(t,e,Qt),yield r._initializationPromise;let i=Ui(r,n);return yield Y_(i,r),i._openRedirect(r,e,"signInViaRedirect")})}function Ph(t,e,n){return oW(t,e,n)}function oW(t,e,n){return p(this,null,function*(){let r=M(t);if(ms(r.auth,e,Qt),ie(r.auth.app))return Promise.reject(Ve(r.auth));yield r.auth._initializationPromise;let i=Ui(r.auth,n);yield Y_(i,r.auth);let o=yield wM(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)})}function xh(t,e,n){return sW(t,e,n)}function sW(t,e,n){return p(this,null,function*(){let r=M(t);ms(r.auth,e,Qt),yield r.auth._initializationPromise;let i=Ui(r.auth,n);yield nh(!1,r,e.providerId),yield Y_(i,r.auth);let o=yield wM(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)})}function kh(t,e){return p(this,null,function*(){return yield oe(t)._initializationPromise,ji(t,e,!1)})}function ji(t,e,n=!1){return p(this,null,function*(){if(ie(t.app))return Promise.reject(Ve(t));let r=oe(t),i=Ui(r,e),s=yield new S_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}function wM(t){return p(this,null,function*(){let e=Vi(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var aW=10*60*1e3,Sc=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ce(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aW&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}};function $0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function cW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CM(t);default:return!1}}function K_(n){return p(this,arguments,function*(t,e={}){return he(t,"GET","/v1/projects",e)})}var lW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uW=/^https?/;function dW(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield K_(t);for(let n of e)try{if(fW(n))return}catch{}ye(t,"unauthorized-domain")})}function fW(t){let e=Ic(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!uW.test(n))return!1;if(lW.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var hW=new Ni(3e4,6e4);function W0(){let t=we().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pW(t){return new Promise((e,n)=>{var r,i,o;function s(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),n(Ce(t,"network-request-failed"))},timeout:hW.get()})}if(!((i=(r=we().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=we().gapi)===null||o===void 0)&&o.load)s();else{let a=cM("iframefcb");return we()[a]=()=>{gapi.load?s():n(Ce(t,"network-request-failed"))},j_(`${Q$()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ff=null,e})}var Ff=null;function gW(t){return Ff=Ff||pW(t),Ff}var mW=new Ni(5e3,15e3),vW="__/auth/iframe",yW="emulator/auth/iframe",_W={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IW(t){let e=t.config;y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?F_(e,yW):`https://${t.config.authDomain}/${vW}`,r={apiKey:e.apiKey,appName:t.name,v:Kt},i=EW.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${er(r).slice(1)}`}function wW(t){return p(this,null,function*(){let e=yield gW(t),n=we().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:IW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_W,dontclear:!0},r=>new Promise((i,o)=>p(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ce(t,"network-request-failed"),a=we().setTimeout(()=>{o(s)},mW.get());function c(){we().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var CW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bW=500,DW=600,TW="_blank",SW="http://localhost",Ac=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AW(t,e,n,r=bW,i=DW){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},CW),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ve().toLowerCase();n&&(a=nM(l)?TW:n),eM(l)&&(e=e||SW,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(W$(l)&&a!=="_self")return MW(e||"",a),new Ac(null);let d=window.open(e||"",a,u);y(d,t,"popup-blocked");try{d.focus()}catch{}return new Ac(d)}function MW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var RW="__/auth/handler",NW="emulator/auth/handler",OW=encodeURIComponent("fac");function Zf(t,e,n,r,i,o){return p(this,null,function*(){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kt,eventId:i};if(e instanceof Qt){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lc(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Vr){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${OW}=${encodeURIComponent(c)}`:"";return`${PW(t)}?${er(a).slice(1)}${l}`})}function PW({config:t}){return t.emulator?F_(t,NW):`https://${t.authDomain}/${RW}`}var o_="webStorageSupport",A_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=at,this._completeRedirectFn=ji,this._overrideRedirectResult=ws}_openPopup(e,n,r,i){return p(this,null,function*(){var o;xt((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Zf(e,n,r,Ic(),i);return AW(e,s,Vi())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield Zf(e,n,r,Ic(),i);return L2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(xt(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield wW(e),r=new Sc(e);return n.register("authEvent",i=>(y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o_,{type:o_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[o_];s!==void 0&&n(!!s),ye(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aM()||tM()||ys()}},Vc=A_,M_=class{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return bn("unexpected MultiFactorSessionType")}}},R_=class t extends M_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,r){return M2(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return q2(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Fh=(()=>{class t{constructor(){}static assertion(n){return R_._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var z0="@firebase/auth",G0="1.10.2";var N_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kW(t){Yt(new Ge("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U_(t)},l=new Bf(r,i,o,c);return r2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new Ge("auth-internal",e=>{let n=oe(e.getProvider("auth").getImmediate());return(r=>new N_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(z0,G0,xW(t)),Le(z0,G0,"esm2017")}var FW=5*60,LW=Fy("authIdTokenMaxAge")||FW,q0=null,VW=t=>e=>p(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LW)return;let i=n?.token;q0!==i&&(q0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Br(t=hc()){let e=Ri(t,"auth");if(e.isInitialized())return e.getImmediate();let n=B_(t,{popupRedirectResolver:Vc,persistence:[cr,Tn,at]}),r=Fy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=VW(o.toString());z_(n,s,()=>s(n.currentUser)),W_(n,a=>s(a))}}let i=xy("auth");return i&&Rc(n,`http://${i}`),n}function UW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ce("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",UW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kW("Browser");var Z_=class{constructor(e,n){this._delegate=e,this.firebase=n,ds(e,new Ge("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Pf(this._delegate)))}_getService(e,n=Cn){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Cn){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ds(this._delegate,e)}_addOrOverwriteComponent(e){Qy(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var nz={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},bM=new Ot("app-compat","Firebase",nz);function rz(t){let e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Le,setLogLevel:Xy,onLog:Jy,apps:null,SDK_VERSION:Kt,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:e_}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(l){delete e[l]}function i(l){if(l=l||Cn,!wt(e,l))throw bM.create("no-app",{appName:l});return e[l]}i.App=t;function o(l,u={}){let d=Of(l,u);if(wt(e,d.name))return e[d.name];let f=new t(d,n);return e[d.name]=f,f}function s(){return Object.keys(e).map(l=>e[l])}function a(l){let u=l.name,d=u.replace("-compat","");if(Yt(l)&&l.type==="PUBLIC"){let f=(h=i())=>{if(typeof h[d]!="function")throw bM.create("invalid-app-argument",{appName:u});return h[d]()};l.serviceProps!==void 0&&is(f,l.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,l.multipleInstances?h:[])}}return l.type==="PUBLIC"?n[d]:null}function c(l,u){return u==="serverAuth"?null:u}return n}function TM(){let t=rz(Z_);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:TM,extendNamespace:e,createSubscribe:Df,ErrorFactory:Ot,deepExtend:is});function e(n){is(t,n)}return t}var iz=TM();var DM=new In("@firebase/app-compat"),oz="@firebase/app-compat",sz="0.3.1";function az(t){Le(oz,sz,t)}try{let t=Py();if(t.firebase!==void 0){DM.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&DM.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}var Sn=iz;az();var cz="firebase",lz="11.7.1";Sn.registerVersion(cz,lz,"app-compat");var SM="@firebase/database",AM="1.0.15";var QE="";function uz(t){QE=t}var iE=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ie(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:rs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var oE=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return wt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var aR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iE(e)}}catch{}return new oE},Hi=aR("localStorage"),sE=aR("sessionStorage");var Ds=new In("@firebase/database"),dz=function(){let t=1;return function(){return t++}}(),cR=function(t){let e=d0(t),n=new Ef;n.update(e);let r=n.digest();return If.encodeByteArray(r)},nl=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=nl.apply(null,r):typeof r=="object"?e+=Ie(r):e+=r,e+=" "}return e},Wi=null,MM=!0,fz=function(t,e){_(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ds.logLevel=Q.VERBOSE,Wi=Ds.log.bind(Ds),e&&sE.set("logging_enabled",!0)):typeof t=="function"?Wi=t:(Wi=null,sE.remove("logging_enabled"))},Ye=function(...t){if(MM===!0&&(MM=!1,Wi===null&&sE.get("logging_enabled")===!0&&fz(!0)),Wi){let e=nl.apply(null,t);Wi(e)}},rl=function(t){return function(...e){Ye(t,...e)}},aE=function(...t){let e="FIREBASE INTERNAL ERROR: "+nl(...t);Ds.error(e)},lr=function(...t){let e=`FIREBASE FATAL ERROR: ${nl(...t)}`;throw Ds.error(e),new Error(e)},ct=function(...t){let e="FIREBASE WARNING: "+nl(...t);Ds.warn(e)},hz=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pz=function(t){if(_n()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ss="[MIN_NAME]",zi="[MAX_NAME]",xs=function(t,e){if(t===e)return 0;if(t===Ss||e===zi)return-1;if(e===Ss||t===zi)return 1;{let n=RM(t),r=RM(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gz=function(t,e){return t===e?0:t<e?-1:1},Uc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ie(e))},JE=function(t){if(typeof t!="object"||t===null)return Ie(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ie(e[r]),n+=":",n+=JE(t[e[r]]);return n+="}",n},uR=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function lt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var dR=function(t){_(!lR(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},mz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yz(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var _z=new RegExp("^-?(0*)\\d{1,10}$"),Ez=-2147483648,Iz=2147483647,RM=function(t){if(_z.test(t)){let e=Number(t);if(e>=Ez&&e<=Iz)return e}return null},ks=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},wz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var cE=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,ie(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var lE=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}},zc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Vh="5",fR="v",hR="s",pR="r",gR="f",mR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vR="ls",yR="p",uE="ac",_R="websocket",ER="long_polling";var Uh=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Cz(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function IR(t,e,n){_(typeof e=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(e===_R)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ER)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Cz(t)&&(n.ns=t.namespace);let i=[];return lt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var dE=class{constructor(){this.counters_={}}incrementCounter(e,n=1){wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return n0(this.counters_)}};var Q_={},J_={};function XE(t){let e=t.toString();return Q_[e]||(Q_[e]=new dE),Q_[e]}function bz(t,e){let n=t.toString();return J_[n]||(J_[n]=e()),J_[n]}var fE=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ks(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var NM="start",Dz="close",Tz="pLPCommand",Sz="pRTLPCB",wR="id",CR="pw",bR="ser",Az="cb",Mz="seg",Rz="ts",Nz="d",Oz="dframe",DR=1870,TR=30,Pz=DR-TR,xz=25e3,kz=3e4,hE=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rl(e),this.stats_=XE(n),this.urlFn=c=>(this.appCheckToken&&(c[uE]=this.appCheckToken),IR(n,ER,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kz)),pz(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pE((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===NM)this.id=a,this.password=c;else if(s===Dz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[NM]="t",r[bR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Az]=this.scriptTagHolder.uniqueCallbackIdentifier),r[fR]=Vh,this.transportSessionId&&(r[hR]=this.transportSessionId),this.lastSessionId&&(r[vR]=this.lastSessionId),this.applicationId&&(r[yR]=this.applicationId),this.appCheckToken&&(r[uE]=this.appCheckToken),typeof location<"u"&&location.hostname&&mR.test(location.hostname)&&(r[pR]=gR);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return _n()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mz()&&!vz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Oy(n),i=uR(r,Pz);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(_n())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Oz]="t",r[wR]=e,r[CR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ie(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},pE=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,_n())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=dz(),window[Tz+this.uniqueCallbackIdentifier]=e,window[Sz+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ye("frame writing exception"),a.stack&&Ye(a.stack),Ye(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ye("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[wR]=this.myID,e[CR]=this.myPW,e[bR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+TR+r.length<=DR;){let s=this.pendingSegs.shift();r=r+"&"+Mz+i+"="+s.seg+"&"+Rz+i+"="+s.ts+"&"+Nz+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(xz)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){_n()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Fz=16384,Lz=45e3,jh=null;typeof MozWebSocket<"u"?jh=MozWebSocket:typeof WebSocket<"u"&&(jh=WebSocket);var jc=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rl(this.connId),this.stats_=XE(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[fR]=Vh,!_n()&&typeof location<"u"&&location.hostname&&mR.test(location.hostname)&&(a[pR]=gR),r&&(a[hR]=r),i&&(a[vR]=i),o&&(a[uE]=o),s&&(a[yR]=s),IR(n,_R,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hi.set("previous_websocket_failure",!0);try{let i;if(_n()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Vh}/${QE}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new jh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&jh!==null&&!t.forceDisallow_}static previouslyFailed(){return Hi.isInMemoryStorage||Hi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=rs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ie(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=uR(r,Fz);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Lz))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Vz=(()=>{class t{static get ALL_TRANSPORTS(){return[hE,jc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=jc&&jc.isAvailable(),i=r&&!jc.previouslyFailed();if(n.webSocketOnly&&(r||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[jc];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Uz=6e4,jz=5e3,Bz=10*1024,Hz=100*1024,X_="t",OM="d",$z="s",PM="r",Wz="e",xM="o",kM="a",FM="n",LM="p",zz="h",gE=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rl("c:"+this.id+":"),this.transportManager_=new Vz(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Hz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Bz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(X_ in e){let n=e[X_];n===kM?this.upgradeIfSecondaryHealthy_():n===PM?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===xM&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Uc("t",e),r=Uc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LM,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kM,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:FM,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Uc("t",e),r=Uc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Uc(X_,e);if(OM in e){let r=e[OM];if(n===zz){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===FM){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$z?this.onConnectionShutdown_(r):n===PM?this.onReset_(r):n===Wz?aE("Server Error: "+r):n===xM?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aE("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vh!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Wc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Uz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LM,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Bh=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Hh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var $h=class t extends Hh{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var VM=32,UM=768,J=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Y(){return new J("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wr(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new J(t.pieces_,e)}function SR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Gz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function AR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function MR(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new J(e,0)}function Oe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof J)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new J(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function Qe(t,e){let n=j(t),r=j(e);if(n===null)return e;if(n===r)return Qe(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eI(t,e){if(Wr(t)!==Wr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function en(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Wr(t)>Wr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var mE=class{constructor(e,n){this.errorPrefix_=n,this.parts_=AR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=dc(this.parts_[r]);RR(this)}};function qz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=dc(e),RR(t)}function Yz(t){let e=t.parts_.pop();t.byteLength_-=dc(e),t.parts_.length>0&&(t.byteLength_-=1)}function RR(t){if(t.byteLength_>UM)throw new Error(t.errorPrefix_+"has a key path longer than "+UM+" bytes ("+t.byteLength_+").");if(t.parts_.length>VM)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VM+") or object contains a cycle "+Bi(t))}function Bi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var vE=class t extends Hh{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var Bc=1e3,Kz=60*5*1e3,jM=30*1e3,Zz=1.3,Qz=3e4,Jz="server_kill",BM=3,tI=(()=>{class t extends Bh{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=rl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bc,this.maxReconnectDelay_=Kz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_n())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vE.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&$h.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ie(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Or,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&wt(n,"w")){let i=Ai(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||u0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jM)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=l0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ie(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):aE("Unrecognized action received from server: "+Ie(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qz&&(this.reconnectDelay_=Bc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Zz)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ye("getToken() completed but was canceled"):(Ye("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new gE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{ct(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Jz)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ct(f),l())}}})}interrupt(n){Ye("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ye("Resuming connection for reason: "+n),delete this.interruptReasons_[n],lc(this.interruptReasons_)&&(this.reconnectDelay_=Bc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>JE(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new J(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ye("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BM&&(this.reconnectDelay_=jM,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ye("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BM&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";_n()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+QE.replace(/\./g,"-")]=1,cc()?n["framework.cordova"]=1:Si()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=$h.getInstance().currentlyOnline();return lc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),B=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var As=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new B(Ss,e),i=new B(Ss,n);return this.compare(r,i)!==0}minPost(){return B.MIN}};var Lh,Wh=class extends As{static get __EMPTY_NODE(){return Lh}static set __EMPTY_NODE(e){Lh=e}compare(e,n){return xs(e.name,n.name)}isDefinedOn(e){throw Ti("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return B.MIN}maxPost(){return new B(zi,Lh)}makePost(e,n){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,Lh)}toString(){return".key"}},Ts=new Wh;var bs=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Xt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ft.EMPTY_NODE,this.right=s??Ft.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),yE=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ft=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bs(this.root_,null,this.comparator_,!0,e)}};Ft.EMPTY_NODE=new yE;function Xz(t,e){return xs(t.name,e.name)}function nI(t,e){return xs(t,e)}var _E;function eG(t){_E=t}var NR=function(t){return typeof t=="number"?"number:"+dR(t):"string:"+t},OR=function(t){if(t.isLeafNode()){let e=t.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wt(e,".sv"),"Priority must be a string or number.")}else _(t===_E||t.isEmpty(),"priority of unexpected type.");_(t===_E||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var HM,Ms=(()=>{class t{static set __childrenNodeConstructor(n){HM=n}static get __childrenNodeConstructor(){return HM}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:j(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=j(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||Wr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+NR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=dR(this.value_):n+=this.value_,this.lazyHash_=cR(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),PR,xR;function tG(t){PR=t}function nG(t){xR=t}var EE=class extends As{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?xs(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(zi,new Ms("[PRIORITY-POST]",xR))}makePost(e,n){let r=PR(e);return new B(n,new Ms("[PRIORITY-POST]",r))}toString(){return".priority"}},pe=new EE;var rG=Math.log(2),IE=class{constructor(e){let n=o=>parseInt(Math.log(o)/rG,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},zh=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Xt(f,d.node,Xt.BLACK,null,null);{let h=parseInt(u/2,10)+c,g=i(c,h),v=i(h+1,l);return d=t[h],f=n?n(d):d,new Xt(f,d.node,Xt.BLACK,g,v)}},o=function(c){let l=null,u=null,d=t.length,f=function(g,v){let E=d-g,A=d;d-=g;let be=i(E+1,A),$=t[E],bt=n?n($):$;h(new Xt(bt,$.node,v,null,be))},h=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let v=c.nextBitIsOne(),E=Math.pow(2,c.count-(g+1));v?f(E,Xt.BLACK):(f(E,Xt.BLACK),f(E,Xt.RED))}return u},s=new IE(t.length),a=o(s);return new Ft(r||e,a)};var eE,Cs={},Rs=class t{static get Default(){return _(Cs&&pe,"ChildrenNode.ts has not been loaded"),eE=eE||new t({".priority":Cs},{".priority":pe}),eE}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Ai(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return wt(this.indexSet_,e.toString())}addIndex(e,n){_(e!==Ts,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(B.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=zh(r,e.getCompare()):a=Cs;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=uc(this.indexes_,(i,o)=>{let s=Ai(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===Cs)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(B.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),zh(a,s.getCompare())}else return Cs;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new B(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=uc(this.indexes_,i=>{if(i===Cs)return i;{let o=n.get(e.name);return o?i.remove(new B(e.name,o)):i}});return new t(r,this.indexSet_)}};var Hc,x=(()=>{class t{static get EMPTY_NODE(){return Hc||(Hc=new t(new Ft(nI),null,Rs.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&OR(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Hc:r}}getChild(n){let r=j(n);return r===null?this:this.getImmediateChild(r).getChild(se(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new B(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Hc:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=j(n);if(i===null)return r;{_(j(n)!==".priority"||Wr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(se(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(pe,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+NR(this.getPriority().val())+":"),this.forEachChild(pe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":cR(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new B(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new B(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new B(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===il?-1:0}withIndex(n){if(n===Ts||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ts||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(pe),o=r.getIterator(pe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ts?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),wE=class extends x{constructor(){super(new Ft(nI),x.EMPTY_NODE,Rs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return x.EMPTY_NODE}isEmpty(){return!1}},il=new wE;Object.defineProperties(B,{MIN:{value:new B(Ss,x.EMPTY_NODE)},MAX:{value:new B(zi,il)}});Wh.__EMPTY_NODE=x.EMPTY_NODE;Ms.__childrenNodeConstructor=x;eG(il);nG(il);var iG=!0;function Ue(t,e=null){if(t===null)return x.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ms(n,Ue(e))}if(!(t instanceof Array)&&iG){let n=[],r=!1;if(lt(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ue(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new B(s,c)))}}),n.length===0)return x.EMPTY_NODE;let o=zh(n,Xz,s=>s.name,nI);if(r){let s=zh(n,pe.getCompare());return new x(o,Ue(e),new Rs({".priority":s},{".priority":pe}))}else return new x(o,Ue(e),Rs.Default)}else{let n=x.EMPTY_NODE;return lt(t,(r,i)=>{if(wt(t,r)&&r.substring(0,1)!=="."){let o=Ue(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ue(e))}}tG(Ue);var CE=class extends As{constructor(e){super(),this.indexPath_=e,_(!H(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?xs(e.name,n.name):o}makePost(e,n){let r=Ue(e),i=x.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){let e=x.EMPTY_NODE.updateChild(this.indexPath_,il);return new B(zi,e)}toString(){return AR(this.indexPath_,0).join("/")}};var bE=class extends As{compare(e,n){let r=e.node.compareTo(n.node);return r===0?xs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,n){let r=Ue(e);return new B(n,r)}toString(){return".value"}},oG=new bE;function kR(t){return{type:"value",snapshotNode:t}}function Ns(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Kc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Zc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sG(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Qc=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){_(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Kc(n,a)):_(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ns(n,r)):s.trackChildChange(Zc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(pe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Kc(i,o))}),n.isLeafNode()||n.forEachChild(pe,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Zc(i,o,s))}else r.trackChildChange(Ns(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?x.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Gh=class t{constructor(e){this.indexedFilter_=new Qc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new B(n,r))||(r=x.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=x.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(pe,(s,a)=>{o.matches(new B(s,a))||(i=i.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var DE=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new B(n,r))||(r=x.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;_(a.numChildren()===this.limit_,"");let c=new B(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Zc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Kc(n,d));let v=a.updateImmediateChild(n,x.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Ns(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Kc(l.name,l.node)),o.trackChildChange(Ns(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,x.EMPTY_NODE)):e}};var TE=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ss}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function aG(t){return t.loadsAllData()?new Qc(t.getIndex()):t.hasLimit()?new DE(t):new Gh(t)}function $M(t){let e={};if(t.isDefault())return e;let n;if(t.index_===pe?n="$priority":t.index_===oG?n="$value":t.index_===Ts?n="$key":(_(t.index_ instanceof CE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ie(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ie(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ie(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ie(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ie(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WM(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pe&&(e.i=t.index_.toString()),e}var SE=class t extends Bh{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=rl("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=$M(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Ai(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=$M(e._queryParams),r=e._path.toString(),i=new Or;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+er(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=rs(a.responseText)}catch{ct("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ct("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var AE=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function qh(){return{value:null,children:new Map}}function FR(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=j(e);t.children.has(r)||t.children.set(r,qh());let i=t.children.get(r);e=se(e),FR(i,e,n)}}function ME(t,e,n){t.value!==null?n(e,t.value):cG(t,(r,i)=>{let o=new J(e.toString()+"/"+r);ME(i,o,n)})}function cG(t,e){t.children.forEach((n,r)=>{e(r,n)})}var RE=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&lt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var zM=10*1e3,lG=30*1e3,uG=5*60*1e3,NE=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new RE(e);let r=zM+(lG-zM)*Math.random();Wc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;lt(e,(i,o)=>{o>0&&wt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Wc(this.reportStats_.bind(this),Math.floor(Math.random()*2*uG))}};var An=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(An||{});function LR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var OE=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=An.ACK_USER_WRITE,this.source=LR()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(e));return new t(Y(),n,this.revert)}}else return _(j(this.path)===e,"operationForChild called for unrelated child."),new t(se(this.path),this.affectedTree,this.revert)}};var Yh=class t{constructor(e,n){this.source=e,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new t(this.source,Y()):new t(this.source,se(this.path))}};var Os=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=An.OVERWRITE}operationForChild(e){return H(this.path)?new t(this.source,Y(),this.snap.getImmediateChild(e)):new t(this.source,se(this.path),this.snap)}};var Kh=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=An.MERGE}operationForChild(e){if(H(this.path)){let n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new Os(this.source,Y(),n.value):new t(this.source,Y(),n)}else return _(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Mn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;let n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var PE=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function dG(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(sG(s.childName,s.snapshotNode))}),$c(t,i,"child_removed",e,r,n),$c(t,i,"child_added",e,r,n),$c(t,i,"child_moved",o,r,n),$c(t,i,"child_changed",e,r,n),$c(t,i,"value",e,r,n),i}function $c(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>hG(t,a,c)),s.forEach(a=>{let c=fG(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function fG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function hG(t,e,n){if(e.childName==null||n.childName==null)throw Ti("Should only compare child_ events.");let r=new B(e.childName,e.snapshotNode),i=new B(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function lp(t,e){return{eventCache:t,serverCache:e}}function Gc(t,e,n,r){return lp(new Mn(e,n,r),t.serverCache)}function VR(t,e,n,r){return lp(t.eventCache,new Mn(e,n,r))}function Zh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var tE,pG=()=>(tE||(tE=new Ft(gz)),tE),ut=class t{static fromObject(e){let n=new t(null);return lt(e,(r,i)=>{n=n.set(new J(r),i)}),n}constructor(e,n=pG()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(H(e))return null;{let r=j(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(se(e),n);return o!=null?{path:Oe(new J(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{let n=j(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new t(null)}}set(e,n){if(H(e))return new t(n,this.children);{let r=j(e),o=(this.children.get(r)||new t(null)).set(se(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(H(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=j(e),r=this.children.get(n);if(r){let i=r.remove(se(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(H(e))return this.value;{let n=j(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(H(e))return n;{let r=j(e),o=(this.children.get(r)||new t(null)).setTree(se(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Y(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Y(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(H(e))return null;{let o=j(e),s=this.children.get(o);return s?s.findOnPath_(se(e),Oe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Y(),n)}foreachOnPath_(e,n,r){if(H(e))return this;{this.value&&r(n,this.value);let i=j(e),o=this.children.get(i);return o?o.foreachOnPath_(se(e),Oe(n,i),r):new t(null)}}foreach(e){this.foreach_(Y(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var tn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ut(null))}};function qc(t,e,n){if(H(e))return new tn(new ut(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Qe(i,e);return o=o.updateChild(s,n),new tn(t.writeTree_.set(i,o))}else{let i=new ut(n),o=t.writeTree_.setTree(e,i);return new tn(o)}}}function GM(t,e,n){let r=t;return lt(n,(i,o)=>{r=qc(r,Oe(e,i),o)}),r}function qM(t,e){if(H(e))return tn.empty();{let n=t.writeTree_.setTree(e,new ut(null));return new tn(n)}}function xE(t,e){return qi(t,e)!=null}function qi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Qe(n.path,e)):null}function YM(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(r,i)=>{e.push(new B(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new B(r,i.value))}),e}function Hr(t,e){if(H(e))return t;{let n=qi(t,e);return n!=null?new tn(new ut(n)):new tn(t.writeTree_.subtree(e))}}function kE(t){return t.writeTree_.isEmpty()}function Ps(t,e){return UR(Y(),t.writeTree_,e)}function UR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=UR(Oe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}function up(t,e){return $R(e,t)}function gG(t,e,n,r,i){_(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=qc(t.visibleWrites,e,n)),t.lastWriteId=r}function mG(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function vG(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);_(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&yG(a,r.path)?i=!1:en(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return _G(t),!0;if(r.snap)t.visibleWrites=qM(t.visibleWrites,r.path);else{let a=r.children;lt(a,c=>{t.visibleWrites=qM(t.visibleWrites,Oe(r.path,c))})}return!0}else return!1}function yG(t,e){if(t.snap)return en(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&en(Oe(t.path,n),e))return!0;return!1}function _G(t){t.visibleWrites=jR(t.allWrites,EG,Y()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function EG(t){return t.visible}function jR(t,e,n){let r=tn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)en(n,s)?(a=Qe(n,s),r=qc(r,a,o.snap)):en(s,n)&&(a=Qe(s,n),r=qc(r,Y(),o.snap.getChild(a)));else if(o.children){if(en(n,s))a=Qe(n,s),r=GM(r,a,o.children);else if(en(s,n))if(a=Qe(s,n),H(a))r=GM(r,Y(),o.children);else{let c=Ai(o.children,j(a));if(c){let l=c.getChild(se(a));r=qc(r,Y(),l)}}}else throw Ti("WriteRecord should have .snap or .children")}}return r}function BR(t,e,n,r,i){if(!r&&!i){let o=qi(t.visibleWrites,e);if(o!=null)return o;{let s=Hr(t.visibleWrites,e);if(kE(s))return n;if(n==null&&!xE(s,Y()))return null;{let a=n||x.EMPTY_NODE;return Ps(s,a)}}}else{let o=Hr(t.visibleWrites,e);if(!i&&kE(o))return n;if(!i&&n==null&&!xE(o,Y()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(en(l.path,e)||en(e,l.path))},a=jR(t.allWrites,s,e),c=n||x.EMPTY_NODE;return Ps(a,c)}}}function IG(t,e,n){let r=x.EMPTY_NODE,i=qi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Hr(t.visibleWrites,e);return n.forEachChild(pe,(s,a)=>{let c=Ps(Hr(o,new J(s)),a);r=r.updateImmediateChild(s,c)}),YM(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Hr(t.visibleWrites,e);return YM(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function wG(t,e,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Oe(e,n);if(xE(t.visibleWrites,o))return null;{let s=Hr(t.visibleWrites,o);return kE(s)?i.getChild(n):Ps(s,i.getChild(n))}}function CG(t,e,n,r){let i=Oe(e,n),o=qi(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Hr(t.visibleWrites,i);return Ps(s,r.getNode().getImmediateChild(n))}else return null}function bG(t,e){return qi(t.visibleWrites,e)}function DG(t,e,n,r,i,o,s){let a,c=Hr(t.visibleWrites,e),l=qi(c,Y());if(l!=null)a=l;else if(n!=null)a=Ps(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function TG(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Qh(t,e,n,r){return BR(t.writeTree,t.treePath,e,n,r)}function oI(t,e){return IG(t.writeTree,t.treePath,e)}function KM(t,e,n,r){return wG(t.writeTree,t.treePath,e,n,r)}function Jh(t,e){return bG(t.writeTree,Oe(t.treePath,e))}function SG(t,e,n,r,i,o){return DG(t.writeTree,t.treePath,e,n,r,i,o)}function sI(t,e,n){return CG(t.writeTree,t.treePath,e,n)}function HR(t,e){return $R(Oe(t.treePath,e),t.writeTree)}function $R(t,e){return{treePath:t,writeTree:e}}var FE=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Zc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Kc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ns(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Zc(r,e.snapshotNode,i.oldSnap));else throw Ti("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var LE=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},WR=new LE,Jc=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Mn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sI(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gi(this.viewCache_),o=SG(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function AG(t){return{filter:t}}function MG(t,e){_(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RG(t,e,n,r,i){let o=new FE,s,a;if(n.type===An.OVERWRITE){let l=n;l.source.fromUser?s=VE(t,e,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!H(l.path),s=Xh(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===An.MERGE){let l=n;l.source.fromUser?s=OG(t,e,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=UE(t,e,l.path,l.children,r,i,a,o))}else if(n.type===An.ACK_USER_WRITE){let l=n;l.revert?s=kG(t,e,l.path,r,i,o):s=PG(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===An.LISTEN_COMPLETE)s=xG(t,e,n.path,r,o);else throw Ti("Unknown operation type: "+n.type);let c=o.getChanges();return NG(e,s,c),{viewCache:s,changes:c}}function NG(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(kR(Zh(e)))}}function zR(t,e,n,r,i,o){let s=e.eventCache;if(Jh(r,n)!=null)return e;{let a,c;if(H(n))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Gi(e),u=l instanceof x?l:x.EMPTY_NODE,d=oI(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Qh(r,Gi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=j(n);if(l===".priority"){_(Wr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=KM(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=se(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=KM(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=sI(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Gc(e,a,s.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function Xh(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(H(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=j(n);if(!c.isCompleteForPath(n)&&Wr(n)>1)return e;let g=se(n),E=c.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?l=u.updatePriority(c.getNode(),E):l=u.updateChild(c.getNode(),h,E,g,WR,null)}let d=VR(e,l,c.isFullyInitialized()||H(n),u.filtersNodes()),f=new Jc(i,d,o);return zR(t,d,n,i,f,a)}function VE(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Jc(i,e,o);if(H(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Gc(e,l,!0,t.filter.filtersNodes());else{let d=j(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Gc(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=se(n),h=a.getNode().getImmediateChild(d),g;if(H(f))g=r;else{let v=u.getCompleteChild(d);v!=null?SR(f)===".priority"&&v.getChild(MR(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=x.EMPTY_NODE}if(h.equals(g))c=e;else{let v=t.filter.updateChild(a.getNode(),d,g,f,u,s);c=Gc(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function ZM(t,e){return t.eventCache.isCompleteForChild(e)}function OG(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Oe(n,c);ZM(e,j(u))&&(a=VE(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Oe(n,c);ZM(e,j(u))||(a=VE(t,a,u,l,i,o,s))}),a}function QM(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function UE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;H(n)?l=r:l=new ut(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),g=QM(t,h,f);c=Xh(t,c,new J(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=e.serverCache.getNode().getImmediateChild(d),v=QM(t,g,f);c=Xh(t,c,new J(d),v,i,o,s,a)}}),c}function PG(t,e,n,r,i,o,s){if(Jh(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(H(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Xh(t,e,n,c.getNode().getChild(n),i,o,a,s);if(H(n)){let l=new ut(null);return c.getNode().forEachChild(Ts,(u,d)=>{l=l.set(new J(u),d)}),UE(t,e,n,l,i,o,a,s)}else return e}else{let l=new ut(null);return r.foreach((u,d)=>{let f=Oe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),UE(t,e,n,l,i,o,a,s)}}function xG(t,e,n,r,i){let o=e.serverCache,s=VR(e,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return zR(t,s,n,r,WR,i)}function kG(t,e,n,r,i,o){let s;if(Jh(r,n)!=null)return e;{let a=new Jc(r,e,i),c=e.eventCache.getNode(),l;if(H(n)||j(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Qh(r,Gi(e));else{let d=e.serverCache.getNode();_(d instanceof x,"serverChildren would be complete if leaf node"),u=oI(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=j(n),d=sI(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,se(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,x.EMPTY_NODE,se(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Qh(r,Gi(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Jh(r,Y())!=null,Gc(e,l,s,t.filter.filtersNodes())}}var jE=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Qc(r.getIndex()),o=aG(r);this.processor_=AG(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(x.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Mn(c,s.isFullyInitialized(),i.filtersNodes()),d=new Mn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=lp(d,u),this.eventGenerator_=new PE(this.query_)}get query(){return this.query_}};function FG(t){return t.viewCache_.serverCache.getNode()}function LG(t){return Zh(t.viewCache_)}function VG(t,e){let n=Gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function JM(t){return t.eventRegistrations_.length===0}function UG(t,e){t.eventRegistrations_.push(e)}function XM(t,e,n){let r=[];if(n){_(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function eR(t,e,n,r){e.type===An.MERGE&&e.source.queryId!==null&&(_(Gi(t.viewCache_),"We should always have a full cache before handling merges"),_(Zh(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=RG(t.processor_,i,e,n,r);return MG(t.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,GR(t,o.changes,o.viewCache.eventCache.getNode(),null)}function jG(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(o,s)=>{r.push(Ns(o,s))}),n.isFullyInitialized()&&r.push(kR(n.getNode())),GR(t,r,n.getNode(),e)}function GR(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return dG(t.eventGenerator_,e,n,i)}var ep,tp=class{constructor(){this.views=new Map}};function BG(t){_(!ep,"__referenceConstructor has already been defined"),ep=t}function HG(){return _(ep,"Reference.ts has not been loaded"),ep}function $G(t){return t.views.size===0}function aI(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),eR(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(eR(s,e,n,r));return o}}function qR(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Qh(n,i?r:null),c=!1;a?c=!0:r instanceof x?(a=oI(n,r),c=!1):(a=x.EMPTY_NODE,c=!1);let l=lp(new Mn(a,c,!1),new Mn(r,i,!1));return new jE(e,l)}return s}function WG(t,e,n,r,i,o){let s=qR(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),UG(s,n),jG(s,n)}function zG(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=zr(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(XM(l,n,r)),JM(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(XM(c,n,r)),JM(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!zr(t)&&o.push(new(HG())(e._repo,e._path)),{removed:o,events:s}}function YR(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $r(t,e){let n=null;for(let r of t.views.values())n=n||VG(r,e);return n}function KR(t,e){if(e._queryParams.loadsAllData())return dp(t);{let r=e._queryIdentifier;return t.views.get(r)}}function ZR(t,e){return KR(t,e)!=null}function zr(t){return dp(t)!=null}function dp(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var np;function GG(t){_(!np,"__referenceConstructor has already been defined"),np=t}function qG(){return _(np,"Reference.ts has not been loaded"),np}var YG=1,rp=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ut(null),this.pendingWriteTree_=TG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function QR(t,e,n,r,i){return gG(t.pendingWriteTree_,e,n,r,i),i?sl(t,new Os(LR(),e,n)):[]}function $i(t,e,n=!1){let r=mG(t.pendingWriteTree_,e);if(vG(t.pendingWriteTree_,e)){let o=new ut(null);return r.snap!=null?o=o.set(Y(),!0):lt(r.children,s=>{o=o.set(new J(s),!0)}),sl(t,new OE(r.path,o,n))}else return[]}function ol(t,e,n){return sl(t,new Os(rI(),e,n))}function KG(t,e,n){let r=ut.fromObject(n);return sl(t,new Kh(rI(),e,r))}function ZG(t,e){return sl(t,new Yh(rI(),e))}function QG(t,e,n){let r=lI(t,n);if(r){let i=uI(r),o=i.path,s=i.queryId,a=Qe(o,e),c=new Yh(iI(s),a);return dI(t,o,c)}else return[]}function ip(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||ZR(s,e))){let c=zG(s,e,n,r);$G(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>zr(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=eq(f);for(let g=0;g<h.length;++g){let v=h[g],E=v.query,A=tN(t,v);t.listenProvider_.startListening(Yc(E),Xc(t,E),A.hashFn,A.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Yc(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(fp(f));t.listenProvider_.stopListening(Yc(f),h)}))}tq(t,l)}return a}function JR(t,e,n,r){let i=lI(t,r);if(i!=null){let o=uI(i),s=o.path,a=o.queryId,c=Qe(s,e),l=new Os(iI(a),c,n);return dI(t,s,l)}else return[]}function JG(t,e,n,r){let i=lI(t,r);if(i){let o=uI(i),s=o.path,a=o.queryId,c=Qe(s,e),l=ut.fromObject(n),u=new Kh(iI(a),c,l);return dI(t,s,u)}else return[]}function BE(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=Qe(f,i);o=o||$r(h,g),s=s||zr(h)});let a=t.syncPointTree_.get(i);a?(s=s||zr(a),o=o||$r(a,Y())):(a=new tp,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=x.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{let v=$r(g,Y());v&&(o=o.updateImmediateChild(h,v))}));let l=ZR(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=fp(e);_(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=nq();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=up(t.pendingWriteTree_,i),d=WG(a,e,n,u,o,c);if(!l&&!s&&!r){let f=KR(a,e);d=d.concat(rq(t,e,f))}return d}function cI(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Qe(s,e),l=$r(a,c);if(l)return l});return BR(i,e,o,n,!0)}function XG(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Qe(l,n);r=r||$r(u,d)});let i=t.syncPointTree_.get(n);i?r=r||$r(i,Y()):(i=new tp,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Mn(r,!0,!1):null,a=up(t.pendingWriteTree_,e._path),c=qR(i,e,a,o?s.getNode():x.EMPTY_NODE,o);return LG(c)}function sl(t,e){return XR(e,t.syncPointTree_,null,up(t.pendingWriteTree_,Y()))}function XR(t,e,n,r){if(H(t.path))return eN(t,e,n,r);{let i=e.get(Y());n==null&&i!=null&&(n=$r(i,Y()));let o=[],s=j(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=HR(r,s);o=o.concat(XR(a,c,l,u))}return i&&(o=o.concat(aI(i,t,r,n))),o}}function eN(t,e,n,r){let i=e.get(Y());n==null&&i!=null&&(n=$r(i,Y()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=HR(r,s),u=t.operationForChild(s);u&&(o=o.concat(eN(u,a,c,l)))}),i&&(o=o.concat(aI(i,t,r,n))),o}function tN(t,e){let n=e.query,r=Xc(t,n);return{hashFn:()=>(FG(e)||x.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?QG(t,n._path,r):ZG(t,n._path);{let o=yz(i,n);return ip(t,n,null,o)}}}}function Xc(t,e){let n=fp(e);return t.queryToTagMap.get(n)}function fp(t){return t._path.toString()+"$"+t._queryIdentifier}function lI(t,e){return t.tagToQueryMap.get(e)}function uI(t){let e=t.indexOf("$");return _(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}}function dI(t,e,n){let r=t.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=up(t.pendingWriteTree_,e);return aI(r,n,i,null)}function eq(t){return t.fold((e,n,r)=>{if(n&&zr(n))return[dp(n)];{let i=[];return n&&(i=YR(n)),lt(r,(o,s)=>{i=i.concat(s)}),i}})}function Yc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(qG())(t._repo,t._path):t}function tq(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=fp(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function nq(){return YG++}function rq(t,e,n){let r=e._path,i=Xc(t,e),o=tN(t,n),s=t.listenProvider_.startListening(Yc(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)_(!zr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!H(l)&&u&&zr(u))return[dp(u).query];{let f=[];return u&&(f=f.concat(YR(u).map(h=>h.query))),lt(d,(h,g)=>{f=f.concat(g)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Yc(u),Xc(t,u))}}return s}var HE=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},$E=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Oe(this.path_,e);return new t(this.syncTree_,n)}node(){return cI(this.syncTree_,this.path_)}},iq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tR=function(t,e,n){if(!t||typeof t!="object")return t;if(_(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return oq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return sq(t[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},oq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+t)}},sq=function(t,e,n){t.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},aq=function(t,e,n,r){return fI(e,new $E(n,t),r)},nN=function(t,e,n){return fI(t,new HE(e),n)};function fI(t,e,n){let r=t.getPriority().val(),i=tR(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=tR(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ms(a,Ue(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ms(i))),s.forEachChild(pe,(a,c)=>{let l=fI(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var el=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function hI(t,e){let n=e instanceof J?e:new J(e),r=t,i=j(n);for(;i!==null;){let o=Ai(r.node.children,i)||{children:{},childCount:0};r=new el(i,r,o),n=se(n),i=j(n)}return r}function Fs(t){return t.node.value}function rN(t,e){t.node.value=e,WE(t)}function iN(t){return t.node.childCount>0}function cq(t){return Fs(t)===void 0&&!iN(t)}function hp(t,e){lt(t.node.children,(n,r)=>{e(new el(n,t,r))})}function oN(t,e,n,r){n&&!r&&e(t),hp(t,i=>{oN(i,e,!0,r)}),n&&r&&e(t)}function lq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function al(t){return new J(t.parent===null?t.name:al(t.parent)+"/"+t.name)}function WE(t){t.parent!==null&&uq(t.parent,t.name,t)}function uq(t,e,n){let r=cq(n),i=wt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,WE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,WE(t))}var dq=/[\[\].#$\/\u0000-\u001F\u007F]/,fq=/[\[\].#$\u0000-\u001F\u007F]/,nE=10*1024*1024,sN=function(t){return typeof t=="string"&&t.length!==0&&!dq.test(t)},aN=function(t){return typeof t=="string"&&t.length!==0&&!fq.test(t)},hq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),aN(t)};var cN=function(t,e,n,r){r&&e===void 0||pI(Tf(t,"value"),e,n)},pI=function(t,e,n){let r=n instanceof J?new mE(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bi(r)+" with contents = "+e.toString());if(lR(e))throw new Error(t+"contains "+e.toString()+" "+Bi(r));if(typeof e=="string"&&e.length>nE/3&&dc(e)>nE)throw new Error(t+"contains a string greater than "+nE+" utf8 bytes "+Bi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(lt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!sN(s)))throw new Error(t+" contains an invalid key ("+s+") "+Bi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qz(r,s),pI(t,a,r),Yz(r)}),i&&o)throw new Error(t+' contains ".value" child '+Bi(r)+" in addition to actual children.")}};var lN=function(t,e,n,r){if(!(r&&n===void 0)&&!aN(n))throw new Error(Tf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pq=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lN(t,e,n,r)},uN=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},gq=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!sN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hq(n))throw new Error(Tf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var zE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function gI(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!eI(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function dN(t,e,n){gI(t,n),fN(t,r=>eI(r,e))}function Rn(t,e,n){gI(t,n),fN(t,r=>en(r,e)||en(e,r))}function fN(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(mq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function mq(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Wi&&Ye("event: "+n.toString()),ks(r)}}}var vq="repo_interrupt",yq=25,GE=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qh(),this.transactionQueueTree_=new el,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function _q(t,e,n){if(t.stats_=XE(t.repoInfo_),t.forceRestClient_||wz())t.server_=new SE(t.repoInfo_,(r,i,o,s)=>{nR(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rR(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new tI(t.repoInfo_,e,(r,i,o,s)=>{nR(t,r,i,o,s)},r=>{rR(t,r)},r=>{Eq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bz(t.repoInfo_,()=>new NE(t.stats_,t.server_)),t.infoData_=new AE,t.infoSyncTree_=new rp({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=ol(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),vI(t,"connected",!1),t.serverSyncTree_=new rp({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Rn(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function hN(t){let n=t.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function mI(t){return iq({timestamp:hN(t)})}function nR(t,e,n,r,i){t.dataUpdateCount++;let o=new J(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=uc(n,l=>Ue(l));s=JG(t.serverSyncTree_,o,c,i)}else{let c=Ue(n);s=JR(t.serverSyncTree_,o,c,i)}else if(r){let c=uc(n,l=>Ue(l));s=KG(t.serverSyncTree_,o,c)}else{let c=Ue(n);s=ol(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=gp(t,o)),Rn(t.eventQueue_,a,s)}function rR(t,e){vI(t,"connected",e),e===!1&&Cq(t)}function Eq(t,e){lt(e,(n,r)=>{vI(t,n,r)})}function vI(t,e,n){let r=new J("/.info/"+e),i=Ue(n);t.infoData_.updateSnapshot(r,i);let o=ol(t.infoSyncTree_,r,i);Rn(t.eventQueue_,r,o)}function pN(t){return t.nextWriteId_++}function Iq(t,e,n){let r=XG(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Ue(i).withIndex(e._queryParams.getIndex());BE(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ol(t.serverSyncTree_,e._path,o);else{let a=Xc(t.serverSyncTree_,e);s=JR(t.serverSyncTree_,e._path,o,a)}return Rn(t.eventQueue_,e._path,s),ip(t.serverSyncTree_,e,n,null,!0),o},i=>(pp(t,"get for query "+Ie(e)+" failed: "+i),Promise.reject(new Error(i))))}function wq(t,e,n,r,i){pp(t,"set",{path:e.toString(),value:n,priority:r});let o=mI(t),s=Ue(n,r),a=cI(t.serverSyncTree_,e),c=nN(s,a,o),l=pN(t),u=QR(t.serverSyncTree_,e,c,l,!0);gI(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||ct("set at "+e+" failed: "+f);let v=$i(t.serverSyncTree_,l,!g);Rn(t.eventQueue_,e,v),Tq(t,i,f,h)});let d=_N(t,e);gp(t,d),Rn(t.eventQueue_,d,[])}function Cq(t){pp(t,"onDisconnectEvents");let e=mI(t),n=qh();ME(t.onDisconnect_,Y(),(i,o)=>{let s=aq(i,o,t.serverSyncTree_,e);FR(n,i,s)});let r=[];ME(n,Y(),(i,o)=>{r=r.concat(ol(t.serverSyncTree_,i,o));let s=_N(t,i);gp(t,s)}),t.onDisconnect_=qh(),Rn(t.eventQueue_,Y(),r)}function bq(t,e,n){let r;j(e._path)===".info"?r=BE(t.infoSyncTree_,e,n):r=BE(t.serverSyncTree_,e,n),dN(t.eventQueue_,e._path,r)}function iR(t,e,n){let r;j(e._path)===".info"?r=ip(t.infoSyncTree_,e,n):r=ip(t.serverSyncTree_,e,n),dN(t.eventQueue_,e._path,r)}function Dq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(vq)}function pp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ye(n,...e)}function Tq(t,e,n,r){e&&ks(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function gN(t,e,n){return cI(t.serverSyncTree_,e,n)||x.EMPTY_NODE}function yI(t,e=t.transactionQueueTree_){if(e||mp(t,e),Fs(e)){let n=vN(t,e);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Sq(t,al(e),n)}else iN(e)&&hp(e,n=>{yI(t,n)})}function Sq(t,e,n){let r=n.map(l=>l.currentWriteId),i=gN(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Qe(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{pp(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat($i(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();mp(t,hI(t.transactionQueueTree_,e)),yI(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ks(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ct("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}gp(t,e)}},s)}function gp(t,e){let n=mN(t,e),r=al(n),i=vN(t,n);return Aq(t,i,r),r}function Aq(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Qe(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat($i(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=yq)u=!0,d="maxretry",i=i.concat($i(t.serverSyncTree_,c.currentWriteId,!0));else{let f=gN(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){pI("transaction failed: Data returned ",h,c.path);let g=Ue(h);typeof h=="object"&&h!=null&&wt(h,".priority")||(g=g.updatePriority(f.getPriority()));let E=c.currentWriteId,A=mI(t),be=nN(g,f,A);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=be,c.currentWriteId=pN(t),s.splice(s.indexOf(E),1),i=i.concat(QR(t.serverSyncTree_,c.path,be,c.currentWriteId,c.applyLocally)),i=i.concat($i(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat($i(t.serverSyncTree_,c.currentWriteId,!0))}Rn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}mp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ks(r[a]);yI(t,t.transactionQueueTree_)}function mN(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&Fs(r)===void 0;)r=hI(r,n),e=se(e),n=j(e);return r}function vN(t,e){let n=[];return yN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yN(t,e,n){let r=Fs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);hp(e,i=>{yN(t,i,n)})}function mp(t,e){let n=Fs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,rN(e,n.length>0?n:void 0)}hp(e,r=>{mp(t,r)})}function _N(t,e){let n=al(mN(t,e)),r=hI(t.transactionQueueTree_,e);return lq(r,i=>{rE(t,i)}),rE(t,r),oN(r,i=>{rE(t,i)}),n}function rE(t,e){let n=Fs(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat($i(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?rN(e,void 0):n.length=o+1,Rn(t.eventQueue_,al(e),i);for(let s=0;s<r.length;s++)ks(r[s])}}function Mq(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Rq(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}var oR=function(t,e){let n=Nq(t),r=n.namespace;n.domain==="firebase.com"&&lr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&lr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hz();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Uh(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new J(n.pathString)}},Nq=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Mq(t.substring(u,d)));let f=Rq(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var sR="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Oq=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=sR.charAt(n%64),n=Math.floor(n/64);_(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=sR.charAt(e[i]);return _(s.length===20,"nextPushId: Length should be 20."),s}}();var op=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ie(this.snapshot.exportVal())}},sp=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ap=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var qE=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:SR(this._path)}get ref(){return new Nn(this._repo,this._path)}get _queryIdentifier(){let e=WM(this._queryParams),n=JE(e);return n==="{}"?"default":n}get _queryObject(){return WM(this._queryParams)}isEqual(e){if(e=M(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=eI(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Gz(this._path)}};var Nn=class t extends qE{constructor(e,n){super(e,n,new TE,!1)}get parent(){let e=MR(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},tl=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new J(e),r=ur(this.ref,e);return new t(this._node.getChild(n),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ur(this.ref,r),pe)))}hasChild(e){let n=new J(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function vp(t,e){return t=M(t),t._checkNotDeleted("ref"),e!==void 0?ur(t._root,e):t._root}function ur(t,e){return t=M(t),j(t._path)===null?pq("child","path",e,!1):lN("child","path",e,!1),new Nn(t._repo,Oe(t._path,e))}function _I(t,e){t=M(t),uN("push",t._path),cN("push",e,t._path,!0);let n=hN(t._repo),r=Oq(n),i=ur(t,r),o=ur(t,r),s;return e!=null?s=yp(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function yp(t,e){t=M(t),uN("set",t._path),cN("set",e,t._path,!1);let n=new Or;return wq(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function EI(t){t=M(t);let e=new ap(()=>{}),n=new cp(e);return Iq(t._repo,t,n).then(r=>new tl(r,new Nn(t._repo,t._path),t._queryParams.getIndex()))}var cp=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new op("value",this,new tl(e.snapshotNode,new Nn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sp(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},YE=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sp(this,e,n):null}createEvent(e,n){_(e.childName!=null,"Child events should have a childName.");let r=ur(new Nn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new op(e.type,this,new tl(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Pq(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{iR(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new ap(n,o||void 0),a=e==="value"?new cp(s):new YE(e,s);return bq(t._repo,t,a),()=>iR(t._repo,t,a)}function II(t,e,n,r){return Pq(t,"value",e,n,r)}BG(Nn);GG(Nn);var xq="FIREBASE_DATABASE_EMULATOR_HOST",KE={},kq=!1;function Fq(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=as(o);t.repoInfo_=new Uh(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function Lq(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||lr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ye("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=oR(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[xq]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=oR(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new zc(zc.OWNER):new lE(t.name,t.options,e);gq("Invalid Firebase Database URL",s),H(s.path)||lr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Uq(a,t,u,new cE(t,n));return new ZE(d,t)}function Vq(t,e){let n=KE[e];(!n||n[t.key]!==t)&&lr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Dq(t),delete n[t.key]}function Uq(t,e,n,r){let i=KE[e.name];i||(i={},KE[e.name]=i);let o=i[t.toURLString()];return o&&lr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new GE(t,kq,n,r),i[t.toURLString()]=o,o}var ZE=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_q(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nn(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Vq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&lr("Cannot call "+e+" on a deleted database.")}};function wI(t=hc(),e){let n=Ri(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=r0("database");r&&EN(n,...r)}return n}function EN(t,e,n,r={}){t=M(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&En(r,o.repoInfo_.emulatorOptions))return;lr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&lr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new zc(zc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:i0(r.mockUserToken,t.app.options.projectId);s=new zc(a)}as(e)&&Sf(e),Fq(o,i,r,s)}function jq(t){uz(Kt),Yt(new Ge("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Lq(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Le(SM,AM,t),Le(SM,AM,"esm2017")}tI.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tI.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jq();function Yi(){return window}var Bq=2e3;function Hq(t,e,n){return p(this,null,function*(){var r;let{BuildInfo:i}=Yi();xt(e.sessionId,"AuthEvent did not contain a session ID");let o=yield qq(e.sessionId),s={};return ys()?s.ibi=i.packageName:vs()?s.apn=i.packageName:ye(t,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Zf(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)})}function $q(t){return p(this,null,function*(){let{BuildInfo:e}=Yi(),n={};ys()?n.iosBundleId=e.packageName:vs()?n.androidPackageName=e.packageName:ye(t,"operation-not-supported-in-this-environment"),yield K_(t,n)})}function Wq(t){let{cordova:e}=Yi();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,sM()?"_blank":"_system","location=yes"),n(i)})})}function zq(t,e,n){return p(this,null,function*(){let{cordova:r}=Yi(),i=()=>{};try{yield new Promise((o,s)=>{let a=null;function c(){var d;o();let f=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof f=="function"&&f(),typeof n?.close=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{s(Ce(t,"redirect-cancelled-by-user"))},Bq))}function u(){document?.visibilityState==="visible"&&l()}e.addPassiveListener(c),document.addEventListener("resume",l,!1),vs()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})}function Gq(t){var e,n,r,i,o,s,a,c,l,u;let d=Yi();y(typeof((e=d?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),y(typeof((n=d?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),y(typeof((o=(i=(r=d?.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y(typeof((c=(a=(s=d?.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y(typeof((u=(l=d?.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qq(t){return p(this,null,function*(){let e=Yq(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")})}function Yq(t){if(xt(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var Kq=20,CI=class extends Sc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return p(this,null,function*(){yield this.initPromise})}};function Zq(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Xq(),postBody:null,tenantId:t.tenantId,error:Ce(t,"no-auth-event")}}function Qq(t,e){return bI()._set(DI(t),e)}function IN(t){return p(this,null,function*(){let e=yield bI()._get(DI(t));return e&&(yield bI()._remove(DI(t))),e})}function Jq(t,e){var n,r;let i=t3(e);if(i.includes("/__/auth/callback")){let o=_p(i),s=o.firebaseError?e3(decodeURIComponent(o.firebaseError)):null,a=(r=(n=s?.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=a?Ce(a):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Xq(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Kq;n++){let r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function bI(){return qe(Tn)}function DI(t){return Dn("authEvent",t.config.apiKey,t.name)}function e3(t){try{return JSON.parse(t)}catch{return null}}function t3(t){let e=_p(t),n=e.link?decodeURIComponent(e.link):void 0,r=_p(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return _p(i).link||i||r||n||t}function _p(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return Pr(n.join("?"))}var n3=500,TI=class{constructor(){this._redirectPersistence=at,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ji,this._overrideRedirectResult=ws}_initialize(e){return p(this,null,function*(){let n=e._key(),r=this.eventManagers.get(n);return r||(r=new CI(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r})}_openPopup(e){ye(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,r,i){return p(this,null,function*(){Gq(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),_M(),yield this._originValidation(e);let s=Zq(e,r,i);yield Qq(e,s);let a=yield Hq(e,s,n),c=yield Wq(a);return zq(e,o,c)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$q(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Yi(),s=setTimeout(()=>p(null,null,function*(){yield IN(e),n.onEvent(wN())}),n3),a=u=>p(null,null,function*(){clearTimeout(s);let d=yield IN(e),f=null;d&&u?.url&&(f=Jq(d,u.url)),n.onEvent(f||wN())});typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);let c=i,l=`${o.packageName.toLowerCase()}://`;Yi().handleOpenURL=u=>p(null,null,function*(){if(u.toLowerCase().startsWith(l)&&a({url:u}),typeof c=="function")try{c(u)}catch(d){console.error(d)}})}},CN=TI;function wN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function bN(t,e){oe(t)._logFramework(e)}var i3="@firebase/auth-compat",o3="0.5.22";var s3=1e3;function ul(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function a3(){return ul()==="http:"||ul()==="https:"}function SN(t=ve()){return!!((ul()==="file:"||ul()==="ionic:"||ul()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function c3(){return Si()||Ly()}function l3(){return bf()&&document?.documentMode===11}function u3(t=ve()){return/Edge\/\d+/.test(t)}function d3(t=ve()){return l3()||u3(t)}function AN(){try{let t=self.localStorage,e=Vi();if(t)return t.setItem(e,"1"),t.removeItem(e),d3()?os():!0}catch{return OI()&&os()}return!1}function OI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function SI(){return(a3()||Cf()||SN())&&!c3()&&AN()&&!OI()}function MN(){return SN()&&typeof document<"u"}function f3(){return p(this,null,function*(){return MN()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},s3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function h3(){return typeof window<"u"?window:null}var Ct={LOCAL:"local",NONE:"none",SESSION:"session"},cl=y,RN="persistence";function p3(t,e){if(cl(Object.values(Ct).includes(e),t,"invalid-persistence-type"),Si()){cl(e!==Ct.SESSION,t,"unsupported-persistence-type");return}if(Ly()){cl(e===Ct.NONE,t,"unsupported-persistence-type");return}if(OI()){cl(e===Ct.NONE||e===Ct.LOCAL&&os(),t,"unsupported-persistence-type");return}cl(e===Ct.NONE||AN(),t,"unsupported-persistence-type")}function AI(t){return p(this,null,function*(){yield t._initializationPromise;let e=NN(),n=Dn(RN,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())})}function g3(t,e){let n=NN();if(!n)return[];let r=Dn(RN,t,e);switch(n.getItem(r)){case Ct.NONE:return[or];case Ct.LOCAL:return[cr,at];case Ct.SESSION:return[at];default:return[]}}function NN(){var t;try{return((t=h3())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var m3=y,On=class{constructor(){this.browserResolver=qe(Vc),this.cordovaResolver=qe(CN),this.underlyingResolver=null,this._redirectPersistence=at,this._completeRedirectFn=ji,this._overrideRedirectResult=ws}_initialize(e){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,r,i){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)})}_openRedirect(e,n,r,i){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return MN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return m3(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return p(this,null,function*(){if(this.underlyingResolver)return;let e=yield f3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function ON(t){return t.unwrap()}function v3(t){return t.wrapped()}function y3(t){return PN(t)}function _3(t,e){var n;let r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let i=e;i.resolver=new RI(t,Ih(t,e))}else if(r){let i=PN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function PN(t){let{_tokenResponse:e}=t instanceof Fe?t.customData:t;if(!e)return null;if(!(t instanceof Fe)&&"temporaryProof"in e&&"phoneNumber"in e)return jr.credentialFromResult(t);let n=e.providerId;if(!n||n===Ur.PASSWORD)return null;let r;switch(n){case Ur.GOOGLE:r=Oc;break;case Ur.FACEBOOK:r=Nc;break;case Ur.GITHUB:r=Pc;break;case Ur.TWITTER:r=xc;break;default:let{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:c}=e;return!o&&!s&&!i&&!a?null:a?n.startsWith("saml.")?xi._create(n,a):kt._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:o}):new Pi(n).credential({idToken:i,accessToken:o,rawNonce:c})}return t instanceof Fe?r.credentialFromError(t):r.credentialFromResult(t)}function dt(t,e){return e.catch(n=>{throw n instanceof Fe&&_3(t,n),n}).then(n=>{let r=n.operationType,i=n.user;return{operationType:r,credential:y3(n),additionalUserInfo:_h(n),user:Ls.getOrCreate(i)}})}function MI(t,e){return p(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:r=>dt(t,n.confirm(r))}})}var RI=class{constructor(e,n){this.resolver=n,this.auth=v3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return dt(ON(this.auth),this.resolver.resolveSignIn(e))}};var Ls=class t{constructor(e){this._delegate=e,this.multiFactor=wh(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return p(this,null,function*(){return dt(this.auth,kc(this._delegate,e))})}linkWithPhoneNumber(e,n){return p(this,null,function*(){return MI(this.auth,Dh(this._delegate,e,n))})}linkWithPopup(e){return p(this,null,function*(){return dt(this.auth,Nh(this._delegate,e,On))})}linkWithRedirect(e){return p(this,null,function*(){return yield AI(oe(this.auth)),xh(this._delegate,e,On)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return p(this,null,function*(){return dt(this.auth,Fc(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return MI(this.auth,Th(this._delegate,e,n))}reauthenticateWithPopup(e){return dt(this.auth,Rh(this._delegate,e,On))}reauthenticateWithRedirect(e){return p(this,null,function*(){return yield AI(oe(this.auth)),Ph(this._delegate,e,On)})}sendEmailVerification(e){return ph(this._delegate,e)}unlink(e){return p(this,null,function*(){return yield th(this._delegate,e),this})}updateEmail(e){return vh(this._delegate,e)}updatePassword(e){return yh(this._delegate,e)}updatePhoneNumber(e){return Ah(this._delegate,e)}updateProfile(e){return mh(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return gh(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ls.USER_MAP=new WeakMap;var ll=y,DN=(()=>{class t{constructor(n,r){if(this.app=n,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:i}=n.options;ll(i,"invalid-api-key",{appName:n.name}),ll(i,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?On:void 0;this._delegate=r.initialize({options:{persistence:E3(i,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(Qf),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,r){Rc(this._delegate,n,r)}applyActionCode(n){return ah(this._delegate,n)}checkActionCode(n){return Lc(this._delegate,n)}confirmPasswordReset(n,r){return sh(this._delegate,n,r)}createUserWithEmailAndPassword(n,r){return p(this,null,function*(){return dt(this._delegate,lh(this._delegate,n,r))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return hh(this._delegate,n)}isSignInWithEmailLink(n){return dh(this._delegate,n)}getRedirectResult(){return p(this,null,function*(){ll(SI(),this._delegate,"operation-not-supported-in-this-environment");let n=yield kh(this._delegate,On);return n?dt(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){bN(this._delegate,n)}onAuthStateChanged(n,r,i){let{next:o,error:s,complete:a}=TN(n,r,i);return this._delegate.onAuthStateChanged(o,s,a)}onIdTokenChanged(n,r,i){let{next:o,error:s,complete:a}=TN(n,r,i);return this._delegate.onIdTokenChanged(o,s,a)}sendSignInLinkToEmail(n,r){return uh(this._delegate,n,r)}sendPasswordResetEmail(n,r){return oh(this._delegate,n,r||void 0)}setPersistence(n){return p(this,null,function*(){p3(this._delegate,n);let r;switch(n){case Ct.SESSION:r=at;break;case Ct.LOCAL:r=(yield qe(cr)._isAvailable())?cr:Tn;break;case Ct.NONE:r=or;break;default:return ye("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return dt(this._delegate,eh(this._delegate))}signInWithCredential(n){return dt(this._delegate,Li(this._delegate,n))}signInWithCustomToken(n){return dt(this._delegate,rh(this._delegate,n))}signInWithEmailAndPassword(n,r){return dt(this._delegate,Es(this._delegate,n,r))}signInWithEmailLink(n,r){return dt(this._delegate,fh(this._delegate,n,r))}signInWithPhoneNumber(n,r){return MI(this._delegate,bh(this._delegate,n,r))}signInWithPopup(n){return p(this,null,function*(){return ll(SI(),this._delegate,"operation-not-supported-in-this-environment"),dt(this._delegate,Mh(this._delegate,n,On))})}signInWithRedirect(n){return p(this,null,function*(){return ll(SI(),this._delegate,"operation-not-supported-in-this-environment"),yield AI(this._delegate),Oh(this._delegate,n,On)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return ch(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Ct,t})();function TN(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);let i=r;return{next:s=>i(s&&Ls.getOrCreate(s)),error:e,complete:n}}function E3(t,e){let n=g3(t,e);if(typeof self<"u"&&!n.includes(cr)&&n.push(cr),typeof window<"u")for(let r of[Tn,at])n.includes(r)||n.push(r);return n.includes(or)||n.push(or),n}var dl=class{static credential(e,n){return jr.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new jr(ON(Sn.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};dl.PHONE_SIGN_IN_METHOD=jr.PHONE_SIGN_IN_METHOD;dl.PROVIDER_ID=jr.PROVIDER_ID;var I3=y,NI=class{constructor(e,n,r=Sn.app()){var i;I3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new gs(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var w3="auth-compat";function C3(t){t.INTERNAL.registerComponent(new Ge(w3,e=>{let n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new DN(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sr.EMAIL_SIGNIN,PASSWORD_RESET:sr.PASSWORD_RESET,RECOVER_EMAIL:sr.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:sr.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:sr.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:sr.VERIFY_EMAIL}},EmailAuthProvider:_s,FacebookAuthProvider:Nc,GithubAuthProvider:Pc,GoogleAuthProvider:Oc,OAuthProvider:Pi,SAMLAuthProvider:ps,PhoneAuthProvider:dl,PhoneMultiFactorGenerator:Fh,RecaptchaVerifier:NI,TwitterAuthProvider:xc,Auth:DN,AuthCredential:Zt,Error:Fe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(i3,o3)}C3(Sn);var b3={apiKey:"AIzaSyCDtOwsoKre5oqjIoJsmBYzoxV7LR60qSw",authDomain:"dnd-chat-a8837.firebaseapp.com",projectId:"dnd-chat-a8837",storageBucket:"dnd-chat-a8837.firebasestorage.app",messagingSenderId:"864563449838",appId:"1:864563449838:web:7209ce2fc10397c6bd08ff",measurementId:"G-Y1WEV8SC08",databaseURL:"https://dnd-chat-a8837-default-rtdb.europe-west1.firebasedatabase.app"},PI=Sn.initializeApp(b3),JX=Sn.auth(),Ep=wI(PI);var D3="firebase",T3="11.7.1";Le(D3,T3,"app");function xI(t){t===void 0&&(Uu(xI),t=m(nt));let e=t.get(da);return n=>new V(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Vs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Vs||{}),xN=pv()&&typeof Zone<"u"?Vs.WARN:Vs.SILENT;var Ip=class{zone;delegate;constructor(e,n=ig){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},FN=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=m(ne);this.outsideAngular=n.runOutsideAngular(()=>new Ip(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ip(typeof Zone>"u"?void 0:Zone.current,rg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kN=!1;function S3(t,e){!kN&&(xN>Vs.SILENT||pv())&&(kN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),xN>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function A3(t){let e=m(ne,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ki(t){let e=m(ne,{optional:!0});return e?e.run(()=>t()):t()}var M3=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Be(n,()=>Ki(()=>t.apply(void 0,r)))),LN=(t,e,n)=>(n||=e?Vs.WARN:Vs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=m(FN),s=m(da),a=m(je)}catch{return S3(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ki(()=>s.add())),i[l]=M3(i[l],r,a));let c=A3(()=>t.apply(this,i));return e?c instanceof V?c.pipe(hr(o.outsideAngular),fr(o.insideAngular),xI(a)):c instanceof Promise?Ki(()=>new Promise((l,u)=>{s.run(()=>c).then(d=>Be(a,()=>Ki(()=>l(d))),d=>Be(a,()=>Ki(()=>u(d))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ki(()=>c):c instanceof V?c.pipe(hr(o.outsideAngular),fr(o.insideAngular)):Ki(()=>c)});var VN=LN(vp,!0,2);var Us=class t{auth=Br(PI);usernameRef;constructor(){this.usernameRef=VN(Ep,"users")}login(e,n,r=!1){let i=r?Tn:at;return Eh(this.auth,i).then(()=>Es(this.auth,e,n)).then(o=>o.user).catch(o=>{let s=o.code,a=o.message;throw console.error("Error during login:",s,a),o})}getCurrentUser(){return new Promise(e=>{let n=Is(this.auth,r=>{n(),e(r)})})}isSignedIn(){return this.getCurrentUser().then(e=>!!e)}getUserNameById(e){let n=ur(this.usernameRef,e);return EI(n).then(r=>{if(r.exists()){console.log("Data found for user",e,":",r.val());let i=r.val();if(i)return i;throw console.log("Username not found for user",e),alert("Username not found for user "+e),new Error("Username not found")}else throw console.log("No data available for user:",e),alert("No data available for user "+e),new Error("No data available")}).catch(r=>{throw console.error("Error fetching data for user",e,":",r),alert("Error fetching data for user "+e+": "+r),r})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};function R3(t,e){if(t&1&&(X(0,"div",20),Ze(1),ae()),t&2){let n=od();He(),_a(" ",n.error," ")}}function N3(t,e){t&1&&(X(0,"div",21),Ze(1," Please enter a valid email "),ae())}function O3(t,e){t&1&&(X(0,"div",21),Ze(1," Password must be at least 6 characters long "),ae())}var wp=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.loginForm=this.fb.group({email:["",[Xn.required,Xn.email]],password:["",[Xn.required,Xn.minLength(6)]],rememberMe:[!1]})}loginForm;error="";loading=!1;ngOnInit(){this.authService.isSignedIn().then(e=>{e&&this.router.navigate(["/chat"])})}onSubmit(){if(this.error="",this.loading=!0,this.loginForm.valid){let{email:e,password:n,rememberMe:r}=this.loginForm.value;this.authService.login(e,n,r).then(()=>{this.loading=!1,this.router.navigate(["/chat"])}).catch(i=>{this.loading=!1,this.error=i.message})}}static \u0275fac=function(n){return new(n||t)(U(yf),U(Us),U(Rr))};static \u0275cmp=pn({type:t,selectors:[["app-signin"]],decls:30,vars:6,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-4","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"rounded-lg","border","border-gray-200","bg-white","px-4","py-8","shadow-lg","transition-all","duration-300","hover:shadow-xl","sm:px-10"],[1,"flex","flex-col","items-center"],["src","https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600","alt","D&D Chat",1,"h-12","w-auto"],[1,"text-md","mt-6","text-center","font-bold","tracking-tight","text-gray-900","md:text-lg"],[1,"mt-8"],["class","mb-4 text-center text-base text-red-600 md:text-lg",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-900","md:text-base","lg:text-lg"],[1,"mt-2"],["type","email","name","email","id","email","formControlName","email","autocomplete","email","placeholder","Enter your email",1,"block","w-full","rounded-md","border","border-gray-300","bg-white","px-3","py-2","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6","md:py-3","md:text-lg","lg:py-4"],["class","mt-1 text-sm text-red-600 md:text-base",4,"ngIf"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm","font-medium","text-gray-900"],["type","password","name","password","id","password","formControlName","password","autocomplete","current-password","placeholder","Enter your password",1,"block","w-full","rounded-md","border","border-gray-300","bg-white","px-3","py-2","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6","md:py-3","md:text-lg","lg:py-4"],[1,"flex","items-center"],["id","remember-me","name","remember-me","type","checkbox","formControlName","rememberMe",1,"h-4","w-4","rounded","border-gray-300","text-indigo-600","focus:ring-indigo-600"],["for","remember-me",1,"ml-2","block","text-sm","text-gray-900"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","transition-colors","duration-200","hover:bg-indigo-500","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600","disabled:bg-indigo-300","md:py-3","md:text-base","lg:py-4","lg:text-lg",3,"disabled"],[1,"mb-4","text-center","text-base","text-red-600","md:text-lg"],[1,"mt-1","text-sm","text-red-600","md:text-base"]],template:function(n,r){if(n&1&&(X(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_t(4,"img",4),X(5,"h2",5),Ze(6," Sign in to your account "),ae()(),X(7,"div",6),gi(8,R3,2,1,"div",7),X(9,"form",8),zn("ngSubmit",function(){return r.onSubmit()}),X(10,"div")(11,"label",9),Ze(12,"Email address"),ae(),X(13,"div",10),_t(14,"input",11),ae(),gi(15,N3,2,0,"div",12),ae(),X(16,"div")(17,"div",13)(18,"label",14),Ze(19,"Password"),ae()(),X(20,"div",10),_t(21,"input",15),ae(),gi(22,O3,2,0,"div",12),ae(),X(23,"div",16),_t(24,"input",17),X(25,"label",18),Ze(26,"Remember me"),ae()(),X(27,"div")(28,"button",19),Ze(29),ae()()()()()()()),n&2){let i,o;He(8),it("ngIf",r.error),He(),it("formGroup",r.loginForm),He(6),it("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),He(7),it("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),He(6),it("disabled",r.loginForm.invalid||r.loading),He(),_a(" ",r.loading?"Loading...":"Sign in"," ")}},dependencies:[Dr,Cv,_f,vf,ns,Iy,hf,pf,oc,sc,QA],encapsulation:2})};var P3=(t,e)=>({"self-end bg-blue-100":t,"bg-gray-100":e}),Cp=class t{message;currentUserId;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pn({type:t,selectors:[["app-message"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:9,vars:10,consts:[[1,"message-container","mb-4","rounded-lg","p-3",3,"ngClass"],[1,"mb-1","flex","items-center","justify-between"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],[1,"message-content"]],template:function(n,r){n&1&&(X(0,"div",0)(1,"div",1)(2,"span",2),Ze(3),ae(),X(4,"span",3),Ze(5),CT(6,"date"),ae()(),X(7,"p",4),Ze(8),ae()()),n&2&&(it("ngClass",IT(7,P3,(r.message==null?null:r.message.user_id)===r.currentUserId,(r.message==null?null:r.message.user_id)!==r.currentUserId)),He(3),ya(r.message==null?null:r.message.username),He(2),ya(bT(6,4,r.message==null?null:r.message.created_at,"short")),He(3),ya(r.message==null?null:r.message.content))},dependencies:[Dr,wv,bv],encapsulation:2})};var bp=class t{messagesRef;unsubscribeMessages=null;messagesSubject=new Se([]);messages$=this.messagesSubject.asObservable();constructor(){this.messagesRef=vp(Ep,"messages")}subscribeToMessages(){this.unsubscribeMessages||(this.unsubscribeMessages=II(this.messagesRef,e=>{let n=e.val(),r=[];n&&Object.keys(n).forEach(i=>{let o=n[i];r.push({id:parseInt(i),content:o.content,username:o.username,user_id:o.user_id,created_at:new Date(o.created_at)})}),this.messagesSubject.next(r)}))}unsubscribeFromMessages(){this.unsubscribeMessages&&(this.unsubscribeMessages(),this.unsubscribeMessages=null)}sendMessage(e,n,r){let i=_I(this.messagesRef),o={content:e,user_id:n,username:r,created_at:new Date().toISOString()};return yp(i,o).then(()=>{console.log("Message sent successfully!")}).catch(s=>{throw console.error("Error sending message:",s),s})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};function k3(t,e){if(t&1&&(X(0,"section"),_t(1,"app-message",7),ae()),t&2){let n=e.$implicit,r=od();He(),it("message",n)("currentUserId",r.currentUserId)}}var Dp=class t{constructor(e,n,r){this.fb=e;this.chatService=n;this.authService=r;this.messageForm=this.fb.group({content:["",Xn.required]})}logout=new ge;messages=[];messageForm;currentUserId="";messageSubscription=null;ngOnInit(){this.chatService.subscribeToMessages(),this.messageSubscription=this.chatService.messages$.subscribe(r=>{this.messages=r});let n=Br().currentUser;n&&(this.currentUserId=n.uid)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.chatService.unsubscribeFromMessages()}hashStringToNumber(e){let n=0;for(let r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return Math.abs(n)}sendMessage(){if(this.messageForm.valid){let e=this.messageForm.value.content;this.authService.getUserNameById(this.currentUserId).then(n=>{this.chatService.sendMessage(e,this.currentUserId,n).then(()=>{this.messageForm.reset()}).catch(r=>{console.error("Error sending message:",r)})}).catch(n=>{console.error("Error fetching user name:",n)})}}static \u0275fac=function(n){return new(n||t)(U(yf),U(bp),U(Us))};static \u0275cmp=pn({type:t,selectors:[["app-chat"]],outputs:{logout:"logout"},decls:8,vars:3,consts:[[1,"flex","h-full","flex-col","bg-white"],[1,"flex-1","overflow-auto","p-4"],[4,"ngFor","ngForOf"],[1,"border-t","p-4"],[1,"flex",3,"ngSubmit","formGroup"],["type","text","formControlName","content","placeholder","Type a message...",1,"flex-1","rounded-l","border","p-2","focus:outline-none"],["type","submit",1,"rounded-r","bg-blue-500","px-4","py-2","text-white","hover:bg-blue-600",3,"disabled"],[3,"message","currentUserId"]],template:function(n,r){n&1&&(X(0,"div",0)(1,"div",1),gi(2,k3,2,2,"section",2),ae(),X(3,"div",3)(4,"form",4),zn("ngSubmit",function(){return r.sendMessage()}),_t(5,"input",5),X(6,"button",6),Ze(7," Send "),ae()()()()),n&2&&(He(2),it("ngForOf",r.messages),He(2),it("formGroup",r.messageForm),He(2),it("disabled",!r.messageForm.valid))},dependencies:[Dr,vd,_f,vf,ns,hf,pf,oc,sc,Cp],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden}.sidebar[_ngcontent-%COMP%]{width:300px;background-color:#2c3e50;color:#fff;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.sidebar-header[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.25rem;cursor:pointer}.sidebar-header[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:#3498db}.create-room-form[_ngcontent-%COMP%]{padding:1rem;background-color:#0003}.create-room-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:.5rem;border:1px solid #34495e;border-radius:4px;background-color:#ffffffe6}.create-room-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.create-room-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.5rem}.create-room-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:.5rem}.room-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);cursor:pointer}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.room-list[_ngcontent-%COMP%]   .room-item.active[_ngcontent-%COMP%]{background-color:#3498db}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]   .room-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.25rem}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]   .room-description[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8;margin-bottom:.25rem}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem;opacity:.6}.user-actions[_ngcontent-%COMP%]{padding:1rem;background-color:#0003}.user-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{width:100%;padding:.5rem;background-color:transparent;color:#fff;border:1px solid rgba(255,255,255,.3);border-radius:4px;cursor:pointer}.user-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.chat-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:#ecf0f1}.no-room-selected[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem;color:#7f8c8d}.no-room-selected[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.chat-room[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px #0000001a}.chat-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.chat-header[_ngcontent-%COMP%]   .btn-leave[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.chat-header[_ngcontent-%COMP%]   .btn-leave[_ngcontent-%COMP%]:hover{background-color:#c0392b}.message-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;background-color:#fff}.message-container[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;color:#95a5a6}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem;background-color:#ecf0f1;border-radius:8px;max-width:70%}.message-list[_ngcontent-%COMP%]   .message-item.own-message[_ngcontent-%COMP%]{margin-left:auto;background-color:#3498db;color:#fff}.message-list[_ngcontent-%COMP%]   .message-item.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#ffffffb3}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.25rem;font-size:.8rem}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{font-weight:700}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#95a5a6}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-break:break-word}.message-input[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;border-top:1px solid #ecf0f1}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid #ddd;border-radius:4px 0 0 4px;font-size:1rem}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background-color:#3498db;color:#fff;border:none;border-radius:0 4px 4px 0;cursor:pointer}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem;color:#95a5a6}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.3);color:#fff;border-radius:4px;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}"]})};var Tp=class t{constructor(e){this.router=e}canActivate=(e,n)=>{let r=Br();return new Promise(i=>{Is(r,o=>{o?i(!0):(this.router.navigate(["/signin"]),i(!1))})})};static \u0275fac=function(n){return new(n||t)(S(Rr))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var jN=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:wp},{path:"chat",component:Dp,canActivate:[Tp]}];var BN={providers:[ST({eventCoalescing:!0}),py(jN),RS(MS()),Hv($v())]};var Sp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pn({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"mx-auto","flex","h-screen","w-full","flex-col","items-center","justify-center","bg-gray-50","2xl:container"]],template:function(n,r){n&1&&(X(0,"div",0),_t(1,"router-outlet"),ae())},dependencies:[Za],encapsulation:2})};xv(Sp,BN).catch(t=>console.error(t));
