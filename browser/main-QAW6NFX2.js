var lI=Object.defineProperty,hN=Object.defineProperties;var pN=Object.getOwnPropertyDescriptors;var Zc=Object.getOwnPropertySymbols,gN=Object.getPrototypeOf,uI=Object.prototype.hasOwnProperty,dI=Object.prototype.propertyIsEnumerable,mN=Reflect.get;var cI=(t,e,n)=>e in t?lI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})uI.call(e,n)&&cI(t,n,e[n]);if(Zc)for(var n of Zc(e))dI.call(e,n)&&cI(t,n,e[n]);return t},L=(t,e)=>hN(t,pN(e));var fI=(t,e)=>{var n={};for(var r in t)uI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zc)for(var r of Zc(t))e.indexOf(r)<0&&dI.call(t,r)&&(n[r]=t[r]);return n};var vN=(t,e)=>{for(var n in e)lI(t,n,{get:e[n],enumerable:!0})};var Hr=(t,e,n)=>mN(gN(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function cp(t,e){return Object.is(t,e)}var De=null,Jc=!1,lp=1,Lt=Symbol("SIGNAL");function $(t){let e=De;return De=t,e}function up(){return De}var Os={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ps(t){if(Jc)throw new Error("");if(De===null)return;De.consumerOnSignalRead(t);let e=De.nextProducerIndex++;if(nl(De),e<De.producerNode.length&&De.producerNode[e]!==t&&Ns(De)){let n=De.producerNode[e];tl(n,De.producerIndexOfThis[e])}De.producerNode[e]!==t&&(De.producerNode[e]=t,De.producerIndexOfThis[e]=Ns(De)?pI(t,De,e):0),De.producerLastReadVersion[e]=t.version}function hI(){lp++}function dp(t){if(!(Ns(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===lp)){if(!t.producerMustRecompute(t)&&!gp(t)){ap(t);return}t.producerRecomputeValue(t),ap(t)}}function fp(t){if(t.liveConsumerNode===void 0)return;let e=Jc;Jc=!0;try{for(let n of t.liveConsumerNode)n.dirty||yN(n)}finally{Jc=e}}function hp(){return De?.consumerAllowSignalWrites!==!1}function yN(t){t.dirty=!0,fp(t),t.consumerMarkedDirty?.(t)}function ap(t){t.dirty=!1,t.lastCleanEpoch=lp}function el(t){return t&&(t.nextProducerIndex=0),$(t)}function pp(t,e){if($(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ns(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)tl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gp(t){nl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dp(n),r!==n.version))return!0}return!1}function mp(t){if(nl(t),Ns(t))for(let e=0;e<t.producerNode.length;e++)tl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pI(t,e,n){if(gI(t),t.liveConsumerNode.length===0&&mI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=pI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function tl(t,e){if(gI(t),t.liveConsumerNode.length===1&&mI(t))for(let r=0;r<t.producerNode.length;r++)tl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];nl(i),i.producerIndexOfThis[r]=e}}function Ns(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mI(t){return t.producerNode!==void 0}function vp(t,e){let n=Object.create(_N);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(dp(n),Ps(n),n.value===Xc)throw n.error;return n.value};return r[Lt]=n,r}var op=Symbol("UNSET"),sp=Symbol("COMPUTING"),Xc=Symbol("ERRORED"),_N=L(I({},Os),{value:op,dirty:!0,error:null,equal:cp,kind:"computed",producerMustRecompute(t){return t.value===op||t.value===sp},producerRecomputeValue(t){if(t.value===sp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=sp;let n=el(t),r,i=!1;try{r=t.computation(),$(null),i=e!==op&&e!==Xc&&r!==Xc&&t.equal(e,r)}catch(o){r=Xc,t.error=o}finally{pp(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function EN(){throw new Error}var vI=EN;function yI(t){vI(t)}function yp(t){vI=t}var IN=null;function _p(t,e){let n=Object.create(rl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Ps(n),n.value);return r[Lt]=n,r}function xs(t,e){hp()||yI(t),t.equal(t.value,e)||(t.value=e,wN(t))}function Ep(t,e){hp()||yI(t),xs(t,e(t.value))}var rl=L(I({},Os),{equal:cp,value:void 0,kind:"signal"});function wN(t){t.version++,hI(),fp(t),IN?.()}function Ip(t){let e=$(null);try{return t()}finally{$(e)}}var wp;function ks(){return wp}function Mn(t){let e=wp;return wp=t,e}var il=Symbol("NotFound");function R(t){return typeof t=="function"}function Hi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ol=Hi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(o){e=o instanceof ol?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_I(o)}catch(s){e=e??[],s instanceof ol?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ol(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_I(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fs(n,e)}remove(e){let{_finalizers:n}=this;n&&Fs(n,e),e instanceof t&&e._removeParent(this)}};ye.EMPTY=(()=>{let t=new ye;return t.closed=!0,t})();var Cp=ye.EMPTY;function sl(t){return t instanceof ye||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function _I(t){R(t)?t():t.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $i={setTimeout(t,e,...n){let{delegate:r}=$i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=$i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function al(t){$i.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(t);else throw t})}function Ls(){}var EI=Dp("C",void 0,void 0);function II(t){return Dp("E",void 0,t)}function wI(t){return Dp("N",t,void 0)}function Dp(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function Wi(t){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function CI(t){Vt.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var Wr=class extends ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=AN}static create(e,n,r){return new zi(e,n,r)}next(e){this.isStopped?Tp(wI(e),this):this._next(e)}error(e){this.isStopped?Tp(II(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tp(EI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TN=Function.prototype.bind;function bp(t,e){return TN.call(t,e)}var Sp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cl(n)}}},zi=class extends Wr{constructor(e,n,r){super();let i;if(R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Vt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&bp(e.next,o),error:e.error&&bp(e.error,o),complete:e.complete&&bp(e.complete,o)}):i=e}this.destination=new Sp(i)}};function cl(t){Vt.useDeprecatedSynchronousErrorHandling?CI(t):al(t)}function SN(t){throw t}function Tp(t,e){let{onStoppedNotification:n}=Vt;n&&$i.setTimeout(()=>n(t,e))}var AN={closed:!0,next:Ls,error:SN,complete:Ls};var Gi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lt(t){return t}function Ap(...t){return Mp(t)}function Mp(t){return t.length===0?lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=RN(n)?n:new zi(n,r,i);return Wi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=DI(r),new r((i,o)=>{let s=new zi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Gi](){return this}pipe(...n){return Mp(n)(this)}toPromise(n){return n=DI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function DI(t){var e;return(e=t??Vt.Promise)!==null&&e!==void 0?e:Promise}function MN(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}function RN(t){return t&&t instanceof Wr||MN(t)&&sl(t)}function Rp(t){return R(t?.lift)}function q(t){return e=>{if(Rp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Np(t,e,n,r,i)}var Np=class extends Wr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qi(){return q((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Yi=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ye;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ye.EMPTY)}return e}refCount(){return qi()(this)}};var bI=Hi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ll(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bI}next(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cp:(this.currentObservers=null,o.push(n),new ye(()=>{this.currentObservers=null,Fs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new ll(e,n),t})(),ll=class extends be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cp}};var Te=class extends be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ke=new G(t=>t.complete());function TI(t){return t&&R(t.schedule)}function SI(t){return t[t.length-1]}function ul(t){return R(SI(t))?t.pop():void 0}function ar(t){return TI(SI(t))?t.pop():void 0}function dl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function AI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function RI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(m){return new Promise(function(E,A){o.push([h,m,E,A])>1||c(h,m)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(r[h](g))}catch(m){f(o[0][3],m)}}function l(h){h.value instanceof zr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function NI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof AI=="function"?AI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var fl=t=>t&&typeof t.length=="number"&&typeof t!="function";function hl(t){return R(t?.then)}function pl(t){return R(t[Gi])}function gl(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function ml(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vl=NN();function yl(t){return R(t?.[vl])}function _l(t){return RI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function El(t){return R(t?.getReader)}function _e(t){if(t instanceof G)return t;if(t!=null){if(pl(t))return ON(t);if(fl(t))return PN(t);if(hl(t))return xN(t);if(gl(t))return OI(t);if(yl(t))return kN(t);if(El(t))return FN(t)}throw ml(t)}function ON(t){return new G(e=>{let n=t[Gi]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PN(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function xN(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,al)})}function kN(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function OI(t){return new G(e=>{LN(t,e).catch(n=>e.error(n))})}function FN(t){return OI(_l(t))}function LN(t,e){var n,r,i,o;return MI(this,void 0,void 0,function*(){try{for(n=NI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qe(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Il(t,e=0){return q((n,r)=>{n.subscribe(W(r,i=>Qe(r,t,()=>r.next(i),e),()=>Qe(r,t,()=>r.complete(),e),i=>Qe(r,t,()=>r.error(i),e)))})}function wl(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PI(t,e){return _e(t).pipe(wl(e),Il(e))}function xI(t,e){return _e(t).pipe(wl(e),Il(e))}function kI(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function FI(t,e){return new G(n=>{let r;return Qe(n,e,()=>{r=t[vl](),Qe(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}function Cl(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Qe(n,e,()=>{let r=t[Symbol.asyncIterator]();Qe(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function LI(t,e){return Cl(_l(t),e)}function VI(t,e){if(t!=null){if(pl(t))return PI(t,e);if(fl(t))return kI(t,e);if(hl(t))return xI(t,e);if(gl(t))return Cl(t,e);if(yl(t))return FI(t,e);if(El(t))return LI(t,e)}throw ml(t)}function se(t,e){return e?VI(t,e):_e(t)}function T(...t){let e=ar(t);return se(t,e)}function Ki(t,e){let n=R(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function Op(t){return!!t&&(t instanceof G||R(t.lift)&&R(t.subscribe))}var Rn=Hi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F(t,e){return q((n,r)=>{let i=0;n.subscribe(W(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:VN}=Array;function UN(t,e){return VN(e)?t(...e):t(e)}function Dl(t){return F(e=>UN(t,e))}var{isArray:jN}=Array,{getPrototypeOf:BN,prototype:HN,keys:$N}=Object;function bl(t){if(t.length===1){let e=t[0];if(jN(e))return{args:e,keys:null};if(WN(e)){let n=$N(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WN(t){return t&&typeof t=="object"&&BN(t)===HN}function Tl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sl(...t){let e=ar(t),n=ul(t),{args:r,keys:i}=bl(t);if(r.length===0)return se([],e);let o=new G(zN(r,e,i?s=>Tl(i,s):lt));return n?o.pipe(Dl(n)):o}function zN(t,e,n=lt){return r=>{UI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)UI(e,()=>{let l=se(t[c],e),u=!1;l.subscribe(W(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function UI(t,e,n){t?Qe(n,t,e):e()}function jI(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=m=>l<r?g(m):c.push(m),g=m=>{o&&e.next(m),l++;let E=!1;_e(n(m,u++)).subscribe(W(e,A=>{i?.(A),o?h(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){let A=c.shift();s?Qe(e,s,()=>g(A)):g(A)}f()}catch(A){e.error(A)}}))};return t.subscribe(W(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Se(t,e,n=1/0){return R(e)?Se((r,i)=>F((o,s)=>e(r,o,i,s))(_e(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>jI(r,i,t,n)))}function BI(t=1/0){return Se(lt,t)}function HI(){return BI(1)}function Qi(...t){return HI()(se(t,ar(t)))}function Al(t){return new G(e=>{_e(t()).subscribe(e)})}function Pp(...t){let e=ul(t),{args:n,keys:r}=bl(t),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;_e(n[u]).subscribe(W(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Tl(r,a):a),o.complete())}))}});return e?i.pipe(Dl(e)):i}function ut(t,e){return q((n,r)=>{let i=0;n.subscribe(W(r,o=>t.call(e,o,i++)&&r.next(o)))})}function cr(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe(W(n,void 0,void 0,s=>{o=_e(t(s,cr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $I(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(W(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function lr(t,e){return R(e)?Se(t,e,1):Se(t,1)}function ur(t){return q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nn(t){return t<=0?()=>Ke:q((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ml(t=GN){return q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function GN(){return new Rn}function Gr(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function On(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):lt,Nn(1),n?ur(e):Ml(()=>new Rn))}function Zi(t){return t<=0?()=>Ke:q((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ut((i,o)=>t(i,o,r)):lt,Zi(1),n?ur(e):Ml(()=>new Rn))}function kp(t,e){return q($I(t,e,arguments.length>=2,!0))}function Fp(...t){let e=ar(t);return q((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function dt(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(W(r,c=>{i?.unsubscribe();let l=0,u=o++;_e(t(c,u)).subscribe(i=W(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Lp(t){return q((e,n)=>{_e(t).subscribe(W(n,()=>n.complete(),Ls)),!n.closed&&e.subscribe(n)})}function Ae(t,e,n){let r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(W(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):lt}var Hp={JSACTION:"jsaction"},$p={JSACTION:"__jsaction",OWNER:"__owner"},qI={};function qN(t){return t[$p.JSACTION]}function WI(t,e){t[$p.JSACTION]=e}function YN(t){return qI[t]}function KN(t,e){qI[t]=e}var b={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},QN=[b.MOUSEENTER,b.MOUSELEAVE,"pointerenter","pointerleave"],RY=[b.CLICK,b.DBLCLICK,b.FOCUSIN,b.FOCUSOUT,b.KEYDOWN,b.KEYUP,b.KEYPRESS,b.MOUSEOVER,b.MOUSEOUT,b.SUBMIT,b.TOUCHSTART,b.TOUCHEND,b.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],ZN=[b.FOCUS,b.BLUR,b.ERROR,b.LOAD,b.TOGGLE],Wp=t=>ZN.indexOf(t)>=0;function JN(t){return t===b.MOUSEENTER?b.MOUSEOVER:t===b.MOUSELEAVE?b.MOUSEOUT:t===b.POINTERENTER?b.POINTEROVER:t===b.POINTERLEAVE?b.POINTEROUT:t}function XN(t,e,n,r){let i=!1;Wp(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function eO(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function tO(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var zI=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function nO(t){return t.which===2||t.which==null&&t.button===4}function rO(t){return zI&&t.metaKey||!zI&&t.ctrlKey||nO(t)||t.shiftKey}function iO(t,e,n){let r=t.relatedTarget;return(t.type===b.MOUSEOVER&&e===b.MOUSEENTER||t.type===b.MOUSEOUT&&e===b.MOUSELEAVE||t.type===b.POINTEROVER&&e===b.POINTERENTER||t.type===b.POINTEROUT&&e===b.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function oO(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===b.MOUSEOVER?n.type=b.MOUSEENTER:t.type===b.MOUSEOUT?n.type=b.MOUSELEAVE:t.type===b.POINTEROVER?n.type=b.POINTERENTER:n.type=b.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var sO=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Pl=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){sO&&(this.element.style.cursor="pointer"),this.handlerInfos.push(XN(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)eO(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},aO={EVENT_ACTION_SEPARATOR:":"};function dr(t){return t.eventType}function zp(t,e){t.eventType=e}function Nl(t){return t.event}function YI(t,e){t.event=e}function KI(t){return t.targetElement}function QI(t,e){t.targetElement=e}function ZI(t){return t.eic}function cO(t,e){t.eic=e}function lO(t){return t.timeStamp}function uO(t,e){t.timeStamp=e}function Ol(t){return t.eia}function JI(t,e,n){t.eia=[e,n]}function Vp(t){t.eia=void 0}function Rl(t){return t[1]}function dO(t){return t.eirp}function XI(t,e){t.eirp=e}function ew(t){return t.eir}function tw(t,e){t.eir=e}function nw(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function fO(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Up=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return dr(this.eventInfo)}setEventType(e){zp(this.eventInfo,e)}getEvent(){return Nl(this.eventInfo)}setEvent(e){YI(this.eventInfo,e)}getTargetElement(){return KI(this.eventInfo)}setTargetElement(e){QI(this.eventInfo,e)}getContainer(){return ZI(this.eventInfo)}setContainer(e){cO(this.eventInfo,e)}getTimestamp(){return lO(this.eventInfo)}setTimestamp(e){uO(this.eventInfo,e)}getAction(){let e=Ol(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Vp(this.eventInfo);return}JI(this.eventInfo,e.name,e.element)}getIsReplay(){return dO(this.eventInfo)}setIsReplay(e){XI(this.eventInfo,e)}getResolved(){return ew(this.eventInfo)}setResolved(e){tw(this.eventInfo,e)}clone(){return new t(nw(this.eventInfo))}},hO={},pO=/\s*;\s*/,gO=b.CLICK,jp=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&dr(e)===b.CLICK&&rO(Nl(e))?zp(e,b.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){ew(e)||(this.populateAction(e,KI(e)),tw(e,!0))}resolveParentAction(e){let n=Ol(e),r=n&&Rl(n);Vp(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==ZI(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Ol(e));)r=this.getParentNode(r);let i=Ol(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(dr(e)===b.MOUSEENTER||dr(e)===b.MOUSELEAVE||dr(e)===b.POINTERENTER||dr(e)===b.POINTERLEAVE)))if(iO(Nl(e),dr(e),Rl(i))){let o=oO(Nl(e),Rl(i));YI(e,o),QI(e,Rl(i))}else Vp(e)}getParentNode(e){let n=e[$p.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[dr(n)];i!==void 0&&JI(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=qN(e);if(!n){let r=e.getAttribute(Hp.JSACTION);if(!r)n=hO,WI(e,n);else{if(n=YN(r),!n){n={};let i=r.split(pO);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(aO.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():gO,u=c?s.substr(a+1).trim():s;n[l]=u}KN(r,n)}WI(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},rw=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(rw||{}),Bp=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Up(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&mO(r.element,n)&&tO(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function mO(t,e){return t.tagName==="A"&&(e.getEventType()===b.CLICK||e.getEventType()===b.CLICKMOD)}var iw=Symbol.for("propagationStopped"),Gp={REPLAY:101};var vO="`preventDefault` called during event replay.";var yO="`composedPath` called during event replay.",xl=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new jp({clickModSupport:n}),this.dispatcher=new Bp(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&IO(e),_O(e);e.getAction();){if(wO(e),Wp(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),EO(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function _O(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[iw]=!0,n()};qr(e,"stopPropagation",r),qr(e,"stopImmediatePropagation",r)}function EO(t){return!!t.getEvent()[iw]}function IO(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);qr(e,"target",n),qr(e,"eventPhase",Gp.REPLAY),qr(e,"preventDefault",()=>{throw r(),new Error(vO+"")}),qr(e,"composedPath",()=>{throw new Error(yO+"")})}function wO(t){let e=t.getEvent(),n=t.getAction()?.element;n&&qr(e,"currentTarget",n,{configurable:!0})}function qr(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function ow(t,e){t.ecrd(n=>{e.dispatch(n)},rw.I_AM_THE_JSACTION_FRAMEWORK)}function CO(t){return t?.q??[]}function DO(t){t&&(GI(t.c,t.et,t.h),GI(t.c,t.etc,t.h,!0))}function GI(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var bO=!1,sw=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=bO;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=fO(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){XI(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&QN.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=JN(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),DO(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=nw(i);zp(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function aw(t,e=window){return CO(e._ejsas?.[t])}function qp(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var TO="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,n){super(em(e,n)),this.code=e}};function SO(t){return`NG0${Math.abs(t)}`}function em(t,e){return`${SO(t)}${e?": "+e:""}`}var aC=Symbol("InputSignalNode#UNSET"),AO=L(I({},rl),{transformFn:void 0,applyValueToInputSignal(t,e){xs(t,e)}});function cC(t,e){let n=Object.create(AO);n.value=t,n.transformFn=e?.transform;function r(){if(Ps(n),n.value===aC){let i=null;throw new C(-950,i)}return n.value}return r[Lt]=n,r}function Qs(t){return{toString:t}.toString()}var kl="__parameters__";function MO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function lC(t,e,n){return Qs(()=>{let r=MO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(kl)?c[kl]:Object.defineProperty(c,kl,{value:[]})[kl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ji=globalThis;function ee(t){for(let e in t)if(t[e]===ee)return e;throw Error("Could not find renamed property on target object.")}function RO(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Je).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function cw(t,e){return t?e?`${t} ${e}`:t:e||""}var NO=ee({__forward_ref__:ee});function go(t){return t.__forward_ref__=go,t.toString=function(){return Je(this())},t}function We(t){return uC(t)?t():t}function uC(t){return typeof t=="function"&&t.hasOwnProperty(NO)&&t.__forward_ref__===go}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Eu(t){return lw(t,fC)||lw(t,hC)}function dC(t){return Eu(t)!==null}function lw(t,e){return t.hasOwnProperty(e)?t[e]:null}function OO(t){let e=t&&(t[fC]||t[hC]);return e||null}function uw(t){return t&&(t.hasOwnProperty(dw)||t.hasOwnProperty(PO))?t[dw]:null}var fC=ee({\u0275prov:ee}),dw=ee({\u0275inj:ee}),hC=ee({ngInjectableDef:ee}),PO=ee({ngInjectorDef:ee}),w=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pC(t){return t&&!!t.\u0275providers}var xO=ee({\u0275cmp:ee}),kO=ee({\u0275dir:ee}),FO=ee({\u0275pipe:ee}),LO=ee({\u0275mod:ee}),Gl=ee({\u0275fac:ee}),Bs=ee({__NG_ELEMENT_ID__:ee}),fw=ee({__NG_ENV_ID__:ee});function gC(t){return typeof t=="string"?t:t==null?"":String(t)}function VO(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gC(t)}function mC(t,e){throw new C(-200,t)}function tm(t,e){throw new C(-201,!1)}var x=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(x||{}),fg;function vC(){return fg}function Ze(t){let e=fg;return fg=t,e}function yC(t,e,n){let r=Eu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&x.Optional)return null;if(e!==void 0)return e;tm(t,"Injector")}var UO={},Kr=UO,hg="__NG_DI_FLAG__",ql=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?il:Kr,r)}},Yl="ngTempTokenPath",jO="ngTokenPath",BO=/\n/gm,HO="\u0275",hw="__source";function $O(t,e=x.Default){if(ks()===void 0)throw new C(-203,!1);if(ks()===null)return yC(t,void 0,e);{let n=ks(),r;return n instanceof ql?r=n.injector:r=n,r.get(t,e&x.Optional?null:void 0,e)}}function S(t,e=x.Default){return(vC()||$O)(We(t),e)}function v(t,e=x.Default){return S(t,Iu(e))}function Iu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pg(t){let e=[];for(let n=0;n<t.length;n++){let r=We(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=x.Default;for(let s=0;s<r.length;s++){let a=r[s],c=WO(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(S(i,o))}else e.push(S(r))}return e}function _C(t,e){return t[hg]=e,t.prototype[hg]=e,t}function WO(t){return t[hg]}function zO(t,e,n,r){let i=t[Yl];throw e[hw]&&i.unshift(e[hw]),t.message=GO(`
`+t.message,i,n,r),t[jO]=i,t[Yl]=null,t}function GO(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==HO?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(BO,`
  `)}`}var EC=_C(lC("Optional"),8);var qO=_C(lC("SkipSelf"),4);function Zr(t,e){let n=t.hasOwnProperty(Gl);return n?t[Gl]:null}function nm(t,e){t.forEach(n=>Array.isArray(n)?nm(n,e):e(n))}function IC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YO(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function KO(t,e,n){let r=Zs(t,e);return r>=0?t[r|1]=n:(r=~r,YO(t,r,e,n)),r}function Yp(t,e){let n=Zs(t,e);if(n>=0)return t[n|1]}function Zs(t,e){return QO(t,e,1)}function QO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jr={},wt=[],hr=new w(""),wC=new w("",-1),CC=new w(""),Ql=class{get(e,n=Kr){if(n===Kr){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}};function DC(t,e){let n=t[LO]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function Xr(t){return t[xO]||null}function bC(t){return t[kO]||null}function TC(t){return t[FO]||null}function gr(t){return{\u0275providers:t}}function ZO(...t){return{\u0275providers:rm(!0,t),\u0275fromNgModule:!0}}function rm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return nm(e,s=>{let a=s;gg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&SC(i,o),n}function SC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];im(i,o=>{e(o,r)})}}function gg(t,e,n,r){if(t=We(t),!t)return!1;let i=null,o=uw(t),s=!o&&Xr(t);if(!o&&!s){let c=t.ngModule;if(o=uw(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)gg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{nm(o.imports,u=>{gg(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&SC(l,e)}if(!a){let l=Zr(i)||(()=>new i);e({provide:i,useFactory:l,deps:wt},i),e({provide:CC,useValue:i,multi:!0},i),e({provide:hr,useValue:()=>S(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;im(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function im(t,e){for(let n of t)pC(n)&&(n=n.\u0275providers),Array.isArray(n)?im(n,e):e(n)}var JO=ee({provide:String,useValue:ee});function AC(t){return t!==null&&typeof t=="object"&&JO in t}function XO(t){return!!(t&&t.useExisting)}function eP(t){return!!(t&&t.useFactory)}function co(t){return typeof t=="function"}function tP(t){return!!t.useClass}var wu=new w(""),Ul={},pw={},Kp;function om(){return Kp===void 0&&(Kp=new Ql),Kp}var ze=class{},Hs=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,vg(e,s=>this.processProvider(s)),this.records.set(wC,Xi(void 0,this)),i.has("environment")&&this.records.set(ze,Xi(void 0,this));let o=this.records.get(wu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CC,wt,x.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?il:Kr,r)}destroy(){Us(this),this._destroyed=!0;let e=$(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(e)}}onDestroy(e){return Us(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Us(this);let n=Mn(this),r=Ze(void 0),i;try{return e()}finally{Mn(n),Ze(r)}}get(e,n=Kr,r=x.Default){if(Us(this),e.hasOwnProperty(fw))return e[fw](this);r=Iu(r);let i,o=Mn(this),s=Ze(void 0);try{if(!(r&x.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=sP(e)&&Eu(e);l&&this.injectableDefInScope(l)?c=Xi(mg(e),Ul):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&x.Self?om():this.parent;return n=r&x.Optional&&n===Kr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yl]=a[Yl]||[]).unshift(Je(e)),o)throw a;return zO(a,e,"R3InjectorError",this.source)}else throw a}finally{Ze(s),Mn(o)}}resolveInjectorInitializers(){let e=$(null),n=Mn(this),r=Ze(void 0),i;try{let o=this.get(hr,wt,x.Self);for(let s of o)s()}finally{Mn(n),Ze(r),$(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=We(e);let n=co(e)?e:We(e&&e.provide),r=rP(e);if(!co(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xi(void 0,Ul,!0),i.factory=()=>pg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=$(null);try{return n.value===pw?mC(Je(e)):n.value===Ul&&(n.value=pw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&oP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{$(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=We(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mg(t){let e=Eu(t),n=e!==null?e.factory:Zr(t);if(n!==null)return n;if(t instanceof w)throw new C(204,!1);if(t instanceof Function)return nP(t);throw new C(204,!1)}function nP(t){if(t.length>0)throw new C(204,!1);let n=OO(t);return n!==null?()=>n.factory(t):()=>new t}function rP(t){if(AC(t))return Xi(void 0,t.useValue);{let e=MC(t);return Xi(e,Ul)}}function MC(t,e,n){let r;if(co(t)){let i=We(t);return Zr(i)||mg(i)}else if(AC(t))r=()=>We(t.useValue);else if(eP(t))r=()=>t.useFactory(...pg(t.deps||[]));else if(XO(t))r=(i,o)=>S(We(t.useExisting),o!==void 0&&o&x.Optional?x.Optional:void 0);else{let i=We(t&&(t.useClass||t.provide));if(iP(t))r=()=>new i(...pg(t.deps));else return Zr(i)||mg(i)}return r}function Us(t){if(t.destroyed)throw new C(205,!1)}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iP(t){return!!t.deps}function oP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function sP(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function vg(t,e){for(let n of t)Array.isArray(n)?vg(n,e):n&&pC(n)?vg(n.\u0275providers,e):e(n)}function mt(t,e){let n;t instanceof Hs?(Us(t),n=t):n=new ql(t);let r,i=Mn(n),o=Ze(void 0);try{return e()}finally{Mn(i),Ze(o)}}function RC(){return vC()!==void 0||ks()!=null}function NC(t){if(!RC())throw new C(-203,!1)}function aP(t){return typeof t=="function"}var pt=0,M=1,N=2,Pe=3,jt=4,$t=5,on=6,Zl=7,gt=8,sn=9,pr=10,ue=11,$s=12,gw=13,mo=14,Dt=15,lo=16,eo=17,uo=18,Cu=19,OC=20,fr=21,Qp=22,Jl=23,Ct=24,io=25,Re=26,PC=1,xn=6,kn=7,Xl=8,eu=9,ht=10;function Bt(t){return Array.isArray(t)&&typeof t[PC]=="object"}function dn(t){return Array.isArray(t)&&t[PC]===!0}function xC(t){return(t.flags&4)!==0}function oi(t){return t.componentOffset>-1}function sm(t){return(t.flags&1)===1}function an(t){return!!t.template}function Ws(t){return(t[N]&512)!==0}function si(t){return(t[N]&256)===256}var yg=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var vo=(()=>{let t=()=>FC;return t.ngInherit=!0,t})();function FC(t){return t.type.prototype.ngOnChanges&&(t.setInput=lP),cP}function cP(){let t=VC(this),e=t?.current;if(e){let n=t.previous;if(n===Jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function lP(t,e,n,r,i){let o=this.declaredInputs[r],s=VC(t)||uP(t,{previous:Jr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new yg(l&&l.currentValue,n,c===Jr),kC(t,e,i,n)}var LC="__ngSimpleChanges__";function VC(t){return t[LC]||null}function uP(t,e){return t[LC]=e}var mw=null;var Q=function(t,e=null,n){mw?.(t,e,n)},dP="svg",fP="math";function Ht(t){for(;Array.isArray(t);)t=t[pt];return t}function UC(t,e){return Ht(e[t])}function fn(t,e){return Ht(e[t.index])}function Du(t,e){return t.data[e]}function hP(t,e){return t[e]}function cn(t,e){let n=e[t];return Bt(n)?n:n[pt]}function am(t){return(t[N]&128)===128}function pP(t){return dn(t[Pe])}function tu(t,e){return e==null?null:t[e]}function jC(t){t[eo]=0}function BC(t){t[N]&1024||(t[N]|=1024,am(t)&&Js(t))}function gP(t,e){for(;t>0;)e=e[mo],t--;return e}function bu(t){return!!(t[N]&9216||t[Ct]?.dirty)}function _g(t){t[pr].changeDetectionScheduler?.notify(8),t[N]&64&&(t[N]|=1024),bu(t)&&Js(t)}function Js(t){t[pr].changeDetectionScheduler?.notify(0);let e=ei(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!am(e)));)e=ei(e)}function HC(t,e){if(si(t))throw new C(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function mP(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function ei(t){let e=t[Pe];return dn(e)?e[Pe]:e}function $C(t){return t[Zl]??=[]}function WC(t){return t.cleanup??=[]}var z={lFrame:eD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Eg=!1;function vP(){return z.lFrame.elementDepthCount}function yP(){z.lFrame.elementDepthCount++}function _P(){z.lFrame.elementDepthCount--}function zC(){return z.bindingsEnabled}function Xs(){return z.skipHydrationRootTNode!==null}function EP(t){return z.skipHydrationRootTNode===t}function IP(t){z.skipHydrationRootTNode=t}function wP(){z.skipHydrationRootTNode=null}function ce(){return z.lFrame.lView}function Wt(){return z.lFrame.tView}function Tt(){let t=GC();for(;t!==null&&t.type===64;)t=t.parent;return t}function GC(){return z.lFrame.currentTNode}function CP(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ea(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function qC(){return z.lFrame.isParent}function DP(){z.lFrame.isParent=!1}function YC(){return Eg}function vw(t){let e=Eg;return Eg=t,e}function KC(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function bP(t){return z.lFrame.bindingIndex=t}function QC(){return z.lFrame.bindingIndex++}function TP(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function SP(){return z.lFrame.inI18n}function AP(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ig(e)}function MP(){return z.lFrame.currentDirectiveIndex}function Ig(t){z.lFrame.currentDirectiveIndex=t}function RP(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ZC(t){z.lFrame.currentQueryIndex=t}function NP(t){let e=t[M];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function JC(t,e,n){if(n&x.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&x.Host);)if(i=NP(o),i===null||(o=o[mo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=z.lFrame=XC();return r.currentTNode=e,r.lView=t,!0}function cm(t){let e=XC(),n=t[M];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function XC(){let t=z.lFrame,e=t===null?null:t.child;return e===null?eD(t):e}function eD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function tD(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nD=tD;function lm(){let t=tD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function OP(t){return(z.lFrame.contextLView=gP(t,z.lFrame.contextLView))[gt]}function yo(){return z.lFrame.selectedIndex}function ti(t){z.lFrame.selectedIndex=t}function PP(){let t=z.lFrame;return Du(t.tView,t.selectedIndex)}function rD(){return z.lFrame.currentNamespace}var iD=!0;function um(){return iD}function mr(t){iD=t}function xP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function oD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function jl(t,e,n){sD(t,e,3,n)}function Bl(t,e,n,r){(t[N]&3)===n&&sD(t,e,n,r)}function Zp(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function sD(t,e,n,r){let i=r!==void 0?t[eo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[eo]+=65536),(a<o||o==-1)&&(kP(t,n,e,c),t[eo]=(t[eo]&4294901760)+c+2),c++}function yw(t,e){Q(4,t,e);let n=$(null);try{e.call(t)}finally{$(n),Q(5,t,e)}}function kP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[eo]>>16&&(t[N]&3)===e&&(t[N]+=16384,yw(a,o)):yw(a,o)}var oo=-1,ni=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function FP(t){return(t.flags&8)!==0}function LP(t){return(t.flags&16)!==0}function VP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];jP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function UP(t){return t===3||t===4||t===6}function jP(t){return t.charCodeAt(0)===64}function zs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_w(t,n,i,null,e[++r]):_w(t,n,i,null,null))}}return t}function _w(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function aD(t){return t!==oo}function nu(t){return t&32767}function BP(t){return t>>16}function ru(t,e){let n=BP(t),r=e;for(;n>0;)r=r[mo],n--;return r}var wg=!0;function iu(t){let e=wg;return wg=t,e}var HP=256,cD=HP-1,lD=5,$P=0,rn={};function WP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bs)&&(r=n[Bs]),r==null&&(r=n[Bs]=$P++);let i=r&cD,o=1<<i;e.data[t+(i>>lD)]|=o}function ou(t,e){let n=uD(t,e);if(n!==-1)return n;let r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,Jp(r.data,t),Jp(e,null),Jp(r.blueprint,null));let i=dm(t,e),o=t.injectorIndex;if(aD(i)){let s=nu(i),a=ru(i,e),c=a[M].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Jp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function uD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function dm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=gD(i),r===null)return oo;if(n++,i=i[mo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return oo}function Cg(t,e,n){WP(t,e,n)}function dD(t,e,n){if(n&x.Optional||t!==void 0)return t;tm(e,"NodeInjector")}function fD(t,e,n,r){if(n&x.Optional&&r===void 0&&(r=null),(n&(x.Self|x.Host))===0){let i=t[sn],o=Ze(void 0);try{return i?i.get(e,r,n&x.Optional):yC(e,r,n&x.Optional)}finally{Ze(o)}}return dD(r,e,n)}function hD(t,e,n,r=x.Default,i){if(t!==null){if(e[N]&2048&&!(r&x.Self)){let s=KP(t,e,n,r,rn);if(s!==rn)return s}let o=pD(t,e,n,r,rn);if(o!==rn)return o}return fD(e,n,r,i)}function pD(t,e,n,r,i){let o=qP(n);if(typeof o=="function"){if(!JC(e,t,r))return r&x.Host?dD(i,n,r):fD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&x.Optional))tm(n);else return s}finally{nD()}}else if(typeof o=="number"){let s=null,a=uD(t,e),c=oo,l=r&x.Host?e[Dt][$t]:null;for((a===-1||r&x.SkipSelf)&&(c=a===-1?dm(t,e):e[a+8],c===oo||!Iw(r,!1)?a=-1:(s=e[M],a=nu(c),e=ru(c,e)));a!==-1;){let u=e[M];if(Ew(o,a,u.data)){let d=zP(a,e,n,s,r,l);if(d!==rn)return d}c=e[a+8],c!==oo&&Iw(r,e[M].data[a+8]===l)&&Ew(o,a,e)?(s=u,a=nu(c),e=ru(c,e)):a=-1}}return i}function zP(t,e,n,r,i,o){let s=e[M],a=s.data[t+8],c=r==null?oi(a)&&wg:r!=s&&(a.type&3)!==0,l=i&x.Host&&o===a,u=GP(a,s,n,c,l);return u!==null?su(e,s,u,a,i):rn}function GP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=s[c];if(h&&an(h)&&h.type===n)return c}return null}function su(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ni){let a=o;a.resolving&&mC(VO(s[n]));let c=iu(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Ze(a.injectImpl):null,d=JC(t,r,x.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&xP(n,s[n],e)}finally{u!==null&&Ze(u),iu(c),a.resolving=!1,nD()}}return o}function qP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Bs)?t[Bs]:void 0;return typeof e=="number"?e>=0?e&cD:YP:e}function Ew(t,e,n){let r=1<<t;return!!(n[e+(t>>lD)]&r)}function Iw(t,e){return!(t&x.Self)&&!(t&x.Host&&e)}var Qr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hD(this._tNode,this._lView,e,Iu(r),n)}};function YP(){return new Qr(Tt(),ce())}function ta(t){return Qs(()=>{let e=t.prototype.constructor,n=e[Gl]||Dg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Gl]||Dg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Dg(t){return uC(t)?()=>{let e=Dg(We(t));return e&&e()}:Zr(t)}function KP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!Ws(s);){let a=pD(o,s,n,r|x.Self,rn);if(a!==rn)return a;let c=o.parent;if(!c){let l=s[OC];if(l){let u=l.get(n,rn,r);if(u!==rn)return u}c=gD(s),s=s[mo]}o=c}return i}function gD(t){let e=t[M],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function ww(t,e=null,n=null,r){let i=mD(t,e,n,r);return i.resolveInjectorInitializers(),i}function mD(t,e=null,n=null,r,i=new Set){let o=[n||wt,ZO(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new Hs(o,e||om(),r||null,i)}var bt=class t{static THROW_IF_NOT_FOUND=Kr;static NULL=new Ql;static create(e,n){if(Array.isArray(e))return ww({name:""},n,e,"");{let r=e.name??"";return ww({name:r},e.parent,e.providers,r)}}static \u0275prov=D({token:t,providedIn:"any",factory:()=>S(wC)});static __NG_ELEMENT_ID__=-1};var QP=new w("");QP.__NG_ELEMENT_ID__=t=>{let e=Tt();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(t&x.Optional)return null;throw new C(204,!1)};var vD=!1,na=(()=>{class t{static __NG_ELEMENT_ID__=ZP;static __NG_ENV_ID__=n=>n}return t})(),bg=class extends na{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return si(n)?(e(),()=>{}):(HC(n,e),()=>mP(n,e))}};function ZP(){return new bg(ce())}var ri=class{},Tu=new w("",{providedIn:"root",factory:()=>!1});var yD=new w(""),_D=new w(""),hn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Te(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),JP=(()=>{class t{internalPendingTasks=v(hn);scheduler=v(ri);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),Tg=class extends be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,RC()&&(this.destroyRef=v(na,{optional:!0})??void 0,this.pendingTasks=v(hn,{optional:!0})??void 0)}emit(e){let n=$(null);try{super.next(e)}finally{$(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ye&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pe=Tg;function au(...t){}function ED(t){let e,n;function r(){t=au;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Cw(t){return queueMicrotask(()=>t()),()=>{t=au}}var fm="isAngularZone",cu=fm+"_ID",XP=0,le=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pe(!1);onMicrotaskEmpty=new pe(!1);onStable=new pe(!1);onError=new pe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=vD}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ex,au,au);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ex={};function hm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ED(()=>{t.callbackScheduled=!1,Sg(t),t.isCheckStableRunning=!0,hm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Sg(t)}function nx(t){let e=()=>{tx(t)},n=XP++;t._inner=t._inner.fork({name:"angular",properties:{[fm]:!0,[cu]:n,[cu+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(rx(c))return r.invokeTask(o,s,a,c);try{return Dw(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bw(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Dw(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ix(c)&&e(),bw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Sg(t),hm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Sg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bw(t){t._nesting--,hm(t)}var Ag=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pe;onMicrotaskEmpty=new pe;onStable=new pe;onError=new pe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function rx(t){return ID(t,"__ignore_ng_zone__")}function ix(t){return ID(t,"__scheduler_tick__")}function ID(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ln=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ox=new w("",{providedIn:"root",factory:()=>{let t=v(le),e=v(ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Tw(t,e){return cC(t,e)}function sx(t){return cC(aC,t)}var wD=(Tw.required=sx,Tw);function ax(){return Su(Tt(),ce())}function Su(t,e){return new _o(fn(t,e))}var _o=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ax}return t})();function Eo(t,e){let n=_p(t,e?.equal),r=n[Lt];return n.set=i=>xs(r,i),n.update=i=>Ep(r,i),n.asReadonly=cx.bind(n),n}function cx(){let t=this[Lt];if(t.readonlyFn===void 0){let e=()=>this();e[Lt]=t,t.readonlyFn=e}return t.readonlyFn}var lx="ngSkipHydration",ux="ngskiphydration";function CD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===ux)return!0}return!1}function DD(t){return t.hasAttribute(lx)}function lu(t){return(t.flags&128)===128}function dx(t){if(lu(t))return!0;let e=t.parent;for(;e;){if(lu(t)||CD(e))return!0;e=e.parent}return!1}var bD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bD||{}),TD=new Map,fx=0;function hx(){return fx++}function px(t){TD.set(t[Cu],t)}function Mg(t){TD.delete(t[Cu])}var Sw="__ngContext__";function ra(t,e){Bt(e)?(t[Sw]=e[Cu],px(e)):t[Sw]=e}function SD(t){return MD(t[$s])}function AD(t){return MD(t[jt])}function MD(t){for(;t!==null&&!dn(t);)t=t[jt];return t}var Rg;function RD(t){Rg=t}function Au(){if(Rg!==void 0)return Rg;if(typeof document<"u")return document;throw new C(210,!1)}var Pn=new w("",{providedIn:"root",factory:()=>gx}),gx="ng",pm=new w(""),ia=new w("",{providedIn:"platform",factory:()=>"unknown"});var gm=new w("",{providedIn:"root",factory:()=>Au().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function mx(){let t=new Io;return t.store=vx(Au(),v(Pn)),t}var Io=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:mx});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function vx(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var ND="h",OD="b",yx="f",_x="n",Ex="e",Ix="t",mm="c",PD="x",uu="r",wx="i",Cx="n",xD="d";var Dx="di",bx="s",Tx="p";var Fl=new w(""),kD=!1,FD=new w("",{providedIn:"root",factory:()=>kD});var LD=new w(""),Sx=!1,Ax=new w(""),Aw=new w("",{providedIn:"root",factory:()=>new Map}),vm=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(vm||{}),wo=new w(""),Mw=new Set;function vr(t){Mw.has(t)||(Mw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var VD=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Mx}return t})();function Mx(){return new VD(ce(),Tt())}var to=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(to||{}),UD=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rx=[to.EarlyRead,to.Write,to.MixedReadWrite,to.Read],Nx=(()=>{class t{ngZone=v(le);scheduler=v(ri);errorHandler=v(ln,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(wo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Q(16),this.executing=!0;for(let r of Rx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Q(17)}register(n){let{view:r}=n;r!==void 0?((r[io]??=[]).push(n),Js(r),r[N]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(vm.AFTER_NEXT_RENDER,n):n()}static \u0275prov=D({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ng=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[io];e&&(this.view[io]=e.filter(n=>n!==this))}};function ym(t,e){!e?.injector&&NC(ym);let n=e?.injector??v(bt);return vr("NgAfterNextRender"),Px(t,n,e,!0)}function Ox(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Px(t,e,n,r){let i=e.get(UD);i.impl??=e.get(Nx);let o=e.get(wo,null,{optional:!0}),s=n?.phase??to.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(na):null,c=e.get(VD,null,{optional:!0}),l=new Ng(i.impl,Ox(t,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var ft=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(ft||{}),Rw=0,xx=1,Me=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Me||{});var kx=0,Mu=1;var Fx=4,Lx=5;var Vx=7,so=8,Ux=9,jD=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(jD||{});function Hl(t,e){let n=Bx(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function jx(t){Hl(1,t),Hl(0,t),Hl(2,t)}function Bx(t){let e=Fx;return t===1?e=Lx:t===2&&(e=Ux),e}function BD(t){return t+1}function oa(t,e){let n=t[M],r=BD(e.index);return t[r]}function Ru(t,e){let n=BD(e.index);return t.data[n]}function Hx(t,e,n){let r=e[M],i=Ru(r,n);switch(t){case Me.Complete:return i.primaryTmplIndex;case Me.Loading:return i.loadingTmplIndex;case Me.Error:return i.errorTmplIndex;case Me.Placeholder:return i.placeholderTmplIndex;default:return null}}function Nw(t,e){return e===Me.Placeholder?t.placeholderBlockConfig?.[Rw]??null:e===Me.Loading?t.loadingBlockConfig?.[Rw]??null:null}function $x(t){return t.loadingBlockConfig?.[xx]??null}function Ow(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function Wx(t,e){let n=e.primaryTmplIndex+Re;return Du(t,n)}var Nu="ngb";var zx=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},Gx=(t,e)=>{let n=t,r=n.getAttribute(Nu)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var qx=t=>{t.removeAttribute(Hp.JSACTION),t.removeAttribute(Nu),t.__jsaction_fns=void 0},Yx=new w("",{providedIn:"root",factory:()=>({})});function HD(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var _m=new w("");var Kx="__nghData__",$D=Kx,Qx="__nghDeferData__",Zx=Qx,Xp="ngh",Jx="nghm",WD=()=>null;function Xx(t,e,n=!1){let r=t.getAttribute(Xp);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Io,null,{optional:!0});u!==null&&(c=u.get($D,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ou(l,0,t.nextSibling)),a?t.setAttribute(Xp,a):t.removeAttribute(Xp),l}function ek(){WD=Xx}function zD(t,e,n=!1){return WD(t,e,n)}function tk(t){let e=t._lView;return e[M].type===2?null:(Ws(e)&&(e=e[Re]),e)}function nk(t){return t.textContent?.replace(/\s/gm,"")}function rk(t){let e=Au(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=nk(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ou(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Og(t,e){return t.segmentHeads?.[e]??null}function ik(t){return t.get(Ax,!1,{optional:!0})}function ok(t,e){let n=t.data,r=n[Ex]?.[e]??null;return r===null&&n[mm]?.[e]&&(r=Em(t,e)),r}function GD(t,e){return t.data[mm]?.[e]??null}function Em(t,e){let n=GD(t,e)??[],r=0;for(let i of n)r+=i[uu]*(i[PD]??1);return r}function sk(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[xD];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function sa(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[xD];t.disconnectedNodes=n?new Set(n):null}return!!sk(t)?.has(e)}function ak(t,e){let n=e.get(_m),i=e.get(Io).get(Zx,{}),o=!1,s=t,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][Tx]}return{parentBlockPromise:a,hydrationQueue:c}}function eg(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Jx}function Pw(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function ck(t){for(let r of t.body.childNodes)if(eg(r))return;let e=Pw(t.body.previousSibling);if(eg(e))return;let n=Pw(t.head.lastChild);if(!eg(n))throw new C(-507,!1)}function qD(t,e){let n=t.contentQueries;if(n!==null){let r=$(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];ZC(o),a.contentQueries(2,e[s],s)}}}finally{$(r)}}}function Pg(t,e,n){ZC(0);let r=$(null);try{e(t,n)}finally{$(r)}}function YD(t,e,n){if(xC(e)){let r=$(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{$(r)}}}var un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{});var xg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TO})`}};function KD(t){return t instanceof xg?t.changingThisBreaksApplicationSecurity:t}var lk=/^>|^->|<!--|-->|--!>|<!-$/g,uk=/(<|>)/g,dk="\u200B$1\u200B";function fk(t){return t.replace(lk,e=>e.replace(uk,dk))}function hk(t){return t.ownerDocument.body}function QD(t){return t instanceof Function?t():t}function pk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ZD="ng-template";function gk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Im(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Im(t){return t.type===4&&t.value!==ZD}function mk(t,e,n){let r=t.type===4&&!n?ZD:t.value;return e===r}function vk(t,e,n){let r=4,i=t.attrs,o=i!==null?Ek(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ut(r)&&!Ut(c))return!1;if(s&&Ut(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!mk(t,c,n)||c===""&&e.length===1){if(Ut(r))return!1;s=!0}}else if(r&8){if(i===null||!gk(t,i,c,n)){if(Ut(r))return!1;s=!0}}else{let l=e[++a],u=yk(c,i,Im(t),n);if(u===-1){if(Ut(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Ut(r))return!1;s=!0}}}}return Ut(r)||s}function Ut(t){return(t&1)===0}function yk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Ik(e,t)}function _k(t,e,n=!1){for(let r=0;r<e.length;r++)if(vk(t,e[r],n))return!0;return!1}function Ek(t){for(let e=0;e<t.length;e++){let n=t[e];if(UP(n))return e}return t.length}function Ik(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xw(t,e){return t?":not("+e.trim()+")":e}function wk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ut(s)&&(e+=xw(o,i),i=""),r=s,o=o||!Ut(r);n++}return i!==""&&(e+=xw(o,i)),e}function Ck(t){return t.map(wk).join(",")}function Dk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ut(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ai={};function JD(t,e){return t.createText(e)}function bk(t,e,n){t.setValue(e,n)}function XD(t,e){return t.createComment(fk(e))}function wm(t,e,n){return t.createElement(e,n)}function du(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eb(t,e,n){t.appendChild(e,n)}function kw(t,e,n,r,i){r!==null?du(t,e,n,r,i):eb(t,e,n)}function Cm(t,e,n){t.removeChild(null,e,n)}function tb(t){t.textContent=""}function Tk(t,e,n){t.setAttribute(e,"style",n)}function Sk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&VP(t,e,r),i!==null&&Sk(t,e,i),o!==null&&Tk(t,e,o)}function Dm(t,e,n,r,i,o,s,a,c,l,u){let d=Re+r,f=d+i,h=Ak(d,f),g=typeof l=="function"?l():l;return h[M]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Ak(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}function Mk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bm(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[pt]=i,d[N]=r|4|128|8|64|1024,(l!==null||t&&t[N]&2048)&&(d[N]|=2048),jC(d),d[Pe]=d[mo]=t,d[gt]=n,d[pr]=s||t&&t[pr],d[ue]=a||t&&t[ue],d[sn]=c||t&&t[sn]||null,d[$t]=o,d[Cu]=hx(),d[on]=u,d[OC]=l,d[Dt]=e.type==2?t[Dt]:d,d}function Rk(t,e,n){let r=fn(e,t),i=Mk(n),o=t[pr].rendererFactory,s=Tm(t,bm(t,i,null,rb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function rb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ib(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Tm(t,e){return t[$s]?t[gw][jt]=e:t[$s]=e,t[gw]=e,e}function Ve(t=1){ob(Wt(),ce(),yo()+t,!1)}function ob(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&jl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Bl(e,o,0,n)}ti(n)}var Pu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Pu||{});function kg(t,e,n,r){let i=$(null);try{let[o,s,a]=t.inputs[n],c=null;(s&Pu.SignalBased)!==0&&(c=e[o][Lt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):kC(e,c,o,r)}finally{$(i)}}function sb(t,e,n,r,i){let o=yo(),s=r&2;try{ti(-1),s&&e.length>Re&&ob(t,e,Re,!1),Q(s?2:0,i),n(r,i)}finally{ti(o),Q(s?3:1,i)}}function Sm(t,e,n){Vk(t,e,n),(n.flags&64)===64&&Uk(t,e,n)}function ab(t,e,n=fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Nk(t,e,n,r){let o=r.get(FD,kD)||n===un.ShadowDom,s=t.selectRootElement(e,o);return Ok(s),s}function Ok(t){cb(t)}var cb=()=>null;function Pk(t){DD(t)?tb(t):rk(t)}function xk(){cb=Pk}function kk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Fk(t,e,n,r,i,o,s,a){if(!a&&Mm(e,t,n,r,i)){oi(e)&&Lk(n,e.index);return}if(e.type&3){let c=fn(e,n);r=kk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function Lk(t,e){let n=cn(e,t);n[N]&16||(n[N]|=64)}function Vk(t,e,n){let r=n.directiveStart,i=n.directiveEnd;oi(n)&&Rk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ou(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=su(e,t,s,n);if(ra(c,e),o!==null&&Bk(e,s-r,c,a,n,o),an(a)){let l=cn(n.index,e);l[gt]=su(e,t,s,n)}}}function Uk(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MP();try{ti(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Ig(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jk(c,l)}}finally{ti(-1),Ig(s)}}function jk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];_k(e,o.selectors,!1)&&(r??=[],an(o)?r.unshift(o):r.push(o))}return r}function Bk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];kg(r,n,c,l)}}function Am(t,e){let n=t[sn],r=n?n.get(ln,null):null;r&&r.handleError(e)}function Mm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];kg(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=e.data[c];kg(u,l,r,i),a=!0}return a}function Hk(t,e){let n=cn(e,t),r=n[M];$k(r,n);let i=n[pt];i!==null&&n[on]===null&&(n[on]=zD(i,n[sn])),Q(18),Rm(r,n,n[gt]),Q(19,n[gt])}function $k(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Rm(t,e,n){cm(e);try{let r=t.viewQuery;r!==null&&Pg(1,r,n);let i=t.template;i!==null&&sb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[uo]?.finishViewCreation(t),t.staticContentQueries&&qD(t,e),t.staticViewQueries&&Pg(2,t.viewQuery,n);let o=t.components;o!==null&&Wk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,lm()}}function Wk(t,e){for(let n=0;n<e.length;n++)Hk(t,e[n])}function ub(t,e,n,r){let i=$(null);try{let o=e.tView,a=t[N]&4096?4096:16,c=bm(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[lo]=l;let u=t[uo];return u!==null&&(c[uo]=u.createEmbeddedView(o)),Rm(o,c,n),c}finally{$(i)}}function Fg(t,e){return!e||e.firstChild===null||lu(t)}var zk;function Nm(t,e){return zk(t,e)}var Fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fn||{});function Co(t){return(t.flags&32)===32}function no(t,e,n,r,i){if(r!=null){let o,s=!1;dn(r)?o=r:Bt(r)&&(s=!0,r=r[pt]);let a=Ht(r);t===0&&n!==null?i==null?eb(e,n,a):du(e,n,a,i||null,!0):t===1&&n!==null?du(e,n,a,i||null,!0):t===2?Cm(e,a,s):t===3&&e.destroyNode(a),o!=null&&rF(e,t,o,n,i)}}function Gk(t,e){db(t,e),e[pt]=null,e[$t]=null}function qk(t,e,n,r,i,o){r[pt]=i,r[$t]=e,xu(t,r,n,1,i,o)}function db(t,e){e[pr].changeDetectionScheduler?.notify(9),xu(t,e,e[ue],2,null,null)}function Yk(t){let e=t[$s];if(!e)return tg(t[M],t);for(;e;){let n=null;if(Bt(e))n=e[$s];else{let r=e[ht];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)Bt(e)&&tg(e[M],e),e=e[Pe];e===null&&(e=t),Bt(e)&&tg(e[M],e),n=e&&e[jt]}e=n}}function Om(t,e){let n=t[eu],r=n.indexOf(e);n.splice(r,1)}function Pm(t,e){if(si(e))return;let n=e[ue];n.destroyNode&&xu(t,e,n,3,null,null),Yk(e)}function tg(t,e){if(si(e))return;let n=$(null);try{e[N]&=-129,e[N]|=256,e[Ct]&&mp(e[Ct]),Qk(t,e),Kk(t,e),e[M].type===1&&e[ue].destroy();let r=e[lo];if(r!==null&&dn(e[Pe])){r!==e[Pe]&&Om(r,e);let i=e[uo];i!==null&&i.detachView(t)}Mg(e)}finally{$(n)}}function Kk(t,e){let n=t.cleanup,r=e[Zl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Zl]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Jl];if(o!==null){e[Jl]=null;for(let s of o)s.destroy()}}function Qk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ni)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Q(4,a,c);try{c.call(a)}finally{Q(5,a,c)}}else{Q(4,i,o);try{o.call(i)}finally{Q(5,i,o)}}}}}function Zk(t,e,n){return Jk(t,e.parent,n)}function Jk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[pt];if(oi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===un.None||i===un.Emulated)return null}return fn(r,n)}function Xk(t,e,n){return tF(t,e,n)}function eF(t,e,n){return t.type&40?fn(t,n):null}var tF=eF,Fw;function xm(t,e,n,r){let i=Zk(t,r,e),o=e[ue],s=r.parent||e[$t],a=Xk(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)kw(o,i,n[c],a,!1);else kw(o,i,n,a,!1);Fw!==void 0&&Fw(o,r,e,n,i)}function js(t,e){if(e!==null){let n=e.type;if(n&3)return fn(e,t);if(n&4)return Lg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return js(t,r);{let i=t[e.index];return dn(i)?Lg(-1,i):Ht(i)}}else{if(n&128)return js(t,e.next);if(n&32)return Nm(e,t)()||Ht(t[e.index]);{let r=fb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ei(t[Dt]);return js(i,r)}else return js(t,e.next)}}}return null}function fb(t,e){if(e!==null){let r=t[Dt][$t],i=e.projection;return r.projection[i]}return null}function Lg(t,e){let n=ht+t+1;if(n<e.length){let r=e[n],i=r[M].firstChild;if(i!==null)return js(r,i)}return e[kn]}function km(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ra(Ht(a),r),n.flags|=2),!Co(n))if(c&8)km(t,e,n.child,r,i,o,!1),no(e,t,i,a,o);else if(c&32){let l=Nm(n,r),u;for(;u=l();)no(e,t,i,u,o);no(e,t,i,a,o)}else c&16?nF(t,e,r,n,i,o):no(e,t,i,a,o);n=s?n.projectionNext:n.next}}function xu(t,e,n,r,i,o){km(n,r,t.firstChild,e,i,o,!1)}function nF(t,e,n,r,i,o){let s=n[Dt],c=s[$t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];no(e,t,i,u,o)}else{let l=c,u=s[Pe];lu(r)&&(l.flags|=128),km(t,e,l,u,i,o,!0)}}function rF(t,e,n,r,i){let o=n[kn],s=Ht(n);o!==s&&no(e,t,r,o,i);for(let a=ht;a<n.length;a++){let c=n[a];xu(c[M],c,t,e,r,o)}}function iF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Fn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fn.Important),t.setStyle(n,r,i,o))}}function fu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ht(o)),dn(o)&&oF(o,r);let s=n.type;if(s&8)fu(t,e,n.child,r);else if(s&32){let a=Nm(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=fb(e,n);if(Array.isArray(a))r.push(...a);else{let c=ei(e[Dt]);fu(c[M],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oF(t,e){for(let n=ht;n<t.length;n++){let r=t[n],i=r[M].firstChild;i!==null&&fu(r[M],r,i,e)}t[kn]!==t[pt]&&e.push(t[kn])}function hb(t){if(t[io]!==null){for(let e of t[io])e.impl.addSequence(e);t[io].length=0}}var pb=[];function sF(t){return t[Ct]??aF(t)}function aF(t){let e=pb.pop()??Object.create(lF);return e.lView=t,e}function cF(t){t.lView[Ct]!==t&&(t.lView=null,pb.push(t))}var lF=L(I({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Js(t.lView)},consumerOnSignalRead(){this.lView[Ct]=this}});function uF(t){let e=t[Ct]??Object.create(dF);return e.lView=t,e}var dF=L(I({},Os),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ei(t.lView);for(;e&&!gb(e[M]);)e=ei(e);e&&BC(e)},consumerOnSignalRead(){this.lView[Ct]=this}});function gb(t){return t.type!==2}function mb(t){if(t[Jl]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Jl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[N]&8192)}}var fF=100;function vb(t,e=!0,n=0){let i=t[pr].rendererFactory,o=!1;o||i.begin?.();try{hF(t,n)}catch(s){throw e&&Am(t,s),s}finally{o||i.end?.()}}function hF(t,e){let n=YC();try{vw(!0),Vg(t,e);let r=0;for(;bu(t);){if(r===fF)throw new C(103,!1);r++,Vg(t,1)}}finally{vw(n)}}function pF(t,e,n,r){if(si(e))return;let i=e[N],o=!1,s=!1;cm(e);let a=!0,c=null,l=null;o||(gb(t)?(l=sF(e),c=el(l)):up()===null?(a=!1,l=uF(e),c=el(l)):e[Ct]&&(mp(e[Ct]),e[Ct]=null));try{jC(e),bP(t.bindingStartIndex),n!==null&&sb(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&jl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Bl(e,h,0,null),Zp(e,0)}if(s||gF(e),mb(e),yb(e,0),t.contentQueries!==null&&qD(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&jl(e,h)}else{let h=t.contentHooks;h!==null&&Bl(e,h,1),Zp(e,1)}vF(t,e);let d=t.components;d!==null&&Eb(e,d,0);let f=t.viewQuery;if(f!==null&&Pg(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&jl(e,h)}else{let h=t.viewHooks;h!==null&&Bl(e,h,2),Zp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qp]){for(let h of e[Qp])h();e[Qp]=null}o||(hb(e),e[N]&=-73)}catch(u){throw o||Js(e),u}finally{l!==null&&(pp(l,c),a&&cF(l)),lm()}}function yb(t,e){for(let n=SD(t);n!==null;n=AD(n))for(let r=ht;r<n.length;r++){let i=n[r];_b(i,e)}}function gF(t){for(let e=SD(t);e!==null;e=AD(e)){if(!(e[N]&2))continue;let n=e[eu];for(let r=0;r<n.length;r++){let i=n[r];BC(i)}}}function mF(t,e,n){Q(18);let r=cn(e,t);_b(r,n),Q(19,r[gt])}function _b(t,e){am(t)&&Vg(t,e)}function Vg(t,e){let r=t[M],i=t[N],o=t[Ct],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gp(o)),s||=!1,o&&(o.dirty=!1),t[N]&=-9217,s)pF(r,t,r.template,t[gt]);else if(i&8192){mb(t),yb(t,1);let a=r.components;a!==null&&Eb(t,a,1),hb(t)}}function Eb(t,e,n){for(let r=0;r<e.length;r++)mF(t,e[r],n)}function vF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ti(~i);else{let o=i,s=n[++r],a=n[++r];AP(s,o);let c=e[o];Q(24,c),a(2,c),Q(25,c)}}}finally{ti(-1)}}function ku(t,e){let n=YC()?64:1088;for(t[pr].changeDetectionScheduler?.notify(e);t;){t[N]|=n;let r=ei(t);if(Ws(t)&&!r)return t;t=r}return null}function Ib(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function wb(t,e,n,r=!0){let i=e[M];if(_F(i,e,t,n),r){let s=Lg(n,t),a=e[ue],c=a.parentNode(t[kn]);c!==null&&qk(i,t[$t],a,e,c,s)}let o=e[on];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function yF(t,e){let n=hu(t,e);return n!==void 0&&Pm(n[M],n),n}function hu(t,e){if(t.length<=ht)return;let n=ht+e,r=t[n];if(r){let i=r[lo];i!==null&&i!==t&&Om(i,r),e>0&&(t[n-1][jt]=r[jt]);let o=Kl(t,ht+e);Gk(r[M],r);let s=o[uo];s!==null&&s.detachView(o[M]),r[Pe]=null,r[jt]=null,r[N]&=-129}return r}function _F(t,e,n,r){let i=ht+r,o=n.length;r>0&&(n[i-1][jt]=e),r<o-ht?(e[jt]=n[i],IC(n,ht+r,e)):(n.push(e),e[jt]=null),e[Pe]=n;let s=e[lo];s!==null&&n!==s&&Cb(s,e);let a=e[uo];a!==null&&a.insertView(t),_g(e),e[N]|=128}function Cb(t,e){let n=t[eu],r=e[Pe];if(Bt(r))t[N]|=2;else{let i=r[Pe][Dt];e[Dt]!==i&&(t[N]|=2)}n===null?t[eu]=[e]:n.push(e)}var Gs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[M];return fu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return si(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(dn(e)){let n=e[Xl],r=n?n.indexOf(this):-1;r>-1&&(hu(e,r),Kl(n,r))}this._attachedToViewContainer=!1}Pm(this._lView[M],this._lView)}onDestroy(e){HC(this._lView,e)}markForCheck(){ku(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){_g(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,vb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ws(this._lView),n=this._lView[lo];n!==null&&!e&&Om(n,this._lView),db(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=Ws(this._lView),r=this._lView[lo];r!==null&&!n&&Cb(r,this._lView),_g(this._lView)}};var Fu=(()=>{class t{static __NG_ELEMENT_ID__=wF}return t})(),EF=Fu,IF=class extends EF{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ub(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Gs(i)}};function wF(){return CF(Tt(),ce())}function CF(t,e){return t.type&4?new IF(e,t,Su(t,e)):null}function Fm(t,e,n,r,i){let o=t.data[e];if(o===null)o=DF(t,e,n,r,i),SP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=CP();o.injectorIndex=s===null?-1:s.injectorIndex}return ea(o,!0),o}function DF(t,e,n,r,i){let o=GC(),s=qC(),a=s?o:o&&o.parent,c=t.data[e]=TF(t,a,n,e,r,i);return bF(t,c,o,s),c}function bF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function TF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Xs()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SF=new RegExp(`^(\\d+)*(${OD}|${ND})*(.*)`);function AF(t){let e=t.match(SF),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function MF(t){return!t.prev&&t.parent?.type===8}function ng(t){return t.index-Re}function RF(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Lu(t,e,n,r){let i=ng(r),o=RF(t,i);if(o===void 0){let s=t.data[Cx];if(s?.[i])o=OF(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(MF(r)){let l=ng(r.parent);o=Og(t,l)}else{let l=fn(c,n);if(a)o=l.firstChild;else{let u=ng(c),d=Og(t,u);if(c.type===2&&d){let h=Em(t,u)+1;o=Vu(h,d)}else o=l.nextSibling}}}}return o}function Vu(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function NF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case yx:n=n.firstChild;break;case _x:n=n.nextSibling;break}}return n}function OF(t,e){let[n,...r]=AF(t),i;if(n===ND)i=e[Dt][pt];else if(n===OD)i=hk(e[Dt][pt]);else{let o=Number(n);i=Ht(e[o+Re])}return NF(i,r)}var PF=!1;function xF(t){PF=t}function kF(t){let e=t[on];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ue];for(let o of r.values())FF(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function FF(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Re);i&&Cm(t,i,!1)}}function Db(t){let e=t[xn]??[],r=t[Pe][ue],i=[];for(let o of e)o.data[Dx]!==void 0?i.push(o):bb(o,r);t[xn]=i}function LF(t){let{lContainer:e}=t,n=e[xn];if(n===null)return;let i=e[Pe][ue];for(let o of n)bb(o,i)}function bb(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[uu];for(;n<i;){let o=r.nextSibling;Cm(e,r,!1),r=o,n++}}}function Uu(t){Db(t);let e=t[pt];Bt(e)&&pu(e);for(let n=ht;n<t.length;n++)pu(t[n])}function pu(t){kF(t);let e=t[M];for(let n=Re;n<e.bindingStartIndex;n++)if(dn(t[n])){let r=t[n];Uu(r)}else Bt(t[n])&&pu(t[n])}function Tb(t){let e=t._views;for(let n of e){let r=tk(n);r!==null&&r[pt]!==null&&(Bt(r)?pu(r):Uu(r))}}function VF(t,e,n,r){t!==null&&(n.cleanup(e),Uu(t.lContainer),Tb(r))}function UF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[PD]??1);i++){let o={data:r,firstChild:null};r[uu]>0&&(o.firstChild=t,t=Vu(r[uu],t)),n.push(o)}return[t,n]}var Sb=()=>null;function jF(t,e){let n=t[xn];return!e||n===null||n.length===0?null:n[0].data[wx]===e?n.shift():(Db(t),null)}function BF(){Sb=jF}function Lw(t,e){return Sb(t,e)}var HF=class{},Ab=class{},Ug=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Je(e)}.`)}},ju=class{static NULL=new Ug},fo=class{},aa=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>$F()}return t})();function $F(){let t=ce(),e=Tt(),n=cn(e.index,t);return(Bt(n)?n:t)[ue]}var WF=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>null})}return t})();var rg={},ao=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Iu(r);let i=this.injector.get(e,rg,r);return i!==rg||n===rg?i:this.parentInjector.get(e,n,r)}};function Vw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cw(i,a);else if(o==2){let c=a,l=e[++s];r=cw(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function V(t,e=x.Default){let n=ce();if(n===null)return S(t,e);let r=Tt();return hD(r,n,We(t),e)}function Mb(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,c=null,l=null,u=GF(s);u===null?a=s:[a,c,l]=u,KF(t,e,n,a,o,c,l)}o!==null&&r!==null&&zF(n,r,o)}function zF(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}function GF(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&an(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,qF(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function qF(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function YF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KF(t,e,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&an(h)&&(c=!0,YF(t,n,f)),Cg(ou(n,e),t,h.type)}tL(n,t.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=ib(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=zs(n.mergedAttrs,h.hostAttrs),ZF(t,n,e,d,h),eL(d,h,i),s!==null&&s.has(h)){let[m,E]=s.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,E+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}QF(t,n,o)}function QF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Uw(0,e,i,r),Uw(1,e,i,r),Bw(e,r,!1);else{let o=n.get(i);jw(0,e,o,r),jw(1,e,o,r),Bw(e,r,!0)}}}function Uw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Rb(e,o)}}function jw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Rb(e,s)}}function Rb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Bw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Im(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function ZF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Zr(i.type,!0)),s=new ni(o,an(i),V);t.blueprint[r]=s,n[r]=s,JF(t,e,r,ib(t,n,i.hostVars,ai),i)}function JF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;XF(s)!=a&&s.push(a),s.push(n,r,o)}}function XF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;an(e)&&(n[""]=t)}}function tL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Nb(t,e,n,r,i,o,s,a){let c=e.consts,l=tu(c,s),u=Fm(e,t,2,r,l);return o&&Mb(e,n,u,tu(c,a),i),u.mergedAttrs=zs(u.mergedAttrs,u.attrs),u.attrs!==null&&Vw(u,u.attrs,!1),u.mergedAttrs!==null&&Vw(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ob(t,e){oD(t,e),xC(e)&&t.queries.elementEnd(e)}var gu=class extends ju{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xr(e);return new qs(n,this.ngModule)}};function nL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Pu.SignalBased)!==0};return i&&(o.transform=i),o})}function rL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function iL(t,e,n){let r=e instanceof ze?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ao(n,r):n}function oL(t){let e=t.get(fo,null);if(e===null)throw new C(407,!1);let n=t.get(WF,null),r=t.get(ri,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function sL(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return wm(e,n,n==="svg"?dP:n==="math"?fP:null)}var qs=class extends Ab{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=nL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=rL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Ck(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Q(22);let o=$(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:Dk(this.componentDef.selectors[0]),c=Dm(0,null,null,1,0,null,null,null,null,[a],null),l=iL(s,i||this.ngModule,e),u=oL(l),d=u.rendererFactory.createRenderer(null,s),f=r?Nk(d,r,s.encapsulation,l):sL(s,d),h=bm(null,c,null,512|rb(s),null,null,u,d,l,null,zD(f,l,!0));h[Re]=f,cm(h);let g=null;try{let m=Nb(Re,c,h,"#host",()=>[this.componentDef],!0,0);f&&(nb(d,f,m),ra(f,h)),Sm(c,h,m),YD(c,m,h),Ob(c,m),n!==void 0&&aL(m,this.ngContentSelectors,n),g=cn(m.index,h),h[gt]=g[gt],Rm(c,h,null)}catch(m){throw g!==null&&Mg(g),Mg(h),m}finally{Q(23),lm()}return new jg(this.componentType,h)}finally{$(o)}}},jg=class extends HF{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Du(n[M],Re),this.location=Su(this._tNode,n),this.instance=cn(this._tNode.index,n)[gt],this.hostView=this.changeDetectorRef=new Gs(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Mm(r,i[M],i,e,n);this.previousInputValues.set(e,n);let s=cn(r.index,i);ku(s,1)}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function aL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Do=(()=>{class t{static __NG_ELEMENT_ID__=cL}return t})();function cL(){let t=Tt();return uL(t,ce())}var lL=Do,Pb=class extends lL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=dm(this._hostTNode,this._hostLView);if(aD(e)){let n=ru(e,this._hostLView),r=nu(e),i=n[M].data[r+8];return new Qr(i,n)}else return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Fg(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!aP(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new qs(Xr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let m=(s?l:this.parentInjector).get(ze,null);m&&(o=m)}let u=Xr(c.componentType??{}),d=Lw(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,Fg(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pe],l=new Pb(c,c[$t],c[Pe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return wb(s,i,o,r),e.attachToViewContainerRef(),IC(ig(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hu(this._lContainer,n);r&&(Kl(ig(this._lContainer),n),Pm(r[M],r))}detach(e){let n=this._adjustIndex(e,-1),r=hu(this._lContainer,n);return r&&Kl(ig(this._lContainer),n)!=null?new Gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hw(t){return t[Xl]}function ig(t){return t[Xl]||(t[Xl]=[])}function uL(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=Ib(r,e,null,t),e[t.index]=n,Tm(e,n)),xb(n,e,t,r),new Pb(n,t,e)}function dL(t,e){let n=t[ue],r=n.createComment(""),i=fn(e,t),o=n.parentNode(i);return du(n,o,r,n.nextSibling(i),!1),r}var xb=kb,Lm=()=>!1;function fL(t,e,n){return Lm(t,e,n)}function kb(t,e,n,r){if(t[kn])return;let i;n.type&8?i=Ht(r):i=dL(e,n),t[kn]=i}function hL(t,e,n){if(t[kn]&&t[xn])return!0;let r=n[on],i=e.index-Re;if(!r||dx(e)||sa(r,i))return!1;let s=Og(r,i),a=r.data[mm]?.[i],[c,l]=UF(s,a);return t[kn]=c,t[xn]=l,!0}function pL(t,e,n,r){Lm(t,n,e)||kb(t,e,n,r)}function gL(){xb=pL,Lm=hL}var ho=class{},Vm=class{};var Bg=class extends ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=DC(e);this._bootstrapComponents=QD(o.bootstrap),this._r3Injector=mD(e,n,[{provide:ho,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hg=class extends Vm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Bg(this.moduleType,e,[])}};var mu=class extends ho{injector;componentFactoryResolver=new gu(this);instance=null;constructor(e){super();let n=new Hs([...e.providers,{provide:ho,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],e.parent||om(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ca(t,e,n=null){return new mu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var mL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=rm(!1,n.type),i=r.length>0?ca([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:t,providedIn:"environment",factory:()=>new t(S(ze))})}return t})();function pn(t){return Qs(()=>{let e=Lb(t),n=L(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(mL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||wt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&vr("NgStandalone"),Vb(n);let r=t.dependencies;return n.directiveDefs=$w(r,!1),n.pipeDefs=$w(r,!0),n.id=IL(n),n})}function vL(t){return Xr(t)||bC(t)}function yL(t){return t!==null}function Vn(t){return Qs(()=>({type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _L(t,e){if(t==null)return Jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Pu.None,c=null),n[o]=[r,a,c],e[o]=s}return n}function EL(t){if(t==null)return Jr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ge(t){return Qs(()=>{let e=Lb(t);return Vb(e),e})}function Fb(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Jr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_L(t.inputs,e),outputs:EL(t.outputs),debugInfo:null}}function Vb(t){t.features?.forEach(e=>e(t))}function $w(t,e){if(!t)return null;let n=e?TC:vL;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yL)}function IL(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wL(t){return Object.getPrototypeOf(t.prototype).constructor}function yr(t){let e=wL(t.type),n=!0,r=[t];for(;e;){let i;if(an(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=og(t.inputs),s.declaredInputs=og(t.declaredInputs),s.outputs=og(t.outputs);let a=i.hostBindings;a&&SL(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&bL(t,c),l&&TL(t,l),CL(t,i),RO(t.outputs,i.outputs),an(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===yr&&(n=!1)}}e=Object.getPrototypeOf(e)}DL(r)}function CL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function DL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zs(i.hostAttrs,n=zs(n,i.hostAttrs))}}function og(t){return t===Jr?{}:t===wt?[]:t}function bL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function TL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function SL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ub(t){return ML(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function AL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ML(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function RL(t,e,n){return t[e]=n}function Ys(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function NL(t,e,n,r){let i=Ys(t,e,n);return Ys(t,e+1,r)||i}function OL(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Fm(e,t,4,s||null,a||null);zC()&&Mb(e,n,u,tu(l,c),lb),u.mergedAttrs=zs(u.mergedAttrs,u.attrs),oD(e,u);let d=u.tView=Dm(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function PL(t,e,n,r,i,o,s,a,c,l){let u=n+Re,d=e.firstCreatePass?OL(u,e,t,r,i,o,s,a,c):e.data[u];ea(d,!1);let f=jb(e,t,d,n);um()&&xm(e,t,f,d),ra(f,t);let h=Ib(f,t,f,d);return t[u]=h,Tm(t,h),fL(h,d,t),sm(d)&&Sm(e,t,d),c!=null&&ab(t,d,l),d}function ci(t,e,n,r,i,o,s,a){let c=ce(),l=Wt(),u=tu(l.consts,o);return PL(c,l,t,e,n,r,i,u,s,a),ci}var jb=Bb;function Bb(t,e,n,r){return mr(!0),e[ue].createComment("")}function xL(t,e,n,r){let i=e[on],o=!i||Xs()||Co(n)||sa(i,r);if(mr(o),o)return Bb(t,e);let s=i.data[Ix]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Lu(i,t,e,n);Ou(i,r,a);let c=Em(i,r);return Vu(c,a)}function kL(){jb=xL}var FL=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ca(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=D({token:t,providedIn:"environment",factory:()=>new t})}return t})();var LL=new w("");function sg(t,e,n){return t.get(FL).getOrCreateInjector(e,t,n,"")}function VL(t,e,n){if(t instanceof ao){let i=t.injector,o=t.parentInjector,s=sg(o,e,n);return new ao(i,s)}let r=t.get(ze);if(r!==t){let i=sg(r,e,n);return new ao(t,i)}return sg(t,e,n)}function ro(t,e,n,r=!1){let i=n[Pe],o=i[M];if(si(i))return;let s=oa(i,e),a=s[Mu],c=s[Vx];if(!(c!==null&&t<c)&&Ww(a,t)&&Ww(s[kx]??-1,t)){let l=Ru(o,e),d=!r&&!0&&($x(l)!==null||Nw(l,Me.Loading)!==null||Nw(l,Me.Placeholder))?BL:jL;try{d(t,s,n,e,i)}catch(f){Am(i,f)}}}function UL(t,e){let n=t[xn]?.findIndex(i=>i.data[bx]===e[Mu])??-1;return{dehydratedView:n>-1?t[xn][n]:null,dehydratedViewIx:n}}function jL(t,e,n,r,i){Q(20);let o=Hx(t,i,r);if(o!==null){e[Mu]=t;let s=i[M],a=o+Re,c=Du(s,a),l=0;yF(n,l);let u;if(t===Me.Complete){let g=Ru(s,r),m=g.providers;m&&m.length>0&&(u=VL(i[sn],g,m))}let{dehydratedView:d,dehydratedViewIx:f}=UL(n,e),h=ub(i,c,null,{injector:u,dehydratedView:d});if(wb(n,h,l,Fg(c,d)),ku(h,2),f>-1&&n[xn]?.splice(f,1),(t===Me.Complete||t===Me.Error)&&Array.isArray(e[so])){for(let g of e[so])g();e[so]=null}}Q(21)}function Ww(t,e){return t<e}function zw(t,e,n){t.loadingPromise.then(()=>{t.loadingState===ft.COMPLETE?ro(Me.Complete,e,n):t.loadingState===ft.FAILED&&ro(Me.Error,e,n)})}var BL=null;var Um=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Hb=new w("");var HL=(()=>{class t{static \u0275prov=D({token:t,providedIn:"root",factory:()=>new $g})}return t})(),$g=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function li(t){return!!t&&typeof t.then=="function"}function $b(t){return!!t&&typeof t.subscribe=="function"}var $L=new w("");var Wb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v($L,{optional:!0})??[];injector=v(bt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=mt(this.injector,i);if(li(o))n.push(o);else if($b(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ui=new w("");function WL(){yp(()=>{throw new C(600,!1)})}function zL(t){return t.isBoundToModule}var GL=10;var Xe=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(ox);afterRenderManager=v(UD);zonelessEnabled=v(Tu);rootEffectScheduler=v(HL);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new be;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=v(hn).hasPendingTasks.pipe(F(n=>!n));constructor(){v(wo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=bt.NULL){Q(10);let o=n instanceof Ab;if(!this._injector.get(Wb).done){let h="";throw new C(405,h)}let a;o?a=n:a=this._injector.get(ju).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=zL(a)?void 0:this._injector.get(ho),l=r||a.selector,u=a.create(i,[],l,c),d=u.location.nativeElement,f=u.injector.get(Hb,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),$l(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),Q(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Q(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let n=$(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,$(n),this.afterTick.next(),Q(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<GL;)Q(14),this.synchronizeOnce(),Q(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)qL(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>bu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$l(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ui,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$l(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $l(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qL(t,e,n,r){if(!n&&!bu(t))return;vb(t,e,n&&!r?0:1)}function YL(t,e,n){let r=e[sn],i=e[M];if(t.loadingState!==ft.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=oa(e,n),s=Wx(i,t);t.loadingState=ft.IN_PROGRESS,Hl(1,o);let a=t.dependencyResolverFn,c=r.get(JP).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let g=h.value,m=Xr(g)||bC(g);if(m)d.push(m);else{let E=TC(g);E&&f.push(E)}}else{u=!0;break}if(u){if(t.loadingState=ft.FAILED,t.errorTmplIndex===null){let h="",g=new C(-750,!1);Am(e,g)}}else{t.loadingState=ft.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=Ow(h.directiveRegistry,d);let g=d.map(E=>E.type),m=rm(!1,...g);t.providers=m}f.length>0&&(h.pipeRegistry=Ow(h.pipeRegistry,f))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=ft.COMPLETE,c()}),t.loadingPromise)}function KL(t,e){return e[sn].get(LL,null,{optional:!0})?.behavior!==jD.Manual}function QL(t,e,n){let r=e[M],i=e[n.index];if(!KL(t,e))return;let o=oa(e,n),s=Ru(r,n);switch(jx(o),s.loadingState){case ft.NOT_STARTED:ro(Me.Loading,n,i),YL(s,e,n),s.loadingState===ft.IN_PROGRESS&&zw(s,n,i);break;case ft.IN_PROGRESS:ro(Me.Loading,n,i),zw(s,n,i);break;case ft.COMPLETE:ro(Me.Complete,n,i);break;case ft.FAILED:ro(Me.Error,n,i);break;default:}}function ZL(t,e,n){return p(this,null,function*(){let r=t.get(_m);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=ak(e,t);if(s.length===0)return;o!==null&&s.shift(),e1(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield Gw(t,s,n):r.awaitParentBlock(a,()=>p(null,null,function*(){return yield Gw(t,s,n)}))})}function Gw(t,e,n){return p(this,null,function*(){let r=t.get(_m),i=r.hydrating,o=t.get(hn),s=o.add();for(let c=0;c<e.length;c++){let l=e[c],u=r.get(l);if(u!=null){if(yield n1(u),yield t1(t),JL(u)){LF(u),qw(e.slice(c),r);break}i.get(l).resolve()}else{XL(c,e,r),qw(e.slice(c),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),VF(r.get(a),e,r,t.get(Xe))})}function JL(t){return oa(t.lView,t.tNode)[Mu]===Me.Error}function XL(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Uu(i.lContainer)}function qw(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function e1(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function t1(t){return new Promise(e=>ym(e,{injector:t}))}function n1(t){return p(this,null,function*(){let{tNode:e,lView:n}=t,r=oa(n,e);return new Promise(i=>{r1(r,i),QL(2,n,e)})})}function r1(t,e){Array.isArray(t[so])||(t[so]=[]),t[so].push(e)}function i1(t,e,n,r){return Ys(t,QC(),n)?e+gC(n)+r:ai}function Ll(t,e){return t<<17|e<<2}function ii(t){return t>>17&32767}function o1(t){return(t&2)==2}function s1(t,e){return t&131071|e<<17}function Wg(t){return t|2}function po(t){return(t&131068)>>2}function ag(t,e){return t&-131069|e<<2}function a1(t){return(t&1)===1}function zg(t){return t|1}function c1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ii(s),c=po(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Zs(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=ii(t[a+1]);t[r+1]=Ll(f,a),f!==0&&(t[f+1]=ag(t[f+1],r)),t[a+1]=s1(t[a+1],r)}else t[r+1]=Ll(a,0),a!==0&&(t[a+1]=ag(t[a+1],r)),a=r;else t[r+1]=Ll(c,0),a===0?a=r:t[c+1]=ag(t[c+1],r),c=r;l&&(t[r+1]=Wg(t[r+1])),Yw(t,u,r,!0),Yw(t,u,r,!1),l1(e,u,t,r,o),s=Ll(a,c),o?e.classBindings=s:e.styleBindings=s}function l1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Zs(o,e)>=0&&(n[r+1]=zg(n[r+1]))}function Yw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ii(i):po(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];u1(c,e)&&(a=!0,t[s+1]=r?zg(l):Wg(l)),s=r?ii(l):po(l)}a&&(t[n+1]=r?Wg(i):zg(i))}function u1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zs(t,e)>=0:!1}function et(t,e,n){let r=ce(),i=QC();if(Ys(r,i,e)){let o=Wt(),s=PP();Fk(o,s,r,t,e,r[ue],n,!1)}return et}function Kw(t,e,n,r,i){Mm(e,t,n,i?"class":"style",r)}function Bu(t,e){return d1(t,e,null,!0),Bu}function d1(t,e,n,r){let i=ce(),o=Wt(),s=TP(2);if(o.firstUpdatePass&&h1(o,t,s,r),e!==ai&&Ys(i,s,e)){let a=o.data[yo()];y1(o,a,i,i[ue],t,i[s+1]=_1(e,n),r,s)}}function f1(t,e){return e>=t.expandoStartIndex}function h1(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yo()],s=f1(t,n);E1(o,r)&&e===null&&!s&&(e=!1),e=p1(i,o,e,r),c1(i,o,e,n,s,r)}}function p1(t,e,n,r){let i=RP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cg(null,t,e,n,r),n=Ks(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cg(i,t,e,n,r),o===null){let c=g1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=cg(null,t,e,c[1],r),c=Ks(c,e.attrs,r),m1(t,e,r,c))}else o=v1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function g1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(po(r)!==0)return t[ii(r)]}function m1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ii(i)]=r}function v1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ks(r,s,n)}return Ks(r,e.attrs,n)}function cg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ks(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ks(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),KO(t,s,n?!0:e[++o]))}return t===void 0?null:t}function y1(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=a1(l)?Qw(c,e,n,i,po(l),s):void 0;if(!vu(u)){vu(o)||o1(l)&&(o=Qw(c,null,n,i,a,s));let d=UC(yo(),n);iF(r,s,d,i,o)}}function Qw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===ai&&(f=d?wt:void 0);let h=d?Yp(f,r):u===r?f:void 0;if(l&&!vu(h)&&(h=Yp(c,r)),vu(h)&&(a=h,s))return a;let g=t[i+1];i=s?ii(g):po(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Yp(c,r))}return a}function vu(t){return t!==void 0}function _1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(KD(t)))),t}function E1(t,e){return(t.flags&(e?8:16))!==0}function te(t,e,n,r){let i=ce(),o=Wt(),s=Re+t,a=i[ue],c=o.firstCreatePass?Nb(s,o,i,e,lb,zC(),n,r):o.data[s],l=zb(o,i,c,a,e,t);i[s]=l;let u=sm(c);return ea(c,!0),nb(a,l,c),!Co(c)&&um()&&xm(o,i,l,c),(vP()===0||u)&&ra(l,i),yP(),u&&(Sm(o,i,c),YD(o,c,i)),r!==null&&ab(i,c),te}function ae(){let t=Tt();qC()?DP():(t=t.parent,ea(t,!1));let e=t;EP(e)&&wP(),_P();let n=Wt();return n.firstCreatePass&&Ob(n,e),e.classesWithoutHost!=null&&FP(e)&&Kw(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&LP(e)&&Kw(n,e,ce(),e.stylesWithoutHost,!1),ae}function St(t,e,n,r){return te(t,e,n,r),ae(),St}var zb=(t,e,n,r,i,o)=>(mr(!0),wm(r,i,rD()));function I1(t,e,n,r,i,o){let s=e[on],a=!s||Xs()||Co(n)||sa(s,o);if(mr(a),a)return wm(r,i,rD());let c=Lu(s,t,e,n);return GD(s,o)&&Ou(s,o,c.nextSibling),s&&(CD(n)||DD(c))&&oi(n)&&(IP(n),tb(c)),c}function w1(){zb=I1}var C1=(t,e,n,r)=>(mr(!0),XD(e[ue],""));function D1(t,e,n,r){let i,o=e[on],s=!o||Xs()||sa(o,r)||Co(n);if(mr(s),s)return XD(e[ue],"");let a=Lu(o,t,e,n),c=ok(o,r);return Ou(o,r,a),i=Vu(c,a),i}function b1(){C1=D1}var Yr=void 0;function T1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var S1=["en",[["a","p"],["AM","PM"],Yr],[["AM","PM"],Yr,Yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yr,"{1} 'at' {0}",Yr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",T1],lg={};function At(t){let e=A1(t),n=Zw(e);if(n)return n;let r=e.split("-")[0];if(n=Zw(r),n)return n;if(r==="en")return S1;throw new C(701,!1)}function Zw(t){return t in lg||(lg[t]=Ji.ng&&Ji.ng.common&&Ji.ng.common.locales&&Ji.ng.common.locales[t]),lg[t]}var ge=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ge||{});function A1(t){return t.toLowerCase().replace(/_/g,"-")}var yu="en-US";var M1=yu;function R1(t){typeof t=="string"&&(M1=t.toLowerCase().replace(/_/g,"-"))}function Jw(t,e,n){return function r(i){if(i===Function)return n;let o=oi(t)?cn(t.index,e):e;ku(o,5);let s=e[gt],a=Xw(e,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Xw(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Xw(t,e,n,r){let i=$(null);try{return Q(6,e,n),n(r)!==!1}catch(o){return N1(t,o),!1}finally{Q(7,e,n),$(i)}}function N1(t,e){let n=t[sn],r=n?n.get(ln,null):null;r&&r.handleError(e)}function eC(t,e,n,r,i,o){let s=e[n],a=e[M],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?WC(a):null,f=$C(e),h=u.subscribe(o),g=f.length;f.push(o,h),d&&d.push(i,t.index,g,-(g+1))}var jm=new Map;function O1(t,e){jm.set(t,e)}function P1(t){jm.delete(t)}function _r(t,e,n,r){let i=ce(),o=Wt(),s=Tt();return k1(o,i,i[ue],s,t,e,r),_r}function x1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Zl],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function k1(t,e,n,r,i,o,s){let a=sm(r),l=t.firstCreatePass?WC(t):null,u=$C(e),d=!0;if(r.type&3||s){let f=fn(r,e),h=s?s(f):f,g=u.length,m=s?A=>s(Ht(A[r.index])):r.index,E=null;if(!s&&a&&(E=x1(t,e,i,r.index)),E!==null){let A=E.__ngLastListenerFn__||E;A.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,d=!1}else{o=Jw(r,e,o);let A=e[sn].get(Pn);jm.get(A)?.(h,i,o);let H=n.listen(h,i,o);u.push(o,H),l&&l.push(i,m,g,g+1)}}else o=Jw(r,e,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let m=h[g],E=h[g+1];eC(r,e,m,E,i,o)}if(f&&f.length)for(let g of f)eC(r,e,g,i,i,o)}}function Gb(t=1){return OP(t)}function F1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function tt(t,e=""){let n=ce(),r=Wt(),i=t+Re,o=r.firstCreatePass?Fm(r,i,1,e,null):r.data[i],s=qb(r,n,o,e,t);n[i]=s,um()&&xm(r,n,s,o),ea(o,!1)}var qb=(t,e,n,r,i)=>(mr(!0),JD(e[ue],r));function L1(t,e,n,r,i){let o=e[on],s=!o||Xs()||Co(n)||sa(o,i);return mr(s),s?JD(e[ue],r):Lu(o,t,e,n)}function V1(){qb=L1}function Hu(t){return di("",t,""),Hu}function di(t,e,n){let r=ce(),i=i1(r,t,e,n);return i!==ai&&U1(r,yo(),i),di}function U1(t,e,n){let r=UC(e,t);bk(t[ue],r,n)}function j1(t,e,n){let r=Wt();if(r.firstCreatePass){let i=an(t);Gg(n,r.data,r.blueprint,i,!0),Gg(e,r.data,r.blueprint,i,!1)}}function Gg(t,e,n,r,i){if(t=We(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gg(t[o],e,n,r,i);else{let o=Wt(),s=ce(),a=Tt(),c=co(t)?t:We(t.provide),l=MC(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(co(t)||!t.multi){let h=new ni(l,i,V),g=dg(c,e,i?u:u+f,d);g===-1?(Cg(ou(a,s),o,c),ug(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=dg(c,e,u+f,d),g=dg(c,e,u,u+f),m=h>=0&&n[h],E=g>=0&&n[g];if(i&&!E||!i&&!m){Cg(ou(a,s),o,c);let A=$1(i?H1:B1,n.length,i,r,l);!i&&E&&(n[g].providerFactory=A),ug(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=Yb(n[i?g:h],l,!i&&r);ug(o,t,h>-1?h:g,A)}!i&&r&&E&&n[g].componentProviders++}}}function ug(t,e,n,r){let i=co(e),o=tP(e);if(i||o){let c=(o?We(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Yb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function B1(t,e,n,r,i){return qg(this.multi,[])}function H1(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=su(r,r[M],this.providerFactory.index,i);s=c.slice(0,a),qg(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],qg(o,s);return s}function qg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $1(t,e,n,r,i){let o=new ni(t,n,V);return o.multi=[],o.index=e,o.componentProviders=0,Yb(o,i,r&&!n),o}function $u(t,e=[]){return n=>{n.providersResolver=(r,i)=>j1(r,i?i(t):t,e)}}function Kb(t,e,n,r,i){return Qb(ce(),KC(),t,e,n,r,i)}function W1(t,e){let n=t[e];return n===ai?void 0:n}function Qb(t,e,n,r,i,o,s){let a=e+n;return NL(t,a,i,o)?RL(t,a+2,s?r.call(s,i,o):r(i,o)):W1(t,a+2)}function Zb(t,e){let n=Wt(),r,i=t+Re;n.firstCreatePass?(r=z1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Zr(r.type,!0)),s,a=Ze(V);try{let c=iu(!1),l=o();return iu(c),F1(n,ce(),i,l),l}finally{Ze(a)}}function z1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Jb(t,e,n,r){let i=t+Re,o=ce(),s=hP(o,i);return G1(o,i)?Qb(o,KC(),e,s.transform,n,r,s):s.transform(n,r)}function G1(t,e){return t[M].data[e].pure}var Yg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Xb=(()=>{class t{compileModuleSync(n){return new Hg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=DC(n),o=QD(i.declarations).reduce((s,a)=>{let c=Xr(a);return c&&s.push(new qs(c)),s},[]);return new Yg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var q1=(()=>{class t{zone=v(le);changeDetectionScheduler=v(ri);applicationRef=v(Xe);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Y1=new w("",{factory:()=>!1});function eT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new le(L(I({},nT()),{scheduleInRootZone:n})),[{provide:le,useFactory:t},{provide:hr,multi:!0,useFactory:()=>{let r=v(q1,{optional:!0});return()=>r.initialize()}},{provide:hr,multi:!0,useFactory:()=>{let r=v(K1);return()=>{r.initialize()}}},e===!0?{provide:yD,useValue:!0}:[],{provide:_D,useValue:n??vD}]}function tT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=eT({ngZoneFactory:()=>{let i=nT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vr("NgZone_CoalesceEvent"),new le(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return gr([{provide:Y1,useValue:!0},{provide:Tu,useValue:!1},r])}function nT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var K1=(()=>{class t{subscription=new ye;initialized=!1;zone=v(le);pendingTasks=v(hn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Q1=(()=>{class t{appRef=v(Xe);taskService=v(hn);ngZone=v(le);zonelessEnabled=v(Tu);tracing=v(wo,{optional:!0});disableScheduling=v(yD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ye;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(_D,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ag||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Cw:ED;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Z1(){return typeof $localize<"u"&&$localize.locale||yu}var Wu=new w("",{providedIn:"root",factory:()=>v(Wu,x.Optional|x.SkipSelf)||Z1()});var Kg=new w(""),J1=new w("");function Vs(t){return!t.moduleRef}function X1(t){let e=Vs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(le);return n.run(()=>{Vs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ln,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Vs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Kg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Kg);s.add(o),t.moduleRef.onDestroy(()=>{$l(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return tV(r,n,()=>{let o=e.get(Wb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Wu,yu);if(R1(s||yu),!e.get(J1,!0))return Vs(t)?e.get(Xe):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Vs(t)){let c=e.get(Xe);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return eV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function eV(t,e){let n=t.injector.get(Xe);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new C(-403,!1);e.push(t)}function tV(t,e,n){try{let r=n();return li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Wl=null;function nV(t=[],e){return bt.create({name:e,providers:[{provide:wu,useValue:"platform"},{provide:Kg,useValue:new Set([()=>Wl=null])},...t]})}function rV(t=[]){if(Wl)return Wl;let e=nV(t);return Wl=e,WL(),iV(e),e}function iV(t){let e=t.get(pm,null);mt(t,()=>{e?.forEach(n=>n())})}var zu=(()=>{class t{static __NG_ELEMENT_ID__=oV}return t})();function oV(t){return sV(Tt(),ce(),(t&16)===16)}function sV(t,e,n){if(oi(t)&&!n){let r=cn(t.index,e);return new Gs(r,r)}else if(t.type&175){let r=e[Dt];return new Gs(r,e)}return null}var Qg=class{constructor(){}supports(e){return Ub(e)}create(e){return new Zg(e)}},aV=(t,e)=>e,Zg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||aV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tC(r,i,o)?n:r,a=tC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ub(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,AL(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Jg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new _u),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _u),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Jg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Xg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},_u=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Xg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nC(){return new Bm([new Qg])}var Bm=(()=>{class t{factories;static \u0275prov=D({token:t,providedIn:"root",factory:nC});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nC()),deps:[[t,new qO,new EC]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new C(901,!1)}}return t})();function rT(t){Q(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=rV(r),o=[eT({}),{provide:ri,useExisting:Q1},...n||[]],s=new mu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return X1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Q(9)}}var Vl=new WeakSet,rC="",zl=[];function iC(t){return t.get(LD,Sx)}function iT(){let t=[{provide:LD,useFactory:()=>{let e=!0;{let n=v(Pn);e=!!window._ejsas?.[n]}return e&&vr("NgEventReplay"),e}}];return t.push({provide:hr,useValue:()=>{let e=v(Xe),{injector:n}=e;if(!Vl.has(e)){let r=v(Aw);if(iC(n)){let i=n.get(Pn);O1(i,(o,s,a)=>{o.nodeType===Node.ELEMENT_NODE&&(zx(o,s,a),Gx(o,r))})}}},multi:!0},{provide:ui,useFactory:()=>{let e=v(Xe),{injector:n}=e;return()=>{!iC(n)||Vl.has(e)||(Vl.add(e),e.onDestroy(()=>{Vl.delete(e);{let r=n.get(Pn);qp(r),P1(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=n.get(Yx);cV(r,n);let i=n.get(Aw);i.get(rC)?.forEach(qx),i.delete(rC);let o=r.instance;ik(n)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),t}var cV=(t,e)=>{let n=e.get(Pn),r=window._ejsas[n],i=t.instance=new sw(new Pl(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=aw(n);i.replayEarlyEventInfos(o),qp(n);let s=new xl(a=>{lV(e,a,a.currentTarget)});ow(i,s)};function lV(t,e,n){let r=(n&&n.getAttribute(Nu))??"";/d\d+/.test(r)?uV(r,t,e,n):e.eventPhase===Gp.REPLAY&&HD(e,n)}function uV(t,e,n,r){zl.push({event:n,currentTarget:r}),ZL(e,t,dV)}function dV(t){let e=[...zl],n=new Set(t);zl=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Nu);n.has(o)?HD(r,i):zl.push({event:r,currentTarget:i})}}var oC=!1;function fV(){oC||(oC=!0,ek(),w1(),V1(),b1(),kL(),gL(),BF(),xk())}function hV(t){return t.whenStable()}function oT(){let t=[{provide:Fl,useFactory:()=>{let e=!0;return e=!!v(Io,{optional:!0})?.get($D,null),e&&vr("NgHydration"),e}},{provide:hr,useValue:()=>{xF(!1),v(Fl)&&(ck(Au()),fV())},multi:!0}];return t.push({provide:FD,useFactory:()=>v(Fl)},{provide:ui,useFactory:()=>{if(v(Fl)){let e=v(Xe);return()=>{hV(e).then(()=>{e.destroyed||Tb(e)})}}return()=>{}},multi:!0}),gr(t)}function Un(t){return Ip(t)}function bo(t,e){return vp(t,e?.equal)}var sC=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};var xe=new w("");var cT=null;function Mt(){return cT}function Hm(t){cT??=t}var la=class{},$m=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>v(lT),providedIn:"platform"})}return t})();var lT=(()=>{class t extends $m{_location;_history;_doc=v(xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mt().getBaseHref(this._doc)}onPopState(n){let r=Mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Mt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function uT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function sT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Er(t){return t&&t[0]!=="?"?`?${t}`:t}var Gu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>v(fT),providedIn:"root"})}return t})(),dT=new w(""),fT=(()=>{class t extends Gu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return uT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(S($m),S(dT,8))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),To=(()=>{class t{_subject=new be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=mV(sT(aT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Er(r))}normalize(n){return t.stripTrailingSlash(gV(this._basePath,aT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Er;static joinWithSlash=uT;static stripTrailingSlash=sT;static \u0275fac=function(r){return new(r||t)(S(Gu))};static \u0275prov=D({token:t,factory:()=>pV(),providedIn:"root"})}return t})();function pV(){return new To(S(Gu))}function gV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function aT(t){return t.replace(/\/index.html$/,"")}function mV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var je=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(je||{}),X=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(X||{}),nt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(nt||{}),Bn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function vT(t){return At(t)[ge.LocaleId]}function yT(t,e,n){let r=At(t),i=[r[ge.DayPeriodsFormat],r[ge.DayPeriodsStandalone]],o=Rt(i,e);return Rt(o,n)}function _T(t,e,n){let r=At(t),i=[r[ge.DaysFormat],r[ge.DaysStandalone]],o=Rt(i,e);return Rt(o,n)}function ET(t,e,n){let r=At(t),i=[r[ge.MonthsFormat],r[ge.MonthsStandalone]],o=Rt(i,e);return Rt(o,n)}function IT(t,e){let r=At(t)[ge.Eras];return Rt(r,e)}function ua(t,e){let n=At(t);return Rt(n[ge.DateFormat],e)}function da(t,e){let n=At(t);return Rt(n[ge.TimeFormat],e)}function fa(t,e){let r=At(t)[ge.DateTimeFormat];return Rt(r,e)}function ha(t,e){let n=At(t),r=n[ge.NumberSymbols][e];if(typeof r>"u"){if(e===Bn.CurrencyDecimal)return n[ge.NumberSymbols][Bn.Decimal];if(e===Bn.CurrencyGroup)return n[ge.NumberSymbols][Bn.Group]}return r}function wT(t){if(!t[ge.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ge.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function CT(t){let e=At(t);return wT(e),(e[ge.ExtraData][2]||[]).map(r=>typeof r=="string"?Wm(r):[Wm(r[0]),Wm(r[1])])}function DT(t,e,n){let r=At(t);wT(r);let i=[r[ge.ExtraData][0],r[ge.ExtraData][1]],o=Rt(i,e)||[];return Rt(o,n)||[]}function Rt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Wm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var vV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qu={},yV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function bT(t,e,n,r){let i=SV(t);e=jn(n,e)||e;let s=[],a;for(;e;)if(a=yV.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=ST(r,c),i=TV(i,r));let l="";return s.forEach(u=>{let d=DV(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ju(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function jn(t,e){let n=vT(t);if(qu[n]??={},qu[n][e])return qu[n][e];let r="";switch(e){case"shortDate":r=ua(t,nt.Short);break;case"mediumDate":r=ua(t,nt.Medium);break;case"longDate":r=ua(t,nt.Long);break;case"fullDate":r=ua(t,nt.Full);break;case"shortTime":r=da(t,nt.Short);break;case"mediumTime":r=da(t,nt.Medium);break;case"longTime":r=da(t,nt.Long);break;case"fullTime":r=da(t,nt.Full);break;case"short":let i=jn(t,"shortTime"),o=jn(t,"shortDate");r=Yu(fa(t,nt.Short),[i,o]);break;case"medium":let s=jn(t,"mediumTime"),a=jn(t,"mediumDate");r=Yu(fa(t,nt.Medium),[s,a]);break;case"long":let c=jn(t,"longTime"),l=jn(t,"longDate");r=Yu(fa(t,nt.Long),[c,l]);break;case"full":let u=jn(t,"fullTime"),d=jn(t,"fullDate");r=Yu(fa(t,nt.Full),[u,d]);break}return r&&(qu[n][e]=r),r}function Yu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function zt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function _V(t,e){return zt(t,3).substring(0,e)}function Ee(t,e,n=0,r=!1,i=!1){return function(o,s){let a=EV(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return _V(a,e);let c=ha(s,Bn.MinusSign);return zt(a,e,c,r,i)}}function EV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ne(t,e,n=je.Format,r=!1){return function(i,o){return IV(i,o,t,e,n,r)}}function IV(t,e,n,r,i,o){switch(n){case 2:return ET(e,i,r)[t.getMonth()];case 1:return _T(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=CT(e),u=DT(e,i,r),d=l.findIndex(f=>{if(Array.isArray(f)){let[h,g]=f,m=s>=h.hours&&a>=h.minutes,E=s<g.hours||s===g.hours&&a<g.minutes;if(h.hours<g.hours){if(m&&E)return!0}else if(m||E)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return yT(e,i,r)[s<12?0:1];case 3:return IT(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Ku(t){return function(e,n,r){let i=-1*r,o=ha(n,Bn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+zt(s,2,o)+zt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+zt(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+zt(s,2,o)+":"+zt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+zt(s,2,o)+":"+zt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var wV=0,Zu=4;function CV(t){let e=Ju(t,wV,1).getDay();return Ju(t,0,1+(e<=Zu?Zu:Zu+7)-e)}function TT(t){let e=t.getDay(),n=e===0?-3:Zu-e;return Ju(t.getFullYear(),t.getMonth(),t.getDate()+n)}function zm(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=TT(n),s=CV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zt(i,t,ha(r,Bn.MinusSign))}}function Qu(t,e=!1){return function(n,r){let o=TT(n).getFullYear();return zt(o,t,ha(r,Bn.MinusSign),e)}}var Gm={};function DV(t){if(Gm[t])return Gm[t];let e;switch(t){case"G":case"GG":case"GGG":e=ne(3,X.Abbreviated);break;case"GGGG":e=ne(3,X.Wide);break;case"GGGGG":e=ne(3,X.Narrow);break;case"y":e=Ee(0,1,0,!1,!0);break;case"yy":e=Ee(0,2,0,!0,!0);break;case"yyy":e=Ee(0,3,0,!1,!0);break;case"yyyy":e=Ee(0,4,0,!1,!0);break;case"Y":e=Qu(1);break;case"YY":e=Qu(2,!0);break;case"YYY":e=Qu(3);break;case"YYYY":e=Qu(4);break;case"M":case"L":e=Ee(1,1,1);break;case"MM":case"LL":e=Ee(1,2,1);break;case"MMM":e=ne(2,X.Abbreviated);break;case"MMMM":e=ne(2,X.Wide);break;case"MMMMM":e=ne(2,X.Narrow);break;case"LLL":e=ne(2,X.Abbreviated,je.Standalone);break;case"LLLL":e=ne(2,X.Wide,je.Standalone);break;case"LLLLL":e=ne(2,X.Narrow,je.Standalone);break;case"w":e=zm(1);break;case"ww":e=zm(2);break;case"W":e=zm(1,!0);break;case"d":e=Ee(2,1);break;case"dd":e=Ee(2,2);break;case"c":case"cc":e=Ee(7,1);break;case"ccc":e=ne(1,X.Abbreviated,je.Standalone);break;case"cccc":e=ne(1,X.Wide,je.Standalone);break;case"ccccc":e=ne(1,X.Narrow,je.Standalone);break;case"cccccc":e=ne(1,X.Short,je.Standalone);break;case"E":case"EE":case"EEE":e=ne(1,X.Abbreviated);break;case"EEEE":e=ne(1,X.Wide);break;case"EEEEE":e=ne(1,X.Narrow);break;case"EEEEEE":e=ne(1,X.Short);break;case"a":case"aa":case"aaa":e=ne(0,X.Abbreviated);break;case"aaaa":e=ne(0,X.Wide);break;case"aaaaa":e=ne(0,X.Narrow);break;case"b":case"bb":case"bbb":e=ne(0,X.Abbreviated,je.Standalone,!0);break;case"bbbb":e=ne(0,X.Wide,je.Standalone,!0);break;case"bbbbb":e=ne(0,X.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":e=ne(0,X.Abbreviated,je.Format,!0);break;case"BBBB":e=ne(0,X.Wide,je.Format,!0);break;case"BBBBB":e=ne(0,X.Narrow,je.Format,!0);break;case"h":e=Ee(3,1,-12);break;case"hh":e=Ee(3,2,-12);break;case"H":e=Ee(3,1);break;case"HH":e=Ee(3,2);break;case"m":e=Ee(4,1);break;case"mm":e=Ee(4,2);break;case"s":e=Ee(5,1);break;case"ss":e=Ee(5,2);break;case"S":e=Ee(6,1);break;case"SS":e=Ee(6,2);break;case"SSS":e=Ee(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ku(0);break;case"ZZZZZ":e=Ku(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ku(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ku(2);break;default:return null}return Gm[t]=e,e}function ST(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function bV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function TV(t,e,n){let i=t.getTimezoneOffset(),o=ST(e,i);return bV(t,-1*(o-i))}function SV(t){if(hT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Ju(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(vV))return AV(r)}let e=new Date(t);if(!hT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function AV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function hT(t){return t instanceof Date&&!isNaN(t.valueOf())}var qm=/\s+/,pT=[],Ym=(()=>{class t{_ngEl;_renderer;initialClasses=pT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(qm):pT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(qm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(qm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(V(_o),V(aa))};static \u0275dir=Ge({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Xu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},td=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Xu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(V(Do),V(Fu),V(Bm))};static \u0275dir=Ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function gT(t,e){t.context.$implicit=e.item}var Km=(()=>{class t{_viewContainer;_context=new ed;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(V(Do),V(Fu))};static \u0275dir=Ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ed=class{$implicit=null;ngIf=null};function mT(t,e){if(t&&!t.createEmbeddedView)throw new C(2020,!1)}function MV(t,e){return new C(2100,!1)}var RV="mediumDate",AT=new w(""),MT=new w(""),Qm=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??RV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bT(n,s,o||this.locale,a)}catch(s){throw MV(t,s.message)}}static \u0275fac=function(r){return new(r||t)(V(Wu,16),V(AT,24),V(MT,24))};static \u0275pipe=Fb({name:"date",type:t,pure:!0})}return t})();var Ir=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vn({type:t});static \u0275inj=Ln({})}return t})();function pa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zm="browser",RT="server";function nd(t){return t===RT}var fi=class{};var od=new w(""),nv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(S(od),S(le))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),ga=class{_doc;constructor(e){this._doc=e}manager},rd="ng-app-id";function NT(t){for(let e of t)e.remove()}function OT(t,e){let n=e.createElement("style");return n.textContent=t,n}function NV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${rd}="${e}"],link[${rd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(rd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function ev(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var rv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=nd(o),NV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,OT);r?.forEach(i=>this.addUsage(i,this.external,ev))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(NT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])NT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,OT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,ev(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(rd,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(S(xe),S(Pn),S(gm,8),S(ia))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),Xm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},iv=/%COMP%/g;var xT="%COMP%",OV=`_nghost-${xT}`,PV=`_ngcontent-${xT}`,xV=!0,kV=new w("",{providedIn:"root",factory:()=>xV});function FV(t){return PV.replace(iv,t)}function LV(t){return OV.replace(iv,t)}function kT(t,e){return e.map(n=>n.replace(iv,t))}var ov=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=nd(a),this.defaultRenderer=new ma(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===un.ShadowDom&&(r=L(I({},r),{encapsulation:un.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof id?i.applyToHost(n):i instanceof va&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case un.Emulated:o=new id(c,l,r,this.appId,u,s,a,d,f);break;case un.ShadowDom:return new tv(c,l,n,r,s,a,this.nonce,d,f);default:o=new va(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(S(nv),S(rv),S(Pn),S(kV),S(xe),S(ia),S(le),S(gm),S(wo,8))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),ma=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Xm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(PT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(PT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Xm[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Xm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fn.DashCase|Fn.Important)?e.style.setProperty(n,r,i&Fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Mt().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function PT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tv=class extends ma{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=kT(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=ev(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},va=class extends ma{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?kT(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},id=class extends va{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,l,u),this.contentAttr=FV(u),this.hostAttr=LV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var sd=class t extends la{supportsDOMEvents=!0;static makeCurrent(){Hm(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=VV();return n==null?null:UV(n)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pa(document.cookie,e)}},ya=null;function VV(){return ya=ya||document.querySelector("base"),ya?ya.getAttribute("href"):null}function UV(t){return new URL(t,document.baseURI).pathname}var jV=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),LT=(()=>{class t extends ga{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(S(xe))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),FT=["alt","control","meta","shift"],BV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VT=(()=>{class t extends ga{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FT.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=BV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FT.forEach(s=>{if(s!==i){let a=HV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(S(xe))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();function sv(t,e){return rT(I({rootComponent:t},$V(e)))}function $V(t){return{appProviders:[...YV,...t?.providers??[]],platformProviders:qV}}function WV(){sd.makeCurrent()}function zV(){return new ln}function GV(){return RD(document),document}var qV=[{provide:ia,useValue:Zm},{provide:pm,useValue:WV,multi:!0},{provide:xe,useFactory:GV}];var YV=[{provide:wu,useValue:"root"},{provide:ln,useFactory:zV},{provide:od,useClass:LT,multi:!0,deps:[xe]},{provide:od,useClass:VT,multi:!0,deps:[xe]},ov,rv,nv,{provide:fo,useExisting:ov},{provide:fi,useClass:jV},[]];var Ao=class{},Mo=class{},Gt=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ld=class{encodeKey(e){return UT(e)}encodeValue(e){return UT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KV(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var QV=/%(\d[a-f0-9])/gi,ZV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UT(t){return encodeURIComponent(t).replace(QV,(e,n)=>ZV[n]??e)}function ad(t){return`${t}`}var $n=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ld,e.fromString){if(e.fromObject)throw new C(2805,!1);this.map=KV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ad):[ad(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ad(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ad(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ud=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function JV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function BT(t){return typeof Blob<"u"&&t instanceof Blob}function HT(t){return typeof FormData<"u"&&t instanceof FormData}function XV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _a="Content-Type",dd="Accept",dv="X-Request-URL",WT="text/plain",zT="application/json",GT=`${zT}, ${WT}, */*`,So=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(JV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Gt,this.context??=new ud,!this.params)this.params=new $n,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jT(this.body)||BT(this.body)||HT(this.body)||XV(this.body)?this.body:this.body instanceof $n?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||HT(this.body)?null:BT(this.body)?this.body.type||null:jT(this.body)?null:typeof this.body=="string"?WT:this.body instanceof $n?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?zT:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Wn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Wn||{}),Ro=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Gt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ea=class t extends Ro{constructor(e={}){super(e)}type=Wn.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wr=class t extends Ro{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Wn.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hn=class extends Ro{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},qT=200,eU=204;function av(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var YT=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof So)o=n;else{let c;i.headers instanceof Gt?c=i.headers:c=new Gt(i.headers);let l;i.params&&(i.params instanceof $n?l=i.params:l=new $n({fromObject:i.params})),o=new So(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=T(o).pipe(lr(c=>this.handler.handle(c)));if(n instanceof So||i.observe==="events")return s;let a=s.pipe(ut(c=>c instanceof wr));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(F(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new $n().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,av(i,r))}post(n,r,i={}){return this.request("POST",n,av(i,r))}put(n,r,i={}){return this.request("PUT",n,av(i,r))}static \u0275fac=function(r){return new(r||t)(S(Ao))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),tU=/^\)\]\}',?\n/;function $T(t){if(t.url)return t.url;let e=dv.toLocaleLowerCase();return t.headers.get(e)}var KT=new w(""),cd=(()=>{class t{fetchImpl=v(cv,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=v(le);handle(n){return new G(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(lv,o=>r.error(new Hn({error:o}))),()=>i.abort()})}doRequest(n,r,i){return p(this,null,function*(){let o=this.createRequestInit(n),s;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,I({signal:r},o)));nU(h),i.next({type:Wn.Sent}),s=yield h}catch(h){i.error(new Hn({error:h,status:h.status??0,statusText:h.statusText,url:n.urlWithParams,headers:h.headers}));return}let a=new Gt(s.headers),c=s.statusText,l=$T(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&i.next(new Ea({headers:a,status:u,statusText:c,url:l})),s.body){let h=s.headers.get("content-length"),g=[],m=s.body.getReader(),E=0,A,Ce,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>p(this,null,function*(){for(;;){let{done:nn,value:An}=yield m.read();if(nn)break;if(g.push(An),E+=An.length,n.reportProgress){Ce=n.responseType==="text"?(Ce??"")+(A??=new TextDecoder).decode(An,{stream:!0}):void 0;let Rs=()=>i.next({type:Wn.DownloadProgress,total:h?+h:void 0,loaded:E,partialText:Ce});H?H.run(Rs):Rs()}}}));let It=this.concatChunks(g,E);try{let nn=s.headers.get(_a)??"";d=this.parseBody(n,It,nn)}catch(nn){i.error(new Hn({error:nn,headers:new Gt(s.headers),status:s.status,statusText:s.statusText,url:$T(s)??n.urlWithParams}));return}}u===0&&(u=d?qT:0),u>=200&&u<300?(i.next(new wr({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new Hn({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(tU,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(dd)||(r[dd]=GT),!n.headers.has(_a)){let o=n.detectContentTypeHeader();o!==null&&(r[_a]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),cv=class{};function lv(){}function nU(t){t.then(lv,lv)}function rU(t,e){return e(t)}function iU(t,e,n){return(r,i)=>mt(n,()=>e(r,o=>t(o,i)))}var QT=new w(""),fv=new w(""),ZT=new w("",{providedIn:"root",factory:()=>!0});var fd=(()=>{class t extends Ao{backend;injector;chain=null;pendingTasks=v(hn);contributeToStability=v(ZT);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(QT),...this.injector.get(fv,[])]));this.chain=r.reduceRight((i,o)=>iU(i,o,this.injector),rU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Gr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(S(Mo),S(ze))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();var oU=/^\)\]\}',?\n/,sU=RegExp(`^${dv}:`,"m");function aU(t){return"responseURL"in t&&t.responseURL?t.responseURL:sU.test(t.getAllResponseHeaders())?t.getResponseHeader(dv):null}var uv=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?se(r.\u0275loadImpl()):T(null)).pipe(dt(()=>new G(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,E)=>s.setRequestHeader(m,E.join(","))),n.headers.has(dd)||s.setRequestHeader(dd,GT),!n.headers.has(_a)){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader(_a,m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=s.statusText||"OK",E=new Gt(s.getAllResponseHeaders()),A=aU(s)||n.url;return c=new Ea({headers:E,status:s.status,statusText:m,url:A}),c},u=()=>{let{headers:m,status:E,statusText:A,url:Ce}=l(),H=null;E!==eU&&(H=typeof s.response>"u"?s.responseText:s.response),E===0&&(E=H?qT:0);let It=E>=200&&E<300;if(n.responseType==="json"&&typeof H=="string"){let nn=H;H=H.replace(oU,"");try{H=H!==""?JSON.parse(H):null}catch(An){H=nn,It&&(It=!1,H={error:An,text:H})}}It?(o.next(new wr({body:H,headers:m,status:E,statusText:A,url:Ce||void 0})),o.complete()):o.error(new Hn({error:H,headers:m,status:E,statusText:A,url:Ce||void 0}))},d=m=>{let{url:E}=l(),A=new Hn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(A)},f=!1,h=m=>{f||(o.next(l()),f=!0);let E={type:Wn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(E.total=m.total),n.responseType==="text"&&s.responseText&&(E.partialText=s.responseText),o.next(E)},g=m=>{let E={type:Wn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(E.total=m.total),o.next(E)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Wn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(S(fi))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})(),JT=new w(""),cU="XSRF-TOKEN",lU=new w("",{providedIn:"root",factory:()=>cU}),uU="X-XSRF-TOKEN",dU=new w("",{providedIn:"root",factory:()=>uU}),Ia=class{},fU=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=pa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(S(xe),S(lU))};static \u0275prov=D({token:t,factory:t.\u0275fac})}return t})();function hU(t,e){let n=t.url.toLowerCase();if(!v(JT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=v(Ia).getToken(),i=v(dU);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var hv=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(hv||{});function pU(t,e){return{\u0275kind:t,\u0275providers:e}}function pv(...t){let e=[YT,uv,fd,{provide:Ao,useExisting:fd},{provide:Mo,useFactory:()=>v(KT,{optional:!0})??v(uv)},{provide:QT,useValue:hU,multi:!0},{provide:JT,useValue:!0},{provide:Ia,useClass:fU}];for(let n of t)e.push(...n.\u0275providers);return gr(e)}function gv(){return pU(hv.Fetch,[cd,{provide:KT,useExisting:cd},{provide:Mo,useExisting:cd}])}var gU=new w(""),mU="b",vU="h",yU="s",_U="st",EU="u",IU="rt",mv=new w(""),wU=["GET","HEAD"];function CU(t,e){let f=v(mv),{isCacheActive:n}=f,r=fI(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!wU.includes(o)||!r.includeRequestsWithAuthHeaders&&DU(t)||r.filter?.(t)===!1)return e(t);let s=v(Io);if(v(gU,{optional:!0}))throw new C(2803,!1);let c=t.url,l=bU(t,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[mU]:h,[IU]:g,[vU]:m,[yU]:E,[_U]:A,[EU]:Ce}=u,H=h;switch(g){case"arraybuffer":H=new TextEncoder().encode(h).buffer;break;case"blob":H=new Blob([h]);break}let It=new Gt(m);return T(new wr({body:H,headers:It,status:E,statusText:A,url:Ce}))}return e(t).pipe(Ae(h=>{h instanceof wr}))}function DU(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function XT(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function bU(t,e){let{params:n,method:r,responseType:i}=t,o=XT(n),s=t.serializeBody();s instanceof URLSearchParams?s=XT(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),c=TU(a);return c}function TU(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function eS(t){return[{provide:mv,useFactory:()=>(vr("NgHttpTransferCache"),I({isCacheActive:!0},t))},{provide:fv,useValue:CU,multi:!0},{provide:ui,multi:!0,useFactory:()=>{let e=v(Xe),n=v(mv);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var tS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(S(xe))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hd=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(hd||{});function AU(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function nS(){return AU(hd.EventReplay,iT())}function rS(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(hd.HttpTransferCacheOptions);return gr([[],oT(),n.has(hd.NoHttpTransferCache)||r?[]:eS({}),e])}var P="primary",ka=Symbol("RouteTitle"),Iv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function gi(t){return new Iv(t)}function dS(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function RU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gn(t[n],e[n]))return!1;return!0}function gn(t,e){let n=t?wv(t):void 0,r=e?wv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fS(t[i],e[i]))return!1;return!0}function wv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function hS(t){return t.length>0?t[t.length-1]:null}function br(t){return Op(t)?t:li(t)?se(Promise.resolve(t)):T(t)}var NU={exact:gS,subset:mS},pS={exact:OU,subset:PU,ignored:()=>!0};function iS(t,e,n){return NU[n.paths](t.root,e.root,n.matrixParams)&&pS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function OU(t,e){return gn(t,e)}function gS(t,e,n){if(!hi(t.segments,e.segments)||!md(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gS(t.children[r],e.children[r],n))return!1;return!0}function PU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fS(t[n],e[n]))}function mS(t,e,n){return vS(t,e,e.segments,n)}function vS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!md(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!md(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!mS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hi(t.segments,i)||!md(t.segments,i,r)||!t.children[P]?!1:vS(t.children[P],e,o,r)}}function md(t,e,n){return e.every((r,i)=>pS[n](t[i].parameters,r.parameters))}var vn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){return FU.serialize(this)}},Y=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}},Cr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=gi(this.parameters),this._parameterMap}toString(){return _S(this)}};function xU(t,e){return hi(t,e)&&t.every((n,r)=>gn(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===P&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==P&&(n=n.concat(e(i,r)))}),n}var Fa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>new mi,providedIn:"root"})}return t})(),mi=class{parse(e){let n=new Dv(e);return new vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${wa(e.root,!0)}`,r=UU(e.queryParams),i=typeof e.fragment=="string"?`#${LU(e.fragment)}`:"";return`${n}${r}${i}`}},FU=new mi;function vd(t){return t.segments.map(e=>_S(e)).join("/")}function wa(t,e){if(!t.hasChildren())return vd(t);if(e){let n=t.children[P]?wa(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==P&&r.push(`${i}:${wa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kU(t,(r,i)=>i===P?[wa(t.children[P],!1)]:[`${i}:${wa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${vd(t)}/${n[0]}`:`${vd(t)}/(${n.join("//")})`}}function yS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pd(t){return yS(t).replace(/%3B/gi,";")}function LU(t){return encodeURI(t)}function Cv(t){return yS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yd(t){return decodeURIComponent(t)}function oS(t){return yd(t.replace(/\+/g,"%20"))}function _S(t){return`${Cv(t.path)}${VU(t.parameters)}`}function VU(t){return Object.entries(t).map(([e,n])=>`;${Cv(e)}=${Cv(n)}`).join("")}function UU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${pd(n)}=${pd(i)}`).join("&"):`${pd(n)}=${pd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var jU=/^[^\/()?;#]+/;function vv(t){let e=t.match(jU);return e?e[0]:""}var BU=/^[^\/()?;=#]+/;function HU(t){let e=t.match(BU);return e?e[0]:""}var $U=/^[^=?&#]+/;function WU(t){let e=t.match($U);return e?e[0]:""}var zU=/^[^&#]+/;function GU(t){let e=t.match(zU);return e?e[0]:""}var Dv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[P]=new Y(e,n)),r}parseSegment(){let e=vv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Cr(yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=HU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vv(this.remaining);i&&(r=i,this.capture(r))}e[yd(n)]=yd(r)}parseQueryParam(e){let n=WU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=GU(this.remaining);s&&(r=s,this.capture(r))}let i=oS(n),o=oS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function ES(t){return t.segments.length>0?new Y([],{[P]:t}):t}function IS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=IS(i);if(r===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Y(t.segments,e);return qU(n)}function qU(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new Y(t.segments.concat(e.segments),e.children)}return t}function ko(t){return t instanceof vn}function wS(t,e,n=null,r=null){let i=CS(t);return DS(i,e,n,r)}function CS(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=ES(r);return e??i}function DS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return yv(i,i,i,n,r);let o=YU(e);if(o.toRoot())return yv(i,i,new Y([],{}),n,r);let s=KU(o,i,t),a=s.processChildren?Da(s.segmentGroup,s.index,o.commands):TS(s.segmentGroup,s.index,o.commands);return yv(i,s.segmentGroup,a,n,r)}function Ed(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ta(t){return typeof t=="object"&&t!=null&&t.outlets}function yv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=bS(t,e,n);let a=ES(IS(s));return new vn(a,o,i)}function bS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=bS(o,e,n)}),new Y(t.segments,r)}var Id=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ed(r[0]))throw new C(4003,!1);let i=r.find(Ta);if(i&&i!==hS(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Id(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Id(n,e,r)}var Po=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function KU(t,e,n){if(t.isAbsolute)return new Po(e,!0,0);if(!n)return new Po(e,!1,NaN);if(n.parent===null)return new Po(n,!0,0);let r=Ed(t.commands[0])?0:1,i=n.segments.length-1+r;return QU(n,i,t.numberOfDoubleDots)}function QU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Po(r,!1,i-o)}function ZU(t){return Ta(t[0])?t[0].outlets:{[P]:t}}function TS(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return Da(t,e,n);let r=JU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Y(t.segments.slice(0,r.pathIndex),{});return o.children[P]=new Y(t.segments.slice(r.pathIndex),t.children),Da(o,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?bv(t,e,n):r.match?Da(t,0,i):bv(t,e,n)}function Da(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=ZU(n),i={};if(Object.keys(r).some(o=>o!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let o=Da(t.children[P],e,n);return new Y(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(t.segments,i)}}function JU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ta(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!aS(c,l,s))return o;r+=2}else{if(!aS(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ta(o)){let c=XU(o.outlets);return new Y(r,c)}if(i===0&&Ed(n[0])){let c=t.segments[e];r.push(new Cr(c.path,sS(n[0]))),i++;continue}let s=Ta(o)?o.outlets[P]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ed(a)?(r.push(new Cr(s,sS(a))),i+=2):(r.push(new Cr(s,{})),i++)}return new Y(r,{})}function XU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=bv(new Y([],{}),0,r))}),e}function sS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function aS(t,e,n){return t==n.path&&gn(e,n.parameters)}var _d="imperative",ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ke||{}),yt=class{id;url;constructor(e,n){this.id=e,this.url=n}},vi=class extends yt{type=ke.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends yt{urlAfterRedirects;type=ke.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(rt||{}),Sa=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sa||{}),mn=class extends yt{reason;code;type=ke.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends yt{reason;code;type=ke.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Fo=class extends yt{error;target;type=ke.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Aa=class extends yt{urlAfterRedirects;state;type=ke.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wd=class extends yt{urlAfterRedirects;state;type=ke.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cd=class extends yt{urlAfterRedirects;state;shouldActivate;type=ke.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dd=class extends yt{urlAfterRedirects;state;type=ke.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bd=class extends yt{urlAfterRedirects;state;type=ke.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Td=class{route;type=ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sd=class{route;type=ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ad=class{snapshot;type=ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Md=class{snapshot;type=ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{snapshot;type=ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nd=class{snapshot;type=ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ma=class{},Lo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function ej(t,e){return t.providers&&!t._injector&&(t._injector=ca(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qt(t){return t.outlet||P}function tj(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function La(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Od=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return La(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new jo(this.rootInjector)}},jo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Od(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(S(ze))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Sv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sv(e,this._root).map(n=>n.value)}};function Tv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tv(t,n);if(r)return r}return null}function Sv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Sv(t,n);if(r.length)return r.unshift(e),r}return[]}var vt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ra=class extends Pd{snapshot;constructor(e,n){super(e),this.snapshot=n,kv(this,e)}toString(){return this.snapshot.toString()}};function SS(t){let e=nj(t),n=new Te([new Cr("",{})]),r=new Te({}),i=new Te({}),o=new Te({}),s=new Te(""),a=new Dr(n,r,o,s,i,P,t,e.root);return a.snapshot=e.root,new Ra(new vt(a,[]),e)}function nj(t){let e={},n={},r={},i="",o=new pi([],e,r,i,n,P,t,null,{});return new Na("",new vt(o,[]))}var Dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(l=>l[ka]))??T(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>gi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>gi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&MS(i)&&(r.resolve[ka]=i.title),r}var pi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ka]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Na=class extends Pd{url;constructor(e,n){super(n),this.url=e,kv(this,n)}toString(){return AS(this._root)}};function kv(t,e){e.value._routerState=t,e.children.forEach(n=>kv(t,n))}function AS(t){let e=t.children.length>0?` { ${t.children.map(AS).join(", ")} } `:"";return`${t.value}${e}`}function _v(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gn(e.params,n.params)||t.paramsSubject.next(n.params),RU(e.url,n.url)||t.urlSubject.next(n.url),gn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Av(t,e){let n=gn(t.params,e.params)&&xU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Av(t.parent,e.parent))}function MS(t){return typeof t.title=="string"||t.title===null}var RS=new w(""),Va=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new pe;deactivateEvents=new pe;attachEvents=new pe;detachEvents=new pe;routerOutletData=wD(void 0);parentContexts=v(jo);location=v(Do);changeDetector=v(zu);inputBinder=v(Vd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Mv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vo]})}return t})(),Mv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Dr?this.route:e===jo?this.childContexts:e===RS?this.outletData:this.parent.get(e,n)}},Vd=new w("");function rj(t,e,n){let r=Oa(t,e._root,n?n._root:void 0);return new Ra(r,e)}function Oa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ij(t,e,n);return new vt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Oa(t,a)),s}}let r=oj(e.value),i=e.children.map(o=>Oa(t,o));return new vt(r,i)}}function ij(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Oa(t,r,i);return Oa(t,r)})}function oj(t){return new Dr(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var Vo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},NS="ngNavigationCancelingError";function kd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OS(!1,rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function OS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[NS]=!0,n.cancellationCode=e,n}function sj(t){return PS(t)&&ko(t.url)}function PS(t){return!!t&&t[NS]}var aj=(t,e,n,r)=>F(i=>(new Rv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_v(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Oo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Oo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Oo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Oo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Nd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Md(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(_v(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_v(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Fd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function cj(t,e,n){let r=t._root,i=e?e._root:null;return Ca(r,i,n,[r.value])}function lj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!dC(t)?t:e.get(t):r}function Ca(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Oo(e);return t.children.forEach(s=>{uj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ba(a,n.getContext(s),i)),i}function uj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=dj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Fd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ca(t,e,a?a.children:null,r,i):Ca(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xo(a.outlet.component,s))}else s&&ba(e,a,i),i.canActivateChecks.push(new Fd(r)),o.component?Ca(t,null,a?a.children:null,r,i):Ca(t,null,n,r,i);return i}function dj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!gn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Av(t,e)||!gn(t.queryParams,e.queryParams);case"paramsChange":default:return!Av(t,e)}}function ba(t,e,n){let r=Oo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ba(s,e.children.getContext(o),n):ba(s,null,n):ba(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xo(e.outlet.component,i)):n.canDeactivateChecks.push(new xo(null,i)):n.canDeactivateChecks.push(new xo(null,i))}function Ua(t){return typeof t=="function"}function fj(t){return typeof t=="boolean"}function hj(t){return t&&Ua(t.canLoad)}function pj(t){return t&&Ua(t.canActivate)}function gj(t){return t&&Ua(t.canActivateChild)}function mj(t){return t&&Ua(t.canDeactivate)}function vj(t){return t&&Ua(t.canMatch)}function xS(t){return t instanceof Rn||t?.name==="EmptyError"}var gd=Symbol("INITIAL_VALUE");function Uo(){return dt(t=>Sl(t.map(e=>e.pipe(Nn(1),Fp(gd)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===gd)return gd;if(n===!1||yj(n))return n}return!0}),ut(e=>e!==gd),Nn(1)))}function yj(t){return ko(t)||t instanceof Vo}function _j(t,e){return Se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?T(L(I({},n),{guardsResult:!0})):Ej(s,r,i,t).pipe(Se(a=>a&&fj(a)?Ij(r,o,t,e):T(a)),F(a=>L(I({},n),{guardsResult:a})))})}function Ej(t,e,n,r){return se(t).pipe(Se(i=>Tj(i.component,i.route,n,e,r)),On(i=>i!==!0,!0))}function Ij(t,e,n,r){return se(e).pipe(lr(i=>Qi(Cj(i.route.parent,r),wj(i.route,r),bj(t,i.path,n),Dj(t,i.route,n))),On(i=>i!==!0,!0))}function wj(t,e){return t!==null&&e&&e(new Rd(t)),T(!0)}function Cj(t,e){return t!==null&&e&&e(new Ad(t)),T(!0)}function Dj(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let i=r.map(o=>Al(()=>{let s=La(e)??n,a=Bo(o,s),c=pj(a)?a.canActivate(e,t):mt(s,()=>a(e,t));return br(c).pipe(On())}));return T(i).pipe(Uo())}function bj(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lj(s)).filter(s=>s!==null).map(s=>Al(()=>{let a=s.guards.map(c=>{let l=La(s.node)??n,u=Bo(c,l),d=gj(u)?u.canActivateChild(r,t):mt(l,()=>u(r,t));return br(d).pipe(On())});return T(a).pipe(Uo())}));return T(o).pipe(Uo())}function Tj(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return T(!0);let s=o.map(a=>{let c=La(e)??i,l=Bo(a,c),u=mj(l)?l.canDeactivate(t,e,n,r):mt(c,()=>l(t,e,n,r));return br(u).pipe(On())});return T(s).pipe(Uo())}function Sj(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return T(!0);let o=i.map(s=>{let a=Bo(s,t),c=hj(a)?a.canLoad(e,n):mt(t,()=>a(e,n));return br(c)});return T(o).pipe(Uo(),kS(r))}function kS(t){return Ap(Ae(e=>{if(typeof e!="boolean")throw kd(t,e)}),F(e=>e===!0))}function Aj(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return T(!0);let o=i.map(s=>{let a=Bo(s,t),c=vj(a)?a.canMatch(e,n):mt(t,()=>a(e,n));return br(c)});return T(o).pipe(Uo(),kS(r))}var Pa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},xa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function No(t){return Ki(new Pa(t))}function Mj(t){return Ki(new C(4e3,!1))}function Rj(t){return Ki(OS(!1,rt.GuardRejected))}var Nv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return T(r);if(i.numberOfChildren>1||!i.children[P])return Mj(`${e.redirectTo}`);i=i.children[P]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:m}=i,E=mt(o,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:m}));if(E instanceof vn)throw new xa(E);n=E}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new xa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new vn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Y(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nj(t,e,n,r,i){let o=FS(t,e,n);return o.matched?(r=ej(e,r),Aj(r,e,n,i).pipe(F(s=>s===!0?o:I({},Ov)))):T(o)}function FS(t,e,n){if(e.path==="**")return Oj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},Ov):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dS)(n,t,e);if(!i)return I({},Ov);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Oj(t){return{matched:!0,parameters:t.length>0?hS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cS(t,e,n,r){return n.length>0&&kj(t,n,r)?{segmentGroup:new Y(e,xj(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&Fj(t,n,r)?{segmentGroup:new Y(t.segments,Pj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function Pj(t,e,n,r){let i={};for(let o of n)if(Ud(t,e,o)&&!r[qt(o)]){let s=new Y([],{});i[qt(o)]=s}return I(I({},r),i)}function xj(t,e){let n={};n[P]=e;for(let r of t)if(r.path===""&&qt(r)!==P){let i=new Y([],{});n[qt(r)]=i}return n}function kj(t,e,n){return n.some(r=>Ud(t,e,r)&&qt(r)!==P)}function Fj(t,e,n){return n.some(r=>Ud(t,e,r))}function Ud(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Lj(t,e,n){return e.length===0&&!t.children[n]}var Pv=class{};function Vj(t,e,n,r,i,o,s="emptyOnly"){return new xv(t,e,n,r,i,s,o).recognize()}var Uj=31,xv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Nv(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=cS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(F(({children:n,rootSnapshot:r})=>{let i=new vt(r,n),o=new Na("",i),s=wS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new pi([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,P,n).pipe(F(r=>({children:r,rootSnapshot:n})),cr(r=>{if(r instanceof xa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(F(s=>s instanceof vt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(lr(s=>{let a=r.children[s],c=tj(n,s);return this.processSegmentGroup(e,c,a,s,i)}),kp((s,a)=>(s.push(...a),s)),ur(null),xp(),Se(s=>{if(s===null)return No(r);let a=LS(s);return jj(a),T(a)}))}processSegment(e,n,r,i,o,s,a){return se(n).pipe(lr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(cr(l=>{if(l instanceof Pa)return T(null);throw l}))),On(c=>!!c),cr(c=>{if(xS(c))return Lj(r,i,o)?T(new Pv):No(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return qt(r)!==s&&(s===P||!Ud(i,o,r))?No(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):No(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=FS(n,i,o);if(!c)return No(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Uj&&(this.allowRedirects=!1));let h=new pi(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,lS(i),qt(i),i.component??i._loadedComponent??null,i,uS(i)),g=xd(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(Se(E=>this.processSegment(e,r,n,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Nj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(dt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new pi(f,d,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,lS(r),qt(r),r.component??r._loadedComponent??null,r,uS(r)),m=xd(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:E,slicedSegments:A}=cS(n,f,h,l);if(A.length===0&&E.hasChildren())return this.processChildren(u,l,E,g).pipe(F(H=>new vt(g,H)));if(l.length===0&&A.length===0)return T(new vt(g,[]));let Ce=qt(r)===o;return this.processSegment(u,l,E,A,Ce?P:o,!0,g).pipe(F(H=>new vt(g,H instanceof vt?[H]:[])))}))):No(n)))}getChildConfig(e,n,r){return n.children?T({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):Sj(e,n,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(e,n).pipe(Ae(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Rj(n))):T({routes:[],injector:e})}};function jj(t){t.sort((e,n)=>e.value.outlet===P?-1:n.value.outlet===P?1:e.value.outlet.localeCompare(n.value.outlet))}function Bj(t){let e=t.value.routeConfig;return e&&e.path===""}function LS(t){let e=[],n=new Set;for(let r of t){if(!Bj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=LS(r.children);e.push(new vt(r.value,i))}return e.filter(r=>!n.has(r))}function lS(t){return t.data||{}}function uS(t){return t.resolve||{}}function Hj(t,e,n,r,i,o){return Se(s=>Vj(t,e,n,r,s.extractedUrl,i,o).pipe(F(({state:a,tree:c})=>L(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function $j(t,e){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return T(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of VS(c))s.add(l);let a=0;return se(s).pipe(lr(c=>o.has(c)?Wj(c,r,t,e):(c.data=xd(c,c.parent,t).resolve,T(void 0))),Ae(()=>a++),Zi(1),Se(c=>a===s.size?T(n):Ke))})}function VS(t){let e=t.children.map(n=>VS(n)).flat();return[t,...e]}function Wj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!MS(i)&&(o[ka]=i.title),zj(o,t,e,r).pipe(F(s=>(t._resolvedData=s,t.data=xd(t,t.parent,n).resolve,null)))}function zj(t,e,n,r){let i=wv(t);if(i.length===0)return T({});let o={};return se(i).pipe(Se(s=>Gj(t[s],e,n,r).pipe(On(),Ae(a=>{if(a instanceof Vo)throw kd(new mi,a);o[s]=a}))),Zi(1),F(()=>o),cr(s=>xS(s)?Ke:Ki(s)))}function Gj(t,e,n,r){let i=La(e)??r,o=Bo(t,i),s=o.resolve?o.resolve(e,n):mt(i,()=>o(e,n));return br(s)}function Ev(t){return dt(e=>{let n=t(e);return n?se(n).pipe(F(()=>e)):T(e)})}var Fv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===P);return r}getResolvedTitleForRoute(n){return n.data[ka]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>v(US),providedIn:"root"})}return t})(),US=(()=>{class t extends Fv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(S(tS))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ja=new w("",{providedIn:"root",factory:()=>({})}),Lv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=pn({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&St(0,"router-outlet")},dependencies:[Va],encapsulation:2})}return t})();function Vv(t){let e=t.children&&t.children.map(Vv),n=e?L(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=Lv),n}var Ba=new w(""),jS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(Xb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return T(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=br(n.loadComponent()).pipe(F(HS),Ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Gr(()=>{this.componentLoaders.delete(n)})),i=new Yi(r,()=>new be).pipe(qi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=BS(r,this.compiler,n,this.onLoadEndListener).pipe(Gr(()=>{this.childrenLoaders.delete(r)})),s=new Yi(o,()=>new be).pipe(qi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BS(t,e,n,r){return br(t.loadChildren()).pipe(F(HS),Se(i=>i instanceof Vm||Array.isArray(i)?T(i):se(e.compileModuleAsync(i))),F(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vv),injector:o}}))}function qj(t){return t&&typeof t=="object"&&"default"in t}function HS(t){return qj(t)?t.default:t}var jd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>v(Yj),providedIn:"root"})}return t})(),Yj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$S=new w("");var WS=new w(""),zS=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortSubject=new be;configLoader=v(jS);environmentInjector=v(ze);destroyRef=v(na);urlSerializer=v(Fa);rootContexts=v(jo);location=v(To);inputBindingEnabled=v(Vd,{optional:!0})!==null;titleStrategy=v(Fv);options=v(ja,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(jd);createViewTransition=v($S,{optional:!0});navigationErrorHandler=v(WS,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Td(i)),r=i=>this.events.next(new Sd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(L(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Te(null),this.transitions.pipe(ut(r=>r!==null),dt(r=>{let i=!1,o=!1;return T(r).pipe(dt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),Ke;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?L(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Gn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Sa.IgnoredSameUrlNavigation)),s.resolve(!1),Ke}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return T(s).pipe(dt(l=>(this.events.next(new vi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ke:Promise.resolve(l))),Hj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ae(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=L(I({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Aa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:f,extras:h}=s,g=new vi(l,this.urlSerializer.serialize(u),d,f);this.events.next(g);let m=SS(this.rootComponentType).snapshot;return this.currentTransition=r=L(I({},s),{targetSnapshot:m,urlAfterRedirects:u,extras:L(I({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,T(r)}else{let l="";return this.events.next(new Gn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Sa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ke}}),Ae(s=>{let a=new wd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),F(s=>(this.currentTransition=r=L(I({},s),{guards:cj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),_j(this.environmentInjector,s=>this.events.next(s)),Ae(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw kd(this.urlSerializer,s.guardsResult);let a=new Cd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ut(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",rt.GuardRejected),!1)),Ev(s=>{if(s.guards.canActivateChecks.length!==0)return T(s).pipe(Ae(a=>{let c=new Dd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),dt(a=>{let c=!1;return T(a).pipe($j(this.paramsInheritanceStrategy,this.environmentInjector),Ae({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",rt.NoDataFromResolver)}}))}),Ae(a=>{let c=new bd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Ev(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Ae(u=>{c.component=u}),F(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Sl(a(s.targetSnapshot.root)).pipe(ur(null),Nn(1))}),Ev(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?se(c).pipe(F(()=>r)):T(r)}),F(s=>{let a=rj(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=L(I({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ae(()=>{this.events.next(new Ma)}),aj(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nn(1),Ae({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Lp(this.transitionAbortSubject.pipe(Ae(s=>{throw s}))),Gr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(s=>{if(this.destroyed)return r.resolve(!1),Ke;if(o=!0,PS(s))this.events.next(new mn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),sj(s)?this.events.next(new Lo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Fo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Vo){let{message:l,cancellationCode:u}=kd(this.urlSerializer,c);this.events.next(new mn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Lo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Ke}))}))}cancelNavigationTransition(n,r,i){let o=new mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kj(t){return t!==_d}var GS=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>v(Qj),providedIn:"root"})}return t})(),Ld=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Qj=(()=>{class t extends Ld{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qS=(()=>{class t{urlSerializer=v(Fa);options=v(ja,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(To);urlHandlingStrategy=v(jd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof vn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=SS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:()=>v(Zj),providedIn:"root"})}return t})(),Zj=(()=>{class t extends qS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof vi?this.updateStateMemento():n instanceof Gn?this.commitTransition(r):n instanceof Aa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ma?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof mn&&(n.code===rt.GuardRejected||n.code===rt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Fo?this.restoreHistory(r,!0):n instanceof zn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uv(t,e){t.events.pipe(ut(n=>n instanceof zn||n instanceof mn||n instanceof Fo||n instanceof Gn),F(n=>n instanceof zn||n instanceof Gn?0:(n instanceof mn?n.code===rt.Redirect||n.code===rt.SupersededByNewNavigation:!1)?2:1),ut(n=>n!==2),Nn(1)).subscribe(()=>{e()})}var Jj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Um);stateManager=v(qS);options=v(ja,{optional:!0})||{};pendingTasks=v(hn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(zS);urlSerializer=v(Fa);location=v(To);urlHandlingStrategy=v(jd);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(GS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(Ba,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Vd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ye;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mn&&r.code!==rt.Redirect&&r.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zn)this.navigated=!0;else if(r instanceof Lo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Kj(i.source)},s);this.scheduleNavigation(a,_d,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}tB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_d,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=CS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return DS(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ko(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_d,null,r)}navigate(n,r={skipLocationChange:!1}){return eB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},Jj):r===!1?i=I({},Xj):i=r,ko(n))return iS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return iS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Uv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function tB(t){return!(t instanceof Ma)&&!(t instanceof Lo)}var iB=new w("");function jv(t,...e){return gr([{provide:Ba,multi:!0,useValue:t},[],{provide:Dr,useFactory:oB,deps:[Tr]},{provide:ui,multi:!0,useFactory:sB},e.map(n=>n.\u0275providers)])}function oB(t){return t.routerState.root}function sB(){let t=v(bt);return e=>{let n=t.get(Xe);if(e!==n.components[0])return;let r=t.get(Tr),i=t.get(aB);t.get(cB)===1&&r.initialNavigation(),t.get(lB,null,x.Optional)?.setUpPreloading(),t.get(iB,null,x.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var aB=new w("",{factory:()=>new be}),cB=new w("",{providedIn:"root",factory:()=>1});var lB=new w("");var rA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(V(aa),V(_o))};static \u0275dir=Ge({type:t})}return t})(),dB=(()=>{class t extends rA{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ta(t)))(i||t)}})();static \u0275dir=Ge({type:t,features:[yr]})}return t})(),iA=new w("");var fB={provide:iA,useExisting:go(()=>Go),multi:!0};function hB(){let t=Mt()?Mt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pB=new w(""),Go=(()=>{class t extends rA{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!hB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(V(aa),V(_o),V(pB,8))};static \u0275dir=Ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&_r("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[$u([fB]),yr]})}return t})();function Gv(t){return t==null||qv(t)===0}function qv(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var oA=new w(""),sA=new w(""),gB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qn=class{static min(e){return mB(e)}static max(e){return vB(e)}static required(e){return yB(e)}static requiredTrue(e){return _B(e)}static email(e){return EB(e)}static minLength(e){return IB(e)}static maxLength(e){return wB(e)}static pattern(e){return CB(e)}static nullValidator(e){return aA()}static compose(e){return hA(e)}static composeAsync(e){return gA(e)}};function mB(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function vB(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function yB(t){return Gv(t.value)?{required:!0}:null}function _B(t){return t.value===!0?null:{required:!0}}function EB(t){return Gv(t.value)||gB.test(t.value)?null:{email:!0}}function IB(t){return e=>{let n=e.value?.length??qv(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function wB(t){return e=>{let n=e.value?.length??qv(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function CB(t){if(!t)return aA;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Gv(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function aA(t){return null}function cA(t){return t!=null}function lA(t){return li(t)?se(t):t}function uA(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function dA(t,e){return e.map(n=>n(t))}function DB(t){return!t.validate}function fA(t){return t.map(e=>DB(e)?e:n=>e.validate(n))}function hA(t){if(!t)return null;let e=t.filter(cA);return e.length==0?null:function(n){return uA(dA(n,e))}}function pA(t){return t!=null?hA(fA(t)):null}function gA(t){if(!t)return null;let e=t.filter(cA);return e.length==0?null:function(n){let r=dA(n,e).map(lA);return Pp(r).pipe(F(uA))}}function mA(t){return t!=null?gA(fA(t)):null}function KS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vA(t){return t._rawValidators}function yA(t){return t._rawAsyncValidators}function Bv(t){return t?Array.isArray(t)?t:[t]:[]}function $d(t,e){return Array.isArray(t)?t.includes(e):t===e}function QS(t,e){let n=Bv(e);return Bv(t).forEach(i=>{$d(n,i)||n.push(i)}),n}function ZS(t,e){return Bv(e).filter(n=>!$d(t,n))}var Wd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Wo=class extends Wd{name;get formDirective(){return null}get path(){return null}},Ga=class extends Wd{_parent=null;name=null;valueAccessor=null},zd=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},OZ=L(I({},bB),{"[class.ng-submitted]":"isSubmitted"}),Qd=(()=>{class t extends zd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(V(Ga,2))};static \u0275dir=Ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[yr]})}return t})(),Zd=(()=>{class t extends zd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(V(Wo,10))};static \u0275dir=Ge({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[yr]})}return t})();var Ha="VALID",Bd="INVALID",Ho="PENDING",$a="DISABLED",Sr=class{},Gd=class extends Sr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Wa=class extends Sr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},za=class extends Sr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},$o=class extends Sr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Hv=class extends Sr{source;constructor(e){super(),this.source=e}},$v=class extends Sr{source;constructor(e){super(),this.source=e}};function Yv(t){return(Jd(t)?t.validators:t)||null}function TB(t){return Array.isArray(t)?pA(t):t||null}function Kv(t,e){return(Jd(e)?e.asyncValidators:t)||null}function SB(t){return Array.isArray(t)?mA(t):t||null}function Jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _A(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function EA(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var zo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(e){Un(()=>this.statusReactive.set(e))}_status=bo(()=>this.statusReactive());statusReactive=Eo(void 0);get valid(){return this.status===Ha}get invalid(){return this.status===Bd}get pending(){return this.status==Ho}get disabled(){return this.status===$a}get enabled(){return this.status!==$a}errors;get pristine(){return Un(this.pristineReactive)}set pristine(e){Un(()=>this.pristineReactive.set(e))}_pristine=bo(()=>this.pristineReactive());pristineReactive=Eo(!0);get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(e){Un(()=>this.touchedReactive.set(e))}_touched=bo(()=>this.touchedReactive());touchedReactive=Eo(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZS(e,this._rawAsyncValidators))}hasValidator(e){return $d(this._rawValidators,e)}hasAsyncValidator(e){return $d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(L(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new za(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new za(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(L(I({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Wa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Wa(!0,r))}markAsPending(e={}){this.status=Ho;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $o(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(L(I({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$a,this.errors=null,this._forEachChild(i=>{i.disable(L(I({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gd(this.value,r)),this._events.next(new $o(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ha,this._forEachChild(r=>{r.enable(L(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(L(I({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ha||this.status===Ho)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gd(this.value,n)),this._events.next(new $o(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(L(I({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$a:Ha}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ho,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new $o(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?$a:this.errors?Bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ho)?Ho:this._anyControlsHaveStatus(Bd)?Bd:Ha}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Wa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new za(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=TB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=SB(this._rawAsyncValidators)}},qd=class extends zo{constructor(e,n,r){super(Yv(n),Kv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){EA(this,!0,e),Object.keys(e).forEach(r=>{_A(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Wv=class extends qd{};var Qv=new w("",{providedIn:"root",factory:()=>Xd}),Xd="always";function AB(t,e){return[...e.path,t]}function JS(t,e,n=Xd){Zv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),RB(t,e),OB(t,e),NB(t,e),MB(t,e)}function XS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Yd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function MB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Zv(t,e){let n=vA(t);e.validator!==null?t.setValidators(KS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=yA(t);e.asyncValidator!==null?t.setAsyncValidators(KS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Yd(e._rawValidators,i),Yd(e._rawAsyncValidators,i)}function Kd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=vA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=yA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Yd(e._rawValidators,r),Yd(e._rawAsyncValidators,r),n}function RB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&IA(t,e)})}function NB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&IA(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function IA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function PB(t,e){t==null,Zv(t,e)}function xB(t,e){return Kd(t,e)}function kB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function FB(t){return Object.getPrototypeOf(t.constructor)===dB}function LB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function VB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Go?n=o:FB(o)?r=o:i=o}),i||r||n||null}function UB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Hd=class extends zo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Yv(n),Kv(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(tA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jB=t=>t instanceof Hd;var ef=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ge({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var wA=new w("");var BB={provide:Wo,useExisting:go(()=>qa)},qa=(()=>{class t extends Wo{callSetDisabledState;get submitted(){return Un(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=bo(()=>this._submittedReactive());_submittedReactive=Eo(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new pe;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return JS(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){XS(n.control||null,n,!1),UB(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),LB(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Hv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new $v(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(XS(r||null,n),jB(i)&&(JS(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);PB(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&xB(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zv(this.form,this),this._oldForm&&Kd(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(V(oA,10),V(sA,10),V(Qv,8))};static \u0275dir=Ge({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&_r("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$u([BB]),yr,vo]})}return t})();var HB={provide:Ga,useExisting:go(()=>Ya)},Ya=(()=>{class t extends Ga{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new pe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=VB(this,o)}ngOnChanges(n){this._added||this._setUpControl(),kB(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return AB(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(V(Wo,13),V(oA,10),V(sA,10),V(iA,10),V(wA,8))};static \u0275dir=Ge({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[$u([HB]),yr,vo]})}return t})();var CA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vn({type:t});static \u0275inj=Ln({})}return t})(),zv=class extends zo{constructor(e,n,r){super(Yv(n),Kv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){EA(this,!1,e),e.forEach((r,i)=>{_A(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function nA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var tf=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return nA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new qd(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Wv(i,r)}control(n,r,i){let o={};return this.useNonNullable?(nA(r)?o=r:(o.validators=r,o.asyncValidators=i),new Hd(n,L(I({},o),{nonNullable:!0}))):new Hd(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new zv(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Hd)return n;if(n instanceof zo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var DA=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Qv,useValue:n.callSetDisabledState??Xd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vn({type:t});static \u0275inj=Ln({imports:[CA]})}return t})(),nf=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:wA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Qv,useValue:n.callSetDisabledState??Xd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Vn({type:t});static \u0275inj=Ln({imports:[CA]})}return t})();var Dy={};vN(Dy,{FirebaseError:()=>Fe,SDK_VERSION:()=>Kt,_DEFAULT_ENTRY_NAME:()=>wn,_addComponent:()=>ts,_addOrOverwriteComponent:()=>Iy,_apps:()=>Rr,_clearComponents:()=>HH,_components:()=>es,_getProvider:()=>Ci,_isFirebaseApp:()=>XA,_isFirebaseServerApp:()=>re,_registerComponent:()=>Yt,_removeServiceInstance:()=>BH,_serverApps:()=>Xo,deleteApp:()=>vf,getApp:()=>tc,getApps:()=>zH,initializeApp:()=>mf,initializeServerApp:()=>WH,onLog:()=>wy,registerVersion:()=>Ye,setLogLevel:()=>Cy});var TA=()=>{};var Xv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(t,e){if(!t)throw _i(e)},_i=function(t){return new Error("Firebase Database ("+Xv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var AA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$B=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},of={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$B(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new ey;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ey=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ny=function(t){let e=AA(t);return of.encodeByteArray(e,!0)},Ka=function(t){return ny(t).replace(/\./g,"")},yi=function(t){try{return of.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MA(t){return Yo(void 0,t)}function Yo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!WB(n)||(t[n]=Yo(t[n],e[n]));return t}function WB(t){return t!=="__proto__"}function ry(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zB=()=>ry().__FIREBASE_DEFAULTS__,GB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&yi(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return TA()||zB()||GB()||qB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iy=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RA=t=>{let e=iy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oy=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},sy=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};var Ar=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function NA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(n)),Ka(JSON.stringify(s)),""].join(".")}function me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function ay(){var t;let e=(t=sf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof window<"u"||cy()}function cy(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function PA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function af(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ei(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cf(){let t=me();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yn(){return Xv.NODE_CLIENT===!0||Xv.NODE_ADMIN===!0}function Ko(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var YB="FirebaseError",Fe=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}},Nt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?KB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fe(i,a,r)}};function KB(t,e){return t.replace(QB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var QB=/\{\$([^}]+)}/g;function qo(t){return JSON.parse(t)}function Ne(t){return JSON.stringify(t)}var kA=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=qo(yi(o[0])||""),n=qo(yi(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var FA=function(t){let e=kA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},LA=function(t){let e=kA(t).claims;return typeof e=="object"&&e.admin===!0};function _t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ii(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Za(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _n(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(SA(o)&&SA(s)){if(!_n(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function SA(t){return t!==null&&typeof t=="object"}function Yn(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mr(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Qo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var rf=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function lf(t,e){let n=new ty(t,e);return n.subscribe.bind(n)}var ty=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jv(){}function uf(t,e){return`${t} failed: ${e} argument `}var VA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var LZ=4*60*60*1e3;function O(t){return t&&t._delegate?t._delegate:t}function Zo(t){return t.endsWith(".cloudworkstations.dev")}function df(t){return p(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}var Be=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wi="[DEFAULT]";var ff=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ar;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XB(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JB(t){return t===wi?void 0:t}function XB(t){return t.instantiationMode==="EAGER"}var Jo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ff(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ly=[],Z=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Z||{}),UA={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},eH=Z.INFO,tH={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},nH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},En=class{constructor(e){this.name=e,this._logLevel=eH,this._logHandler=nH,this._userLogHandler=null,ly.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}};function jA(t){ly.forEach(e=>{e.setLogLevel(t)})}function BA(t,e){for(let n of ly){let r=null;e&&e.level&&(r=UA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{let a=s.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:Z[o].toLowerCase(),message:a,args:s,type:i.name})}}}var rH=(t,e)=>e.some(n=>t instanceof n),HA,$A;function iH(){return HA||(HA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oH(){return $A||($A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WA=new WeakMap,dy=new WeakMap,zA=new WeakMap,uy=new WeakMap,hy=new WeakMap;function sH(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(In(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&WA.set(n,t)}).catch(()=>{}),hy.set(e,t),e}function aH(t){if(dy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dy.set(t,e)}var fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GA(t){fy=t(fy)}function cH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hf(this),e,...n);return zA.set(r,e.sort?e.sort():[e]),In(r)}:oH().includes(t)?function(...e){return t.apply(hf(this),e),In(WA.get(this))}:function(...e){return In(t.apply(hf(this),e))}}function lH(t){return typeof t=="function"?cH(t):(t instanceof IDBTransaction&&aH(t),rH(t,iH())?new Proxy(t,fy):t)}function In(t){if(t instanceof IDBRequest)return sH(t);if(uy.has(t))return uy.get(t);let e=lH(t);return e!==t&&(uy.set(t,e),hy.set(e,t)),e}var hf=t=>hy.get(t);function YA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=In(s);return r&&s.addEventListener("upgradeneeded",c=>{r(In(s.result),c.oldVersion,c.newVersion,In(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var uH=["get","getKey","getAll","getAllKeys","count"],dH=["put","add","delete","clear"],py=new Map;function qA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uH.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return py.set(e,o),o}GA(t=>L(I({},t),{get:(e,n,r)=>qA(e,n)||t.get(e,n,r),has:(e,n)=>!!qA(e,n)||t.has(e,n)}));var my=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fH(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fH(t){let e=t.getComponent();return e?.type==="VERSION"}var pf="@firebase/app",vy="0.12.1";var Kn=new En("@firebase/app"),hH="@firebase/app-compat",pH="@firebase/analytics-compat",gH="@firebase/analytics",mH="@firebase/app-check-compat",vH="@firebase/app-check",yH="@firebase/auth",_H="@firebase/auth-compat",EH="@firebase/database",IH="@firebase/data-connect",wH="@firebase/database-compat",CH="@firebase/functions",DH="@firebase/functions-compat",bH="@firebase/installations",TH="@firebase/installations-compat",SH="@firebase/messaging",AH="@firebase/messaging-compat",MH="@firebase/performance",RH="@firebase/performance-compat",NH="@firebase/remote-config",OH="@firebase/remote-config-compat",PH="@firebase/storage",xH="@firebase/storage-compat",kH="@firebase/firestore",FH="@firebase/vertexai",LH="@firebase/firestore-compat",VH="firebase",UH="11.7.1";var wn="[DEFAULT]",jH={[pf]:"fire-core",[hH]:"fire-core-compat",[gH]:"fire-analytics",[pH]:"fire-analytics-compat",[vH]:"fire-app-check",[mH]:"fire-app-check-compat",[yH]:"fire-auth",[_H]:"fire-auth-compat",[EH]:"fire-rtdb",[IH]:"fire-data-connect",[wH]:"fire-rtdb-compat",[CH]:"fire-fn",[DH]:"fire-fn-compat",[bH]:"fire-iid",[TH]:"fire-iid-compat",[SH]:"fire-fcm",[AH]:"fire-fcm-compat",[MH]:"fire-perf",[RH]:"fire-perf-compat",[NH]:"fire-rc",[OH]:"fire-rc-compat",[PH]:"fire-gcs",[xH]:"fire-gcs-compat",[kH]:"fire-fst",[LH]:"fire-fst-compat",[FH]:"fire-vertex","fire-js":"fire-js",[VH]:"fire-js-all"};var Rr=new Map,Xo=new Map,es=new Map;function ts(t,e){try{t.container.addComponent(e)}catch(n){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Iy(t,e){t.container.addOrOverwriteComponent(e)}function Yt(t){let e=t.name;if(es.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;es.set(e,t);for(let n of Rr.values())ts(n,t);for(let n of Xo.values())ts(n,t);return!0}function Ci(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function BH(t,e,n=wn){Ci(t,e).clearInstance(n)}function XA(t){return t.options!==void 0}function re(t){return t==null?!1:t.settings!==void 0}function HH(){es.clear()}var $H={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ot=new Nt("app","Firebase",$H);var gf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}};function KA(t,e){let n=yi(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}let i=JSON.parse(n).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}var yy=class extends gf{constructor(e,n,r,i){let o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{let a=e;super(a.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._serverConfig.authIdToken&&KA(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&KA(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ye(pf,vy,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){vf(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ot.create("server-app-deleted")}};var Kt=UH;function mf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ot.create("bad-app-name",{appName:String(i)});if(n||(n=oy()),!n)throw Ot.create("no-options");let o=Rr.get(i);if(o){if(_n(n,o.options)&&_n(r,o.config))return o;throw Ot.create("duplicate-app",{appName:i})}let s=new Jo(i);for(let c of es.values())s.addComponent(c);let a=new gf(n,r,s);return Rr.set(i,a),a}function WH(t,e){if(OA()&&!cy())throw Ot.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;XA(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=l=>[...l].reduce((u,d)=>Math.imul(31,u)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ot.create("finalization-registry-not-supported",{});let o=""+i(JSON.stringify(r)),s=Xo.get(o);if(s)return s.incRefCount(e.releaseOnDeref),s;let a=new Jo(o);for(let l of es.values())a.addComponent(l);let c=new yy(n,e,o,a);return Xo.set(o,c),c}function tc(t=wn){let e=Rr.get(t);if(!e&&t===wn&&oy())return mf();if(!e)throw Ot.create("no-app",{appName:t});return e}function zH(){return Array.from(Rr.values())}function vf(t){return p(this,null,function*(){let e=!1,n=t.name;Rr.has(n)?(e=!0,Rr.delete(n)):Xo.has(n)&&t.decRefCount()<=0&&(Xo.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function Ye(t,e,n){var r;let i=(r=jH[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}Yt(new Be(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function wy(t,e){if(t!==null&&typeof t!="function")throw Ot.create("invalid-log-argument");BA(t,e)}function Cy(t){jA(t)}var GH="firebase-heartbeat-database",qH=1,ec="firebase-heartbeat-store",gy=null;function e0(){return gy||(gy=YA(GH,qH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ot.create("idb-open",{originalErrorMessage:t.message})})),gy}function YH(t){return p(this,null,function*(){try{let n=(yield e0()).transaction(ec),r=yield n.objectStore(ec).get(t0(t));return yield n.done,r}catch(e){if(e instanceof Fe)Kn.warn(e.message);else{let n=Ot.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(n.message)}}})}function QA(t,e){return p(this,null,function*(){try{let r=(yield e0()).transaction(ec,"readwrite");yield r.objectStore(ec).put(e,t0(t)),yield r.done}catch(n){if(n instanceof Fe)Kn.warn(n.message);else{let r=Ot.create("idb-set",{originalErrorMessage:n?.message});Kn.warn(r.message)}}})}function t0(t){return`${t.name}!${t.options.appId}`}var KH=1024,QH=30,_y=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ey(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>QH){let s=JH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kn.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ZA(),{heartbeatsToSend:r,unsentEntries:i}=ZH(this._heartbeatsCache.heartbeats),o=Ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Kn.warn(n),""}})}};function ZA(){return new Date().toISOString().substring(0,10)}function ZH(t,e=KH){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),JA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ey=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Ko()?xA().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield YH(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function JA(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}function JH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function XH(t){Yt(new Be("platform-logger",e=>new my(e),"PRIVATE")),Yt(new Be("heartbeat",e=>new _y(e),"PRIVATE")),Ye(pf,vy,t),Ye(pf,vy,"esm2017"),Ye("fire-js","")}XH("");var kr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var er={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function e2(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function E0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var kf=e2,n_=E0,I0=new Nt("auth","Firebase",E0());var If=new En("@firebase/auth");function t2(t,...e){If.logLevel<=Z.WARN&&If.warn(`Auth (${Kt}): ${t}`,...e)}function _f(t,...e){If.logLevel<=Z.ERROR&&If.error(`Auth (${Kt}): ${t}`,...e)}function ve(t,...e){throw i_(t,...e)}function we(t,...e){return i_(t,...e)}function r_(t,e,n){let r=Object.assign(Object.assign({},n_()),{[e]:n});return new Nt("auth","Firebase",r).create(e,{appName:t.name})}function Le(t){return r_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ss(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ve(t,"argument-error"),r_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return I0.create(t,...e)}function y(t,e,...n){if(!t)throw i_(e,...n)}function Cn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw _f(e),new Error(e)}function Pt(t,e){t||Cn(e)}function lc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o_(){return n0()==="http:"||n0()==="https:"}function n0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function n2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o_()||af()||"connection"in navigator)?navigator.onLine:!0}function r2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pt(n>e,"Short delay should be less than long delay!"),this.isMobile=Qa()||Ei()}get(){return n2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function s_(t,e){Pt(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var uc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var i2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var o2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s2=new Di(3e4,6e4);function de(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function fe(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return w0(t,i,()=>p(null,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Yn(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return PA()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Zo(t.emulatorConfig.host)&&(h.credentials="include"),uc.fetch()(yield C0(t,t.config.apiHost,n,d),h)}))})}function w0(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},i2),e);try{let i=new Ry(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw rc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw rc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw rc(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw r_(t,u,l);ve(t,u)}}catch(i){if(i instanceof Fe)throw i;ve(t,"network-request-failed",{message:String(i)})}})}function tr(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield fe(t,e,n,r,i);return"mfaPendingCredential"in l&&ve(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function C0(t,e,n,r){return p(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?s_(t.config,i):`${t.config.apiScheme}://${i}`;return o2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function a2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ry=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(we(this.auth,"network-request-failed")),s2.get())})}};function rc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=we(t,e,r);return i.customData._tokenResponse=n,i}function r0(t){return t!==void 0&&t.getResponse!==void 0}function i0(t){return t!==void 0&&t.enterprise!==void 0}var wf=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function c2(t){return p(this,null,function*(){return(yield fe(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function D0(t,e){return p(this,null,function*(){return fe(t,"GET","/v2/recaptchaConfig",de(t,e))})}function l2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:delete",e)})}function u2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:update",e)})}function Cf(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:lookup",e)})}function ic(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function a_(t,e=!1){return p(this,null,function*(){let n=O(t),r=yield n.getIdToken(e),i=Ff(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ic(by(i.auth_time)),issuedAtTime:ic(by(i.iat)),expirationTime:ic(by(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function by(t){return Number(t)*1e3}function Ff(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{let i=yi(n);return i?JSON.parse(i):(_f("Failed to decode base64 JWT payload"),null)}catch(i){return _f("Caught error parsing JWT payload as JSON",i?.toString()),null}}function o0(t){let e=Ff(t);return y(e,"internal-error"),y(typeof e.exp<"u","internal-error"),y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jn(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Fe&&d2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function d2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ny=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fc(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Jn(t,Cf(n,{idToken:r}));y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?b0(o.providerUserInfo):[],a=f2(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new dc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function c_(t){return p(this,null,function*(){let e=O(t);yield fc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function f2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function b0(t){return t.map(e=>{var{providerId:n}=e,r=dl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function h2(t,e){return p(this,null,function*(){let n=yield w0(t,{},()=>p(null,null,function*(){let r=Yn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield C0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",uc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function p2(t,e){return p(this,null,function*(){return fe(t,"POST","/v2/accounts:revokeToken",de(t,e))})}var oc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(typeof e.idToken<"u","internal-error"),y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){y(e.length!==0,"internal-error");let n=o0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield h2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cn("not implemented")}};function Nr(t,e){y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Qn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=dl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ny(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Jn(this,this.stsTokenManager.getToken(this.auth,e));return y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return a_(this,e)}reload(){return c_(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield fc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(re(this.auth.app))return Promise.reject(Le(this.auth));let e=yield this.getIdToken();return yield Jn(this,l2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Ce=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:H,emailVerified:It,isAnonymous:nn,providerData:An,stsTokenManager:Rs}=n;y(H&&Rs,e,"internal-error");let dN=oc.fromJSON(this.name,Rs);y(typeof H=="string",e,"internal-error"),Nr(d,e.name),Nr(f,e.name),y(typeof It=="boolean",e,"internal-error"),y(typeof nn=="boolean",e,"internal-error"),Nr(h,e.name),Nr(g,e.name),Nr(m,e.name),Nr(E,e.name),Nr(A,e.name),Nr(Ce,e.name);let ip=new t({uid:H,auth:e,email:f,emailVerified:It,displayName:d,isAnonymous:nn,photoURL:g,phoneNumber:h,tenantId:m,stsTokenManager:dN,createdAt:A,lastLoginAt:Ce});return An&&Array.isArray(An)&&(ip.providerData=An.map(fN=>Object.assign({},fN))),E&&(ip._redirectEventId=E),ip}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new oc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?b0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new oc;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new dc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var s0=new Map;function He(t){Pt(t instanceof Function,"Expected a class definition");let e=s0.get(t);return e?(Pt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s0.set(t,e),e)}var g2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Xn=g2;function Dn(t,e,n){return`firebase:${t}:${e}:${n}`}var Df=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Dn(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dn("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Cf(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(He(Xn),e,r);let i=(yield Promise.all(n.map(l=>p(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||He(Xn),s=Dn(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield Cf(e,{idToken:u}).catch(()=>{});if(!f)break;d=yield Qn._fromGetAccountInfoResponse(e,f,u)}else d=Qn._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function a0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(N0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(as(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function T0(t=me()){return/firefox\//i.test(t)}function S0(t=me()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(t=me()){return/crios\//i.test(t)}function M0(t=me()){return/iemobile/i.test(t)}function as(t=me()){return/android/i.test(t)}function R0(t=me()){return/blackberry/i.test(t)}function N0(t=me()){return/webos/i.test(t)}function cs(t=me()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O0(t=me()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function m2(t=me()){var e;return cs(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v2(){return cf()&&document.documentMode===10}function P0(t=me()){return cs(t)||as(t)||N0(t)||R0(t)||/windows phone/i.test(t)||M0(t)}function l_(t,e=[]){let n;switch(t){case"Browser":n=a0(me());break;case"Worker":n=`${a0(me())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kt}/${r}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function y2(n){return p(this,arguments,function*(t,e={}){return fe(t,"GET","/v2/passwordPolicy",de(t,e))})}var _2=6,Py=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:_2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tf(this),this.idTokenSubscription=new Tf(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=He(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Df.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield Cf(this,{idToken:e}),r=yield Qn._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(re(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield fc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=r2()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(re(this.app))return Promise.reject(Le(this));let n=e?O(e):null;return n&&y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return re(this.app)?Promise.reject(Le(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return re(this.app)?Promise.reject(Le(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(He(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield y2(this),n=new Py(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield p2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&He(e)||this._popupRedirectResolver;y(n,this,"argument-error"),this.redirectPersistenceManager=yield Df.create(this,[He(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;if(re(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&t2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ie(t){return O(t)}var Tf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lf(n=>this.observer=n)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vc={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E2(t){vc=t}function u_(t){return vc.loadJS(t)}function I2(){return vc.recaptchaV2Script}function w2(){return vc.recaptchaEnterpriseScript}function C2(){return vc.gapiScript}function x0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var D2=500,b2=6e4,yf=1e12,xy=class{constructor(e){this.auth=e,this.counter=yf,this._widgets=new Map}render(e,n){let r=this.counter;return this._widgets.set(r,new Ly(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;let r=e||yf;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;let r=e||yf;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return p(this,null,function*(){var n;let r=e||yf;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""})}},ky=class{constructor(){this.enterprise=new Fy}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Fy=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Ly=class{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;y(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=T2(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},b2)},D2))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function T2(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var S2="recaptcha-enterprise",sc="NO_RECAPTCHA",Sf=class{constructor(e){this.type=S2,this.auth=ie(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(null,null,function*(){D0(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new wf(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;i0(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(sc)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ky().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&i0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=w2();c.length!==0&&(c+=a),u_(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function nc(t,e,n,r=!1,i=!1){return p(this,null,function*(){let o=new Sf(t),s;if(i)s=sc;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Or(t,e,n,r,i){return p(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield nc(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>p(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield nc(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield nc(t,e,n);return r(t,a).catch(c=>p(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield nc(t,e,n,!1,!0);return r(t,u)}return Promise.reject(c)}))}else{let a=yield nc(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function A2(t){return p(this,null,function*(){let e=ie(t),n=yield D0(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new wf(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Sf(e).verify()})}function d_(t,e){let n=Ci(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(_n(o,e??{}))return i;ve(i,"already-initialized")}return n.initialize({options:e})}function M2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(He);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yc(t,e,n){let r=ie(t);y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=k0(e),{host:s,port:a}=R2(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),y(_n(l,r.config.emulator)&&_n(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||N2(),Zo(s)&&df(`${o}//${s}${c}`)}function k0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R2(t){let e=k0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:c0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:c0(s)}}}function c0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function N2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Qt=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,n){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}};function F0(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:resetPassword",de(t,e))})}function O2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:update",e)})}function P2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:signUp",e)})}function x2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:update",de(t,e))})}function k2(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signInWithPassword",de(t,e))})}function Lf(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:sendOobCode",de(t,e))})}function F2(t,e){return p(this,null,function*(){return Lf(t,e)})}function L2(t,e){return p(this,null,function*(){return Lf(t,e)})}function V2(t,e){return p(this,null,function*(){return Lf(t,e)})}function U2(t,e){return p(this,null,function*(){return Lf(t,e)})}function j2(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signInWithEmailLink",de(t,e))})}function B2(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signInWithEmailLink",de(t,e))})}var ns=class t extends Qt{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Or(e,n,"signInWithPassword",k2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return j2(e,{email:this._email,oobCode:this._password});default:ve(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Or(e,r,"signUpPassword",P2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return B2(e,{idToken:n,email:this._email,oobCode:this._password});default:ve(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Zn(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signInWithIdp",de(t,e))})}var H2="http://localhost",xt=class t extends Qt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ve("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=dl(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Zn(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Zn(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Zn(e,n)}buildRequest(){let e={requestUri:H2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yn(n)}return e}};function l0(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:sendVerificationCode",de(t,e))})}function $2(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signInWithPhoneNumber",de(t,e))})}function W2(t,e){return p(this,null,function*(){let n=yield tr(t,"POST","/v1/accounts:signInWithPhoneNumber",de(t,e));if(n.temporaryProof)throw rc(t,"account-exists-with-different-credential",n);return n})}var z2={USER_NOT_FOUND:"user-not-found"};function G2(t,e){return p(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return tr(t,"POST","/v1/accounts:signInWithPhoneNumber",de(t,n),z2)})}var bi=class t extends Qt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return $2(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return W2(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return G2(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new t({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function q2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y2(t){let e=Mr(Qo(t)).link,n=e?Mr(Qo(e)).deep_link_id:null,r=Mr(Qo(t)).deep_link_id;return(r?Mr(Qo(r)).link:null)||r||n||e||t}var rs=class t{constructor(e){var n,r,i,o,s,a;let c=Mr(Qo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=q2((i=c.mode)!==null&&i!==void 0?i:null);y(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Y2(e);try{return new t(n)}catch{return null}}};var ls=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ns._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=rs.parseLink(r);return y(i,"argument-error"),ns._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Zt=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xr=class extends Zt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Ti=class t extends xr{static credentialFromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;return y("providerId"in n&&"signInMethod"in n,"argument-error"),xt._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),xt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return t.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return t.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=e;if(!r&&!i&&!n&&!o||!a)return null;try{return new t(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}};var _c=(()=>{class t extends xr{constructor(){super("facebook.com")}static credential(n){return xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com";return t})(),Ec=(()=>{class t extends xr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})(),Ic=(()=>{class t extends xr{constructor(){super("github.com")}static credential(n){return xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n||!("oauthAccessToken"in n)||!n.oauthAccessToken)return null;try{return t.credential(n.oauthAccessToken)}catch{return null}}}t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com";return t})(),K2="http://localhost",Si=class t extends Qt{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){let n=this.buildRequest();return Zn(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Zn(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Zn(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new t(r,o)}static _create(e,n){return new t(e,n)}buildRequest(){return{requestUri:K2,returnSecureToken:!0,pendingToken:this.pendingToken}}};var Q2="saml.",is=class t extends Zt{constructor(e){y(e.startsWith(Q2),"argument-error"),super(e)}static credentialFromResult(e){return t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let n=Si.fromJSON(e);return y(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Si._create(r,n)}catch{return null}}};var wc=(()=>{class t extends xr{constructor(){super("twitter.com")}static credential(n,r){return xt._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthAccessToken:r,oauthTokenSecret:i}=n;if(!r||!i)return null;try{return t.credential(r,i)}catch{return null}}}t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com";return t})();function L0(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signUp",de(t,e))})}var Jt=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield Qn._fromIdTokenResponse(e,r,i),s=u0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=u0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function u0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Vf(t){return p(this,null,function*(){var e;if(re(t.app))return Promise.reject(Le(t));let n=ie(t);if(yield n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jt({user:n.currentUser,providerId:null,operationType:"signIn"});let r=yield L0(n,{returnSecureToken:!0}),i=yield Jt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})}var Vy=class t extends Fe{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function V0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vy._fromErrorAndOperation(t,o,e,r):o})}function U0(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}function Uf(t,e){return p(this,null,function*(){let n=O(t);yield jf(!0,n,e);let{providerUserInfo:r}=yield u2(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),i=U0(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function f_(t,e,n=!1){return p(this,null,function*(){let r=yield Jn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jt._forOperation(t,"link",r)})}function jf(t,e,n){return p(this,null,function*(){yield fc(e);let r=U0(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";y(r.has(n)===t,e.auth,i)})}function j0(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(re(r.app))return Promise.reject(Le(r));let i="reauthenticate";try{let o=yield Jn(t,V0(r,i,e,t),n);y(o.idToken,r,"internal-error");let s=Ff(o.idToken);y(s,r,"internal-error");let{sub:a}=s;return y(t.uid===a,r,"user-mismatch"),Jt._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ve(r,"user-mismatch"),o}})}function B0(t,e,n=!1){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let r="signIn",i=yield V0(t,r,e),o=yield Jt._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ri(t,e){return p(this,null,function*(){return B0(ie(t),e)})}function Cc(t,e){return p(this,null,function*(){let n=O(t);return yield jf(!1,n,e.providerId),f_(n,e)})}function Dc(t,e){return p(this,null,function*(){return j0(O(t),e)})}function Z2(t,e){return p(this,null,function*(){return tr(t,"POST","/v1/accounts:signInWithCustomToken",de(t,e))})}function Bf(t,e){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let n=ie(t),r=yield Z2(n,{token:e,returnSecureToken:!0}),i=yield Jt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})}var Ai=class{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Uy._fromServerResponse(e,n):"totpInfo"in n?jy._fromServerResponse(e,n):ve(e,"internal-error")}},Uy=class t extends Ai{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new t(n)}},jy=class t extends Ai{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t(n)}};function Hf(t,e,n){var r;y(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),y(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),y(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function h_(t){return p(this,null,function*(){let e=ie(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $f(t,e,n){return p(this,null,function*(){let r=ie(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Hf(r,i,n),yield Or(r,i,"getOobCode",L2,"EMAIL_PASSWORD_PROVIDER")})}function Wf(t,e,n){return p(this,null,function*(){yield F0(O(t),{oobCode:e,newPassword:n}).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&h_(t),r}))})}function zf(t,e){return p(this,null,function*(){yield x2(O(t),{oobCode:e})})}function bc(t,e){return p(this,null,function*(){let n=O(t),r=yield F0(n,{oobCode:e}),i=r.requestType;switch(y(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":y(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":y(r.mfaInfo,n,"internal-error");default:y(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ai._fromServerResponse(ie(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})}function Gf(t,e){return p(this,null,function*(){let{data:n}=yield bc(O(t),e);return n.email})}function us(t,e,n){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let r=ie(t),s=yield Or(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L0,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&h_(t),c}),a=yield Jt._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function ds(t,e,n){return re(t.app)?Promise.reject(Le(t)):Ri(O(t),ls.credential(e,n)).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&h_(t),r}))}function qf(t,e,n){return p(this,null,function*(){let r=ie(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,a){y(a.handleCodeInApp,r,"argument-error"),a&&Hf(r,s,a)}o(i,n),yield Or(r,i,"getOobCode",V2,"EMAIL_PASSWORD_PROVIDER")})}function Yf(t,e){let n=rs.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}function Kf(t,e,n){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let r=O(t),i=ls.credentialWithLink(e,n||lc());return y(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ri(r,i)})}function J2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:createAuthUri",de(t,e))})}function Qf(t,e){return p(this,null,function*(){let n=o_()?lc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield J2(O(t),r);return i||[]})}function Zf(t,e){return p(this,null,function*(){let n=O(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Hf(n.auth,i,e);let{email:o}=yield F2(n.auth,i);o!==t.email&&(yield t.reload())})}function Jf(t,e,n){return p(this,null,function*(){let r=O(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Hf(r.auth,o,n);let{email:s}=yield U2(r.auth,o);s!==t.email&&(yield t.reload())})}function X2(t,e){return p(this,null,function*(){return fe(t,"POST","/v1/accounts:update",e)})}function Xf(r,i){return p(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=O(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=yield Jn(o,X2(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let l=o.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function eh(t,e){let n=O(t);return re(n.auth.app)?Promise.reject(Le(n.auth)):H0(n,e,null)}function th(t,e){return H0(O(t),null,e)}function H0(t,e,n){return p(this,null,function*(){let{auth:r}=t,o={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let s=yield Jn(t,O2(r,o));yield t._updateTokensIfNecessary(s,!0)})}function e$(t){var e,n;if(!t)return null;let{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&t?.idToken){let s=(n=(e=Ff(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){let a=s!=="anonymous"&&s!=="custom"?s:null;return new Pr(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new By(o,i);case"github.com":return new Hy(o,i);case"google.com":return new $y(o,i);case"twitter.com":return new Wy(o,i,t.screenName||null);case"custom":case"anonymous":return new Pr(o,null);default:return new Pr(o,r,i)}}var Pr=class{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}},Af=class extends Pr{constructor(e,n,r,i){super(e,n,r),this.username=i}},By=class extends Pr{constructor(e,n){super(e,"facebook.com",n)}},Hy=class extends Af{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}},$y=class extends Pr{constructor(e,n){super(e,"google.com",n)}},Wy=class extends Af{constructor(e,n,r){super(e,"twitter.com",n,r)}};function nh(t){let{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:e$(n)}function p_(t,e,n,r){return O(t).onIdTokenChanged(e,n,r)}function g_(t,e,n){return O(t).beforeAuthStateChanged(e,n)}function rh(t,e,n,r){return O(t).onAuthStateChanged(e,n,r)}var Mf=class t{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new t("enroll",e,n)}static _fromMfaPendingCredential(e){return new t("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return t._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return t._fromIdtoken(e.multiFactorSession.idToken)}return null}};var zy=class t{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){let r=ie(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(a=>Ai._fromServerResponse(r,a));y(i.mfaPendingCredential,r,"internal-error");let s=Mf._fromMfaPendingCredential(i.mfaPendingCredential);return new t(s,o,a=>p(null,null,function*(){let c=yield a._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;let l=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(n.operationType){case"signIn":let u=yield Jt._fromIdTokenResponse(r,n.operationType,l);return yield r._updateCurrentUser(u.user),u;case"reauthenticate":return y(n.user,r,"internal-error"),Jt._forOperation(n.user,n.operationType,l);default:ve(r,"internal-error")}}))}resolveSignIn(e){return p(this,null,function*(){let n=e;return this.signInResolver(n)})}};function ih(t,e){var n;let r=O(t),i=e;return y(e.customData.operationType,r,"argument-error"),y((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),zy._fromError(r,i)}function d0(t,e){return fe(t,"POST","/v2/accounts/mfaEnrollment:start",de(t,e))}function t$(t,e){return fe(t,"POST","/v2/accounts/mfaEnrollment:finalize",de(t,e))}function n$(t,e){return fe(t,"POST","/v2/accounts/mfaEnrollment:withdraw",de(t,e))}var Gy=class t{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ai._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new t(e)}getSession(){return p(this,null,function*(){return Mf._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return p(this,null,function*(){let r=e,i=yield this.getSession(),o=yield Jn(this.user,r._process(this.user.auth,i,n));return yield this.user._updateTokensIfNecessary(o),this.user.reload()})}unenroll(e){return p(this,null,function*(){let n=typeof e=="string"?e:e.uid,r=yield this.user.getIdToken();try{let i=yield Jn(this.user,n$(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),yield this.user._updateTokensIfNecessary(i),yield this.user.reload()}catch(i){throw i}})}},Ty=new WeakMap;function oh(t){let e=O(t);return Ty.has(e)||Ty.set(e,Gy._fromUser(e)),Ty.get(e)}var Rf="__sak";var Nf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var r$=1e3,i$=10,o$=(()=>{class t extends Nf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);v2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,i$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},r$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Hr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Hr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Hr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Fr=o$;var s$=(()=>{class t extends Nf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),kt=s$;function a$(t){return Promise.all(t.map(e=>p(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var c$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield a$(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ni(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var qy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Ni("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ie(){return window}function l$(t){Ie().location.href=t}function m_(){return typeof Ie().WorkerGlobalScope<"u"&&typeof Ie().importScripts=="function"}function u$(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function d$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f$(){return m_()?self:null}var $0="firebaseLocalStorageDb",h$=1,Of="firebaseLocalStorage",W0="fbase_key",Mi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function sh(t,e){return t.transaction([Of],e?"readwrite":"readonly").objectStore(Of)}function p$(){let t=indexedDB.deleteDatabase($0);return new Mi(t).toPromise()}function Yy(){let t=indexedDB.open($0,h$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Of,{keyPath:W0})}catch(i){n(i)}}),t.addEventListener("success",()=>p(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Of)?e(r):(r.close(),yield p$(),e(yield Yy()))}))})}function f0(t,e,n){return p(this,null,function*(){let r=sh(t,!0).put({[W0]:e,value:n});return new Mi(r).toPromise()})}function g$(t,e){return p(this,null,function*(){let n=sh(t,!1).get(e),r=yield new Mi(n).toPromise();return r===void 0?null:r.value})}function h0(t,e){let n=sh(t,!0).delete(e);return new Mi(n).toPromise()}var m$=800,v$=3,y$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Yy(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>v$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return m_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=c$._getInstance(f$()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield u$(),!this.activeServiceWorker)return;this.sender=new qy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||d$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Yy();return yield f0(n,Rf,"1"),yield h0(n,Rf),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>f0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>g$(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>h0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=sh(o,!1).getAll();return new Mi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),m$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),nr=y$;function p0(t,e){return fe(t,"POST","/v2/accounts/mfaSignIn:start",de(t,e))}function _$(t,e){return fe(t,"POST","/v2/accounts/mfaSignIn:finalize",de(t,e))}var Sy=x0("rcb"),E$=new Di(3e4,6e4),Ky=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Ie().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return y(I$(n),e,"argument-error"),this.shouldResolveImmediately(n)&&r0(Ie().grecaptcha)?Promise.resolve(Ie().grecaptcha):new Promise((r,i)=>{let o=Ie().setTimeout(()=>{i(we(e,"network-request-failed"))},E$.get());Ie()[Sy]=()=>{Ie().clearTimeout(o),delete Ie()[Sy];let a=Ie().grecaptcha;if(!a||!r0(a)){i(we(e,"internal-error"));return}let c=a.render;a.render=(l,u)=>{let d=c(l,u);return this.counter++,d},this.hostLanguage=n,r(a)};let s=`${I2()}?${Yn({onload:Sy,render:"explicit",hl:n})}`;u_(s).catch(()=>{clearTimeout(o),i(we(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Ie().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function I$(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var Qy=class{load(e){return p(this,null,function*(){return new xy(e)})}clearedOneInstance(){}};var ac="recaptcha",w$={theme:"light",type:"image"},os=class{constructor(e,n,r=Object.assign({},w$)){this.parameters=r,this.type=ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ie(e),this.isInvisible=this.parameters.size==="invisible",y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof n=="string"?document.getElementById(n):n;y(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qy:new Ky,this.validateStartingState()}verify(){return p(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){let r=Ie()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return p(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return p(this,null,function*(){y(o_()&&!m_(),this.auth,"internal-error"),yield C$(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield c2(this.auth);y(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function C$(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var hc=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=bi._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function ah(t,e,n){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let r=ie(t),i=yield uh(r,e,O(n));return new hc(i,o=>Ri(r,o))})}function ch(t,e,n){return p(this,null,function*(){let r=O(t);yield jf(!1,r,"phone");let i=yield uh(r.auth,e,O(n));return new hc(i,o=>Cc(r,o))})}function lh(t,e,n){return p(this,null,function*(){let r=O(t);if(re(r.auth.app))return Promise.reject(Le(r.auth));let i=yield uh(r.auth,e,O(n));return new hc(i,o=>Dc(r,o))})}function uh(t,e,n){return p(this,null,function*(){var r;if(!t._getRecaptchaConfig())try{yield A2(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){y(o.type==="enroll",t,"internal-error");let s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Or(t,s,"mfaSmsEnrollment",(u,d)=>p(null,null,function*(){if(d.phoneEnrollmentInfo.captchaResponse===sc){y(n?.type===ac,u,"argument-error");let f=yield Ay(u,d,n);return d0(u,f)}return d0(u,d)}),"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{y(o.type==="signin",t,"internal-error");let s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;y(s,t,"missing-multi-factor-info");let a={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Or(t,a,"mfaSmsSignIn",(d,f)=>p(null,null,function*(){if(f.phoneSignInInfo.captchaResponse===sc){y(n?.type===ac,d,"argument-error");let h=yield Ay(d,f,n);return p0(d,h)}return p0(d,f)}),"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Or(t,o,"sendVerificationCode",(l,u)=>p(null,null,function*(){if(u.captchaResponse===sc){y(n?.type===ac,l,"argument-error");let d=yield Ay(l,u,n);return l0(l,d)}return l0(l,u)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{n?._reset()}})}function dh(t,e){return p(this,null,function*(){let n=O(t);if(re(n.auth.app))return Promise.reject(Le(n.auth));yield f_(n,e)})}function Ay(t,e,n){return p(this,null,function*(){y(n.type===ac,t,"argument-error");let r=yield n.verify();y(typeof r=="string",t,"argument-error");let i=Object.assign({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}var Lr=(()=>{class t{constructor(n){this.providerId=t.PROVIDER_ID,this.auth=ie(n)}verifyPhoneNumber(n,r){return uh(this.auth,n,O(r))}static credential(n,r){return bi._fromVerification(n,r)}static credentialFromResult(n){let r=n;return t.credentialFromTaggedObject(r)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{phoneNumber:r,temporaryProof:i}=n;return r&&i?bi._fromTokenResponse(r,i):null}}t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone";return t})();function Oi(t,e){return e?He(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var pc=class extends Qt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zn(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function D$(t){return B0(t.auth,new pc(t),t.bypassAuthState)}function b$(t){let{auth:e,user:n}=t;return y(n,e,"internal-error"),j0(n,new pc(t),t.bypassAuthState)}function T$(t){return p(this,null,function*(){let{auth:e,user:n}=t;return y(n,e,"internal-error"),f_(n,new pc(t),t.bypassAuthState)})}var Pf=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D$;case"linkViaPopup":case"linkViaRedirect":return T$;case"reauthViaPopup":case"reauthViaRedirect":return b$;default:ve(this.auth,"internal-error")}}resolve(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var S$=new Di(2e3,1e4);function fh(t,e,n){return p(this,null,function*(){if(re(t.app))return Promise.reject(we(t,"operation-not-supported-in-this-environment"));let r=ie(t);ss(t,e,Zt);let i=Oi(r,n);return new v_(r,"signInViaPopup",e,i).executeNotNull()})}function hh(t,e,n){return p(this,null,function*(){let r=O(t);if(re(r.auth.app))return Promise.reject(we(r.auth,"operation-not-supported-in-this-environment"));ss(r.auth,e,Zt);let i=Oi(r.auth,n);return new v_(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})}function ph(t,e,n){return p(this,null,function*(){let r=O(t);ss(r.auth,e,Zt);let i=Oi(r.auth,n);return new v_(r.auth,"linkViaPopup",e,i,r).executeNotNull()})}var v_=(()=>{class t extends Pf{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return p(this,null,function*(){let n=yield this.execute();return y(n,this.auth,"internal-error"),n})}onExecution(){return p(this,null,function*(){Pt(this.filter.length===1,"Popup operations only handle one event");let n=Ni();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(we(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,S$.get())};n()}}t.currentPopupAction=null;return t})(),A$="pendingRedirect",cc=new Map,Zy=class t extends Pf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=cc.get(this.auth._key());if(!e){try{let r=(yield M$(this.resolver,this.auth))?yield Hr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return Hr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Hr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function M$(t,e){return p(this,null,function*(){let n=q0(e),r=G0(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function y_(t,e){return p(this,null,function*(){return G0(t)._set(q0(e),"true")})}function z0(){cc.clear()}function fs(t,e){cc.set(t._key(),e)}function G0(t){return He(t._redirectPersistence)}function q0(t){return Dn(A$,t.config.apiKey,t.name)}function gh(t,e,n){return R$(t,e,n)}function R$(t,e,n){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let r=ie(t);ss(t,e,Zt),yield r._initializationPromise;let i=Oi(r,n);return yield y_(i,r),i._openRedirect(r,e,"signInViaRedirect")})}function mh(t,e,n){return N$(t,e,n)}function N$(t,e,n){return p(this,null,function*(){let r=O(t);if(ss(r.auth,e,Zt),re(r.auth.app))return Promise.reject(Le(r.auth));yield r.auth._initializationPromise;let i=Oi(r.auth,n);yield y_(i,r.auth);let o=yield Y0(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)})}function vh(t,e,n){return O$(t,e,n)}function O$(t,e,n){return p(this,null,function*(){let r=O(t);ss(r.auth,e,Zt),yield r.auth._initializationPromise;let i=Oi(r.auth,n);yield jf(!1,r,e.providerId),yield y_(i,r.auth);let o=yield Y0(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)})}function yh(t,e){return p(this,null,function*(){return yield ie(t)._initializationPromise,Pi(t,e,!1)})}function Pi(t,e,n=!1){return p(this,null,function*(){if(re(t.app))return Promise.reject(Le(t));let r=ie(t),i=Oi(r,e),s=yield new Zy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}function Y0(t){return p(this,null,function*(){let e=Ni(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}var P$=10*60*1e3,gc=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!K0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(we(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P$&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}};function g0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function x$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(t);default:return!1}}function __(n){return p(this,arguments,function*(t,e={}){return fe(t,"GET","/v1/projects",e)})}var k$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F$=/^https?/;function L$(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield __(t);for(let n of e)try{if(V$(n))return}catch{}ve(t,"unauthorized-domain")})}function V$(t){let e=lc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!F$.test(n))return!1;if(k$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var U$=new Di(3e4,6e4);function m0(){let t=Ie().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j$(t){return new Promise((e,n)=>{var r,i,o;function s(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(we(t,"network-request-failed"))},timeout:U$.get()})}if(!((i=(r=Ie().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ie().gapi)===null||o===void 0)&&o.load)s();else{let a=x0("iframefcb");return Ie()[a]=()=>{gapi.load?s():n(we(t,"network-request-failed"))},u_(`${C2()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ef=null,e})}var Ef=null;function B$(t){return Ef=Ef||j$(t),Ef}var H$=new Di(5e3,15e3),$$="__/auth/iframe",W$="emulator/auth/iframe",z$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q$(t){let e=t.config;y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?s_(e,W$):`https://${t.config.authDomain}/${$$}`,r={apiKey:e.apiKey,appName:t.name,v:Kt},i=G$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yn(r).slice(1)}`}function Y$(t){return p(this,null,function*(){let e=yield B$(t),n=Ie().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:q$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z$,dontclear:!0},r=>new Promise((i,o)=>p(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=we(t,"network-request-failed"),a=Ie().setTimeout(()=>{o(s)},H$.get());function c(){Ie().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var K$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q$=500,Z$=600,J$="_blank",X$="http://localhost",mc=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function eW(t,e,n,r=Q$,i=Z$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},K$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=me().toLowerCase();n&&(a=A0(l)?J$:n),T0(l)&&(e=e||X$,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(m2(l)&&a!=="_self")return tW(e||"",a),new mc(null);let d=window.open(e||"",a,u);y(d,t,"popup-blocked");try{d.focus()}catch{}return new mc(d)}function tW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nW="__/auth/handler",rW="emulator/auth/handler",iW=encodeURIComponent("fac");function xf(t,e,n,r,i,o){return p(this,null,function*(){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kt,eventId:i};if(e instanceof Zt){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Za(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof xr){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${iW}=${encodeURIComponent(c)}`:"";return`${oW(t)}?${Yn(a).slice(1)}${l}`})}function oW({config:t}){return t.emulator?s_(t,rW):`https://${t.authDomain}/${nW}`}var My="webStorageSupport",Jy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kt,this._completeRedirectFn=Pi,this._overrideRedirectResult=fs}_openPopup(e,n,r,i){return p(this,null,function*(){var o;Pt((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield xf(e,n,r,lc(),i);return eW(e,s,Ni())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield xf(e,n,r,lc(),i);return l$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pt(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield Y$(e),r=new gc(e);return n.register("authEvent",i=>(y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(My,{type:My},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[My];s!==void 0&&n(!!s),ve(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P0()||S0()||cs()}},Tc=Jy,Xy=class{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Cn("unexpected MultiFactorSessionType")}}},e_=class t extends Xy{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t(e)}_finalizeEnroll(e,n,r){return t$(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return _$(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},_h=(()=>{class t{constructor(){}static assertion(n){return e_._fromCredential(n)}}return t.FACTOR_ID="phone",t})();var v0="@firebase/auth",y0="1.10.2";var t_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aW(t){Yt(new Be("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l_(t)},l=new bf(r,i,o,c);return M2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new Be("auth-internal",e=>{let n=ie(e.getProvider("auth").getImmediate());return(r=>new t_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(v0,y0,sW(t)),Ye(v0,y0,"esm2017")}var cW=5*60,lW=sy("authIdTokenMaxAge")||cW,_0=null,uW=t=>e=>p(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lW)return;let i=n?.token;_0!==i&&(_0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vr(t=tc()){let e=Ci(t,"auth");if(e.isInitialized())return e.getImmediate();let n=d_(t,{popupRedirectResolver:Tc,persistence:[nr,Fr,kt]}),r=sy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=uW(o.toString());g_(n,s,()=>s(n.currentUser)),p_(n,a=>s(a))}}let i=iy("auth");return i&&yc(n,`http://${i}`),n}function dW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}E2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=we("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",dW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aW("Browser");var E_=class{constructor(e,n){this._delegate=e,this.firebase=n,ts(e,new Be("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),vf(this._delegate)))}_getService(e,n=wn){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=wn){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ts(this._delegate,e)}_addOrOverwriteComponent(e){Iy(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var MW={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Q0=new Nt("app-compat","Firebase",MW);function RW(t){let e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Ye,setLogLevel:Cy,onLog:wy,apps:null,SDK_VERSION:Kt,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:Dy}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(l){delete e[l]}function i(l){if(l=l||wn,!_t(e,l))throw Q0.create("no-app",{appName:l});return e[l]}i.App=t;function o(l,u={}){let d=mf(l,u);if(_t(e,d.name))return e[d.name];let f=new t(d,n);return e[d.name]=f,f}function s(){return Object.keys(e).map(l=>e[l])}function a(l){let u=l.name,d=u.replace("-compat","");if(Yt(l)&&l.type==="PUBLIC"){let f=(h=i())=>{if(typeof h[d]!="function")throw Q0.create("invalid-app-argument",{appName:u});return h[d]()};l.serviceProps!==void 0&&Yo(f,l.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,l.multipleInstances?h:[])}}return l.type==="PUBLIC"?n[d]:null}function c(l,u){return u==="serverAuth"?null:u}return n}function J0(){let t=RW(E_);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:J0,extendNamespace:e,createSubscribe:lf,ErrorFactory:Nt,deepExtend:Yo});function e(n){Yo(t,n)}return t}var NW=J0();var Z0=new En("@firebase/app-compat"),OW="@firebase/app-compat",PW="0.3.1";function xW(t){Ye(OW,PW,t)}try{let t=ry();if(t.firebase!==void 0){Z0.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);let e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Z0.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}var bn=NW;xW();var kW="firebase",FW="11.7.1";bn.registerVersion(kW,FW,"app-compat");var X0="@firebase/database",eM="1.0.15";var bE="";function LW(t){bE=t}var A_=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ne(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var M_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var xM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new A_(e)}}catch{}return new M_},ki=xM("localStorage"),R_=xM("sessionStorage");var gs=new En("@firebase/database"),VW=function(){let t=1;return function(){return t++}}(),kM=function(t){let e=VA(t),n=new rf;n.update(e);let r=n.digest();return of.encodeByteArray(r)},Hc=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Hc.apply(null,r):typeof r=="object"?e+=Ne(r):e+=r,e+=" "}return e},Li=null,tM=!0,UW=function(t,e){_(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(gs.logLevel=Z.VERBOSE,Li=gs.log.bind(gs),e&&R_.set("logging_enabled",!0)):typeof t=="function"?Li=t:(Li=null,R_.remove("logging_enabled"))},$e=function(...t){if(tM===!0&&(tM=!1,Li===null&&R_.get("logging_enabled")===!0&&UW(!0)),Li){let e=Hc.apply(null,t);Li(e)}},$c=function(t){return function(...e){$e(t,...e)}},N_=function(...t){let e="FIREBASE INTERNAL ERROR: "+Hc(...t);gs.error(e)},rr=function(...t){let e=`FIREBASE FATAL ERROR: ${Hc(...t)}`;throw gs.error(e),new Error(e)},ot=function(...t){let e="FIREBASE WARNING: "+Hc(...t);gs.warn(e)},jW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},FM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},BW=function(t){if(yn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ys="[MIN_NAME]",Vi="[MAX_NAME]",Ts=function(t,e){if(t===e)return 0;if(t===ys||e===Vi)return-1;if(e===ys||t===Vi)return 1;{let n=nM(t),r=nM(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},HW=function(t,e){return t===e?0:t<e?-1:1},Sc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ne(e))},TE=function(t){if(typeof t!="object"||t===null)return Ne(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ne(e[r]),n+=":",n+=TE(t[e[r]]);return n+="}",n},LM=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function st(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var VM=function(t){_(!FM(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},$W=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zW(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var GW=new RegExp("^-?(0*)\\d{1,10}$"),qW=-2147483648,YW=2147483647,nM=function(t){if(GW.test(t)){let e=Number(t);if(e>=qW&&e<=YW)return e}return null},Ss=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ot("Exception was thrown by user callback.",n),e},Math.floor(0))}},KW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oc=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var O_=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,re(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ot(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var P_=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(e)}},Pc=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ih="5",UM="v",jM="s",BM="r",HM="f",$M=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WM="ls",zM="p",x_="ac",GM="websocket",qM="long_polling";var wh=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ki.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ki.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function QW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function YM(t,e,n){_(typeof e=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(e===GM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===qM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);QW(t)&&(n.ns=t.namespace);let i=[];return st(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var k_=class{constructor(){this.counters_={}}incrementCounter(e,n=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MA(this.counters_)}};var I_={},w_={};function SE(t){let e=t.toString();return I_[e]||(I_[e]=new k_),I_[e]}function ZW(t,e){let n=t.toString();return w_[n]||(w_[n]=e()),w_[n]}var F_=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ss(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var rM="start",JW="close",XW="pLPCommand",ez="pRTLPCB",KM="id",QM="pw",ZM="ser",tz="cb",nz="seg",rz="ts",iz="d",oz="dframe",JM=1870,XM=30,sz=JM-XM,az=25e3,cz=3e4,L_=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$c(e),this.stats_=SE(n),this.urlFn=c=>(this.appCheckToken&&(c[x_]=this.appCheckToken),YM(n,qM,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new F_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cz)),BW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new V_((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===rM)this.id=a,this.password=c;else if(s===JW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[rM]="t",r[ZM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[UM]=Ih,this.transportSessionId&&(r[jM]=this.transportSessionId),this.lastSessionId&&(r[WM]=this.lastSessionId),this.applicationId&&(r[zM]=this.applicationId),this.appCheckToken&&(r[x_]=this.appCheckToken),typeof location<"u"&&location.hostname&&$M.test(location.hostname)&&(r[BM]=HM);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return yn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$W()&&!WW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=ny(n),i=LM(r,sz);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(yn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[oz]="t",r[KM]=e,r[QM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ne(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},V_=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,yn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=VW(),window[XW+this.uniqueCallbackIdentifier]=e,window[ez+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){$e("frame writing exception"),a.stack&&$e(a.stack),$e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[KM]=this.myID,e[QM]=this.myPW,e[ZM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+XM+r.length<=JM;){let s=this.pendingSegs.shift();r=r+"&"+nz+i+"="+s.seg+"&"+rz+i+"="+s.ts+"&"+iz+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(az)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){yn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var lz=16384,uz=45e3,Ch=null;typeof MozWebSocket<"u"?Ch=MozWebSocket:typeof WebSocket<"u"&&(Ch=WebSocket);var Ac=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$c(this.connId),this.stats_=SE(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[UM]=Ih,!yn()&&typeof location<"u"&&location.hostname&&$M.test(location.hostname)&&(a[BM]=HM),r&&(a[jM]=r),i&&(a[WM]=i),o&&(a[x_]=o),s&&(a[zM]=s),YM(n,GM,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ki.set("previous_websocket_failure",!0);try{let i;if(yn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ih}/${bE}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Ch(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Ch!==null&&!t.forceDisallow_}static previouslyFailed(){return ki.isInMemoryStorage||ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){ki.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=qo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ne(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=LM(r,lz);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uz))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),dz=(()=>{class t{static get ALL_TRANSPORTS(){return[L_,Ac]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Ac&&Ac.isAvailable(),i=r&&!Ac.previouslyFailed();if(n.webSocketOnly&&(r||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ac];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),fz=6e4,hz=5e3,pz=10*1024,gz=100*1024,C_="t",iM="d",mz="s",oM="r",vz="e",sM="o",aM="a",cM="n",lM="p",yz="h",U_=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$c("c:"+this.id+":"),this.transportManager_=new dz(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Oc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(C_ in e){let n=e[C_];n===aM?this.upgradeIfSecondaryHealthy_():n===oM?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===sM&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Sc("t",e),r=Sc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lM,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:aM,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cM,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Sc("t",e),r=Sc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Sc(C_,e);if(iM in e){let r=e[iM];if(n===yz){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===cM){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mz?this.onConnectionShutdown_(r):n===oM?this.onReset_(r):n===vz?N_("Server Error: "+r):n===sM?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):N_("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ih!==r&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Oc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lM,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Dh=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var bh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Th=class t extends bh{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Qa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var uM=32,dM=768,J=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function K(){return new J("")}function U(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jr(t){return t.pieces_.length-t.pieceNum_}function oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new J(t.pieces_,e)}function eR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _z(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function nR(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new J(e,0)}function Oe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof J)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new J(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function it(t,e){let n=U(t),r=U(e);if(n===null)return e;if(n===r)return it(oe(t),oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function AE(t,e){if(jr(t)!==jr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function en(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jr(t)>jr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var j_=class{constructor(e,n){this.errorPrefix_=n,this.parts_=tR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Xa(this.parts_[r]);rR(this)}};function Ez(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xa(e),rR(t)}function Iz(t){let e=t.parts_.pop();t.byteLength_-=Xa(e),t.parts_.length>0&&(t.byteLength_-=1)}function rR(t){if(t.byteLength_>dM)throw new Error(t.errorPrefix_+"has a key path longer than "+dM+" bytes ("+t.byteLength_+").");if(t.parts_.length>uM)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uM+") or object contains a cycle "+xi(t))}function xi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var B_=class t extends bh{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var Mc=1e3,wz=60*5*1e3,fM=30*1e3,Cz=1.3,Dz=3e4,bz="server_kill",hM=3,ME=(()=>{class t extends Dh{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=$c("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mc,this.maxReconnectDelay_=wz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!yn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");B_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Th.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ne(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ar,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&_t(n,"w")){let i=Ii(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||LA(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fM)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=FA(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ne(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):N_("Unrecognized action received from server: "+Ne(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Dz&&(this.reconnectDelay_=Mc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Cz)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new U_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{ot(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(bz)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ot(f),l())}}})}interrupt(n){$e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){$e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Za(this.interruptReasons_)&&(this.reconnectDelay_=Mc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>TE(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new J(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){$e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hM&&(this.reconnectDelay_=fM,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){$e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hM&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";yn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+bE.replace(/\./g,"-")]=1,Qa()?n["framework.cordova"]=1:Ei()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Th.getInstance().currentlyOnline();return Za(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),j=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var _s=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new j(ys,e),i=new j(ys,n);return this.compare(r,i)!==0}minPost(){return j.MIN}};var Eh,Sh=class extends _s{static get __EMPTY_NODE(){return Eh}static set __EMPTY_NODE(e){Eh=e}compare(e,n){return Ts(e.name,n.name)}isDefinedOn(e){throw _i("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Vi,Eh)}makePost(e,n){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,Eh)}toString(){return".key"}},ms=new Sh;var ps=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Xt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ft.EMPTY_NODE,this.right=s??Ft.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),H_=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ft=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ps(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ps(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ps(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ps(this.root_,null,this.comparator_,!0,e)}};Ft.EMPTY_NODE=new H_;function Tz(t,e){return Ts(t.name,e.name)}function RE(t,e){return Ts(t,e)}var $_;function Sz(t){$_=t}var iR=function(t){return typeof t=="number"?"number:"+VM(t):"string:"+t},oR=function(t){if(t.isLeafNode()){let e=t.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_t(e,".sv"),"Priority must be a string or number.")}else _(t===$_||t.isEmpty(),"priority of unexpected type.");_(t===$_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var pM,Es=(()=>{class t{static set __childrenNodeConstructor(n){pM=n}static get __childrenNodeConstructor(){return pM}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oR(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return B(n)?this:U(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=U(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||jr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+iR(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=VM(this.value_):n+=this.value_,this.lazyHash_=kM(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),sR,aR;function Az(t){sR=t}function Mz(t){aR=t}var W_=class extends _s{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ts(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Vi,new Es("[PRIORITY-POST]",aR))}makePost(e,n){let r=sR(e);return new j(n,new Es("[PRIORITY-POST]",r))}toString(){return".priority"}},he=new W_;var Rz=Math.log(2),z_=class{constructor(e){let n=o=>parseInt(Math.log(o)/Rz,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Ah=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Xt(f,d.node,Xt.BLACK,null,null);{let h=parseInt(u/2,10)+c,g=i(c,h),m=i(h+1,l);return d=t[h],f=n?n(d):d,new Xt(f,d.node,Xt.BLACK,g,m)}},o=function(c){let l=null,u=null,d=t.length,f=function(g,m){let E=d-g,A=d;d-=g;let Ce=i(E+1,A),H=t[E],It=n?n(H):H;h(new Xt(It,H.node,m,null,Ce))},h=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let m=c.nextBitIsOne(),E=Math.pow(2,c.count-(g+1));m?f(E,Xt.BLACK):(f(E,Xt.BLACK),f(E,Xt.RED))}return u},s=new z_(t.length),a=o(s);return new Ft(r||e,a)};var D_,hs={},Is=class t{static get Default(){return _(hs&&he,"ChildrenNode.ts has not been loaded"),D_=D_||new t({".priority":hs},{".priority":he}),D_}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Ii(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,n){_(e!==ms,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(j.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Ah(r,e.getCompare()):a=hs;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Ja(this.indexes_,(i,o)=>{let s=Ii(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===hs)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(j.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Ah(a,s.getCompare())}else return hs;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new j(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Ja(this.indexes_,i=>{if(i===hs)return i;{let o=n.get(e.name);return o?i.remove(new j(e.name,o)):i}});return new t(r,this.indexSet_)}};var Rc,k=(()=>{class t{static get EMPTY_NODE(){return Rc||(Rc=new t(new Ft(RE),null,Is.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&oR(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Rc:r}}getChild(n){let r=U(n);return r===null?this:this.getImmediateChild(r).getChild(oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new j(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Rc:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=U(n);if(i===null)return r;{_(U(n)!==".priority"||jr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(oe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(he,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+iR(this.getPriority().val())+":"),this.forEachChild(he,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":kM(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new j(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new j(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new j(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,j.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Wc?-1:0}withIndex(n){if(n===ms||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ms||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(he),o=r.getIterator(he),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ms?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),G_=class extends k{constructor(){super(new Ft(RE),k.EMPTY_NODE,Is.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return k.EMPTY_NODE}isEmpty(){return!1}},Wc=new G_;Object.defineProperties(j,{MIN:{value:new j(ys,k.EMPTY_NODE)},MAX:{value:new j(Vi,Wc)}});Sh.__EMPTY_NODE=k.EMPTY_NODE;Es.__childrenNodeConstructor=k;Sz(Wc);Mz(Wc);var Nz=!0;function Ue(t,e=null){if(t===null)return k.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Es(n,Ue(e))}if(!(t instanceof Array)&&Nz){let n=[],r=!1;if(st(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ue(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new j(s,c)))}}),n.length===0)return k.EMPTY_NODE;let o=Ah(n,Tz,s=>s.name,RE);if(r){let s=Ah(n,he.getCompare());return new k(o,Ue(e),new Is({".priority":s},{".priority":he}))}else return new k(o,Ue(e),Is.Default)}else{let n=k.EMPTY_NODE;return st(t,(r,i)=>{if(_t(t,r)&&r.substring(0,1)!=="."){let o=Ue(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ue(e))}}Az(Ue);var q_=class extends _s{constructor(e){super(),this.indexPath_=e,_(!B(e)&&U(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ts(e.name,n.name):o}makePost(e,n){let r=Ue(e),i=k.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){let e=k.EMPTY_NODE.updateChild(this.indexPath_,Wc);return new j(Vi,e)}toString(){return tR(this.indexPath_,0).join("/")}};var Y_=class extends _s{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ts(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){let r=Ue(e);return new j(n,r)}toString(){return".value"}},Oz=new Y_;function cR(t){return{type:"value",snapshotNode:t}}function ws(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Lc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Pz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Uc=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){_(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Lc(n,a)):_(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ws(n,r)):s.trackChildChange(Vc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(he,(i,o)=>{n.hasChild(i)||r.trackChildChange(Lc(i,o))}),n.isLeafNode()||n.forEachChild(he,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Vc(i,o,s))}else r.trackChildChange(ws(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?k.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Mh=class t{constructor(e){this.indexedFilter_=new Uc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new j(n,r))||(r=k.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=k.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(k.EMPTY_NODE);let o=this;return n.forEachChild(he,(s,a)=>{o.matches(new j(s,a))||(i=i.updateImmediateChild(s,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var K_=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Mh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new j(n,r))||(r=k.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=k.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(k.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;_(a.numChildren()===this.limit_,"");let c=new j(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Vc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Lc(n,d));let m=a.updateImmediateChild(n,k.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ws(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Lc(l.name,l.node)),o.trackChildChange(ws(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,k.EMPTY_NODE)):e}};var Q_=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=he}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ys}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Vi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===he}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function xz(t){return t.loadsAllData()?new Uc(t.getIndex()):t.hasLimit()?new K_(t):new Mh(t)}function gM(t){let e={};if(t.isDefault())return e;let n;if(t.index_===he?n="$priority":t.index_===Oz?n="$value":t.index_===ms?n="$key":(_(t.index_ instanceof q_,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ne(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ne(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ne(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ne(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ne(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mM(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==he&&(e.i=t.index_.toString()),e}var Z_=class t extends Dh{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$c("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=gM(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Ii(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=gM(e._queryParams),r=e._path.toString(),i=new Ar;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Yn(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=qo(a.responseText)}catch{ot("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ot("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var J_=class{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Rh(){return{value:null,children:new Map}}function lR(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=U(e);t.children.has(r)||t.children.set(r,Rh());let i=t.children.get(r);e=oe(e),lR(i,e,n)}}function X_(t,e,n){t.value!==null?n(e,t.value):kz(t,(r,i)=>{let o=new J(e.toString()+"/"+r);X_(i,o,n)})}function kz(t,e){t.children.forEach((n,r)=>{e(r,n)})}var eE=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&st(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var vM=10*1e3,Fz=30*1e3,Lz=5*60*1e3,tE=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new eE(e);let r=vM+(Fz-vM)*Math.random();Oc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;st(e,(i,o)=>{o>0&&_t(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Oc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Lz))}};var Tn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Tn||{});function uR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function NE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function OE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var nE=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Tn.ACK_USER_WRITE,this.source=uR()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(e));return new t(K(),n,this.revert)}}else return _(U(this.path)===e,"operationForChild called for unrelated child."),new t(oe(this.path),this.affectedTree,this.revert)}};var Nh=class t{constructor(e,n){this.source=e,this.path=n,this.type=Tn.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new t(this.source,K()):new t(this.source,oe(this.path))}};var Cs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Tn.OVERWRITE}operationForChild(e){return B(this.path)?new t(this.source,K(),this.snap.getImmediateChild(e)):new t(this.source,oe(this.path),this.snap)}};var Oh=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Tn.MERGE}operationForChild(e){if(B(this.path)){let n=this.children.subtree(new J(e));return n.isEmpty()?null:n.value?new Cs(this.source,K(),n.value):new t(this.source,K(),n)}else return _(U(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ir=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;let n=U(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var rE=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function Vz(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Pz(s.childName,s.snapshotNode))}),Nc(t,i,"child_removed",e,r,n),Nc(t,i,"child_added",e,r,n),Nc(t,i,"child_moved",o,r,n),Nc(t,i,"child_changed",e,r,n),Nc(t,i,"value",e,r,n),i}function Nc(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>jz(t,a,c)),s.forEach(a=>{let c=Uz(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function Uz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function jz(t,e,n){if(e.childName==null||n.childName==null)throw _i("Should only compare child_ events.");let r=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function $h(t,e){return{eventCache:t,serverCache:e}}function xc(t,e,n,r){return $h(new ir(e,n,r),t.serverCache)}function dR(t,e,n,r){return $h(t.eventCache,new ir(e,n,r))}function iE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var b_,Bz=()=>(b_||(b_=new Ft(HW)),b_),at=class t{static fromObject(e){let n=new t(null);return st(e,(r,i)=>{n=n.set(new J(r),i)}),n}constructor(e,n=Bz()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(B(e))return null;{let r=U(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(oe(e),n);return o!=null?{path:Oe(new J(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{let n=U(e),r=this.children.get(n);return r!==null?r.subtree(oe(e)):new t(null)}}set(e,n){if(B(e))return new t(n,this.children);{let r=U(e),o=(this.children.get(r)||new t(null)).set(oe(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(B(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=U(e),r=this.children.get(n);if(r){let i=r.remove(oe(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(B(e))return this.value;{let n=U(e),r=this.children.get(n);return r?r.get(oe(e)):null}}setTree(e,n){if(B(e))return n;{let r=U(e),o=(this.children.get(r)||new t(null)).setTree(oe(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(K(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(B(e))return null;{let o=U(e),s=this.children.get(o);return s?s.findOnPath_(oe(e),Oe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(B(e))return this;{this.value&&r(n,this.value);let i=U(e),o=this.children.get(i);return o?o.foreachOnPath_(oe(e),Oe(n,i),r):new t(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var tn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new at(null))}};function kc(t,e,n){if(B(e))return new tn(new at(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=it(i,e);return o=o.updateChild(s,n),new tn(t.writeTree_.set(i,o))}else{let i=new at(n),o=t.writeTree_.setTree(e,i);return new tn(o)}}}function yM(t,e,n){let r=t;return st(n,(i,o)=>{r=kc(r,Oe(e,i),o)}),r}function _M(t,e){if(B(e))return tn.empty();{let n=t.writeTree_.setTree(e,new at(null));return new tn(n)}}function oE(t,e){return ji(t,e)!=null}function ji(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(it(n.path,e)):null}function EM(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(he,(r,i)=>{e.push(new j(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new j(r,i.value))}),e}function Ur(t,e){if(B(e))return t;{let n=ji(t,e);return n!=null?new tn(new at(n)):new tn(t.writeTree_.subtree(e))}}function sE(t){return t.writeTree_.isEmpty()}function Ds(t,e){return fR(K(),t.writeTree_,e)}function fR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=fR(Oe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Oe(t,".priority"),r)),n}}function PE(t,e){return mR(e,t)}function Hz(t,e,n,r,i){_(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=kc(t.visibleWrites,e,n)),t.lastWriteId=r}function $z(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Wz(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);_(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&zz(a,r.path)?i=!1:en(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Gz(t),!0;if(r.snap)t.visibleWrites=_M(t.visibleWrites,r.path);else{let a=r.children;st(a,c=>{t.visibleWrites=_M(t.visibleWrites,Oe(r.path,c))})}return!0}else return!1}function zz(t,e){if(t.snap)return en(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&en(Oe(t.path,n),e))return!0;return!1}function Gz(t){t.visibleWrites=hR(t.allWrites,qz,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qz(t){return t.visible}function hR(t,e,n){let r=tn.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)en(n,s)?(a=it(n,s),r=kc(r,a,o.snap)):en(s,n)&&(a=it(s,n),r=kc(r,K(),o.snap.getChild(a)));else if(o.children){if(en(n,s))a=it(n,s),r=yM(r,a,o.children);else if(en(s,n))if(a=it(s,n),B(a))r=yM(r,K(),o.children);else{let c=Ii(o.children,U(a));if(c){let l=c.getChild(oe(a));r=kc(r,K(),l)}}}else throw _i("WriteRecord should have .snap or .children")}}return r}function pR(t,e,n,r,i){if(!r&&!i){let o=ji(t.visibleWrites,e);if(o!=null)return o;{let s=Ur(t.visibleWrites,e);if(sE(s))return n;if(n==null&&!oE(s,K()))return null;{let a=n||k.EMPTY_NODE;return Ds(s,a)}}}else{let o=Ur(t.visibleWrites,e);if(!i&&sE(o))return n;if(!i&&n==null&&!oE(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(en(l.path,e)||en(e,l.path))},a=hR(t.allWrites,s,e),c=n||k.EMPTY_NODE;return Ds(a,c)}}}function Yz(t,e,n){let r=k.EMPTY_NODE,i=ji(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(he,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Ur(t.visibleWrites,e);return n.forEachChild(he,(s,a)=>{let c=Ds(Ur(o,new J(s)),a);r=r.updateImmediateChild(s,c)}),EM(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Ur(t.visibleWrites,e);return EM(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Kz(t,e,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Oe(e,n);if(oE(t.visibleWrites,o))return null;{let s=Ur(t.visibleWrites,o);return sE(s)?i.getChild(n):Ds(s,i.getChild(n))}}function Qz(t,e,n,r){let i=Oe(e,n),o=ji(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Ur(t.visibleWrites,i);return Ds(s,r.getNode().getImmediateChild(n))}else return null}function Zz(t,e){return ji(t.visibleWrites,e)}function Jz(t,e,n,r,i,o,s){let a,c=Ur(t.visibleWrites,e),l=ji(c,K());if(l!=null)a=l;else if(n!=null)a=Ds(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function Xz(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Ph(t,e,n,r){return pR(t.writeTree,t.treePath,e,n,r)}function xE(t,e){return Yz(t.writeTree,t.treePath,e)}function IM(t,e,n,r){return Kz(t.writeTree,t.treePath,e,n,r)}function xh(t,e){return Zz(t.writeTree,Oe(t.treePath,e))}function eG(t,e,n,r,i,o){return Jz(t.writeTree,t.treePath,e,n,r,i,o)}function kE(t,e,n){return Qz(t.writeTree,t.treePath,e,n)}function gR(t,e){return mR(Oe(t.treePath,e),t.writeTree)}function mR(t,e){return{treePath:t,writeTree:e}}var aE=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Vc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Lc(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ws(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Vc(r,e.snapshotNode,i.oldSnap));else throw _i("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var cE=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},vR=new cE,jc=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new ir(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kE(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ui(this.viewCache_),o=eG(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function tG(t){return{filter:t}}function nG(t,e){_(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rG(t,e,n,r,i){let o=new aE,s,a;if(n.type===Tn.OVERWRITE){let l=n;l.source.fromUser?s=lE(t,e,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!B(l.path),s=kh(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Tn.MERGE){let l=n;l.source.fromUser?s=oG(t,e,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=uE(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Tn.ACK_USER_WRITE){let l=n;l.revert?s=cG(t,e,l.path,r,i,o):s=sG(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Tn.LISTEN_COMPLETE)s=aG(t,e,n.path,r,o);else throw _i("Unknown operation type: "+n.type);let c=o.getChanges();return iG(e,s,c),{viewCache:s,changes:c}}function iG(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=iE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cR(iE(e)))}}function yR(t,e,n,r,i,o){let s=e.eventCache;if(xh(r,n)!=null)return e;{let a,c;if(B(n))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Ui(e),u=l instanceof k?l:k.EMPTY_NODE,d=xE(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Ph(r,Ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=U(n);if(l===".priority"){_(jr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=IM(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=oe(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=IM(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=kE(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return xc(e,a,s.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function kh(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(B(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=U(n);if(!c.isCompleteForPath(n)&&jr(n)>1)return e;let g=oe(n),E=c.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?l=u.updatePriority(c.getNode(),E):l=u.updateChild(c.getNode(),h,E,g,vR,null)}let d=dR(e,l,c.isFullyInitialized()||B(n),u.filtersNodes()),f=new jc(i,d,o);return yR(t,d,n,i,f,a)}function lE(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new jc(i,e,o);if(B(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=xc(e,l,!0,t.filter.filtersNodes());else{let d=U(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=xc(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=oe(n),h=a.getNode().getImmediateChild(d),g;if(B(f))g=r;else{let m=u.getCompleteChild(d);m!=null?eR(f)===".priority"&&m.getChild(nR(f)).isEmpty()?g=m:g=m.updateChild(f,r):g=k.EMPTY_NODE}if(h.equals(g))c=e;else{let m=t.filter.updateChild(a.getNode(),d,g,f,u,s);c=xc(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function wM(t,e){return t.eventCache.isCompleteForChild(e)}function oG(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Oe(n,c);wM(e,U(u))&&(a=lE(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Oe(n,c);wM(e,U(u))||(a=lE(t,a,u,l,i,o,s))}),a}function CM(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uE(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;B(n)?l=r:l=new at(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),g=CM(t,h,f);c=kh(t,c,new J(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=e.serverCache.getNode().getImmediateChild(d),m=CM(t,g,f);c=kh(t,c,new J(d),m,i,o,s,a)}}),c}function sG(t,e,n,r,i,o,s){if(xh(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(B(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return kh(t,e,n,c.getNode().getChild(n),i,o,a,s);if(B(n)){let l=new at(null);return c.getNode().forEachChild(ms,(u,d)=>{l=l.set(new J(u),d)}),uE(t,e,n,l,i,o,a,s)}else return e}else{let l=new at(null);return r.foreach((u,d)=>{let f=Oe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),uE(t,e,n,l,i,o,a,s)}}function aG(t,e,n,r,i){let o=e.serverCache,s=dR(e,o.getNode(),o.isFullyInitialized()||B(n),o.isFiltered());return yR(t,s,n,r,vR,i)}function cG(t,e,n,r,i,o){let s;if(xh(r,n)!=null)return e;{let a=new jc(r,e,i),c=e.eventCache.getNode(),l;if(B(n)||U(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ph(r,Ui(e));else{let d=e.serverCache.getNode();_(d instanceof k,"serverChildren would be complete if leaf node"),u=xE(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=U(n),d=kE(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,oe(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,k.EMPTY_NODE,oe(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ph(r,Ui(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||xh(r,K())!=null,xc(e,l,s,t.filter.filtersNodes())}}var dE=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Uc(r.getIndex()),o=xz(r);this.processor_=tG(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(k.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(k.EMPTY_NODE,a.getNode(),null),u=new ir(c,s.isFullyInitialized(),i.filtersNodes()),d=new ir(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=$h(d,u),this.eventGenerator_=new rE(this.query_)}get query(){return this.query_}};function lG(t){return t.viewCache_.serverCache.getNode()}function uG(t,e){let n=Ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild(U(e)).isEmpty())?n.getChild(e):null}function DM(t){return t.eventRegistrations_.length===0}function dG(t,e){t.eventRegistrations_.push(e)}function bM(t,e,n){let r=[];if(n){_(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function TM(t,e,n,r){e.type===Tn.MERGE&&e.source.queryId!==null&&(_(Ui(t.viewCache_),"We should always have a full cache before handling merges"),_(iE(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=rG(t.processor_,i,e,n,r);return nG(t.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,_R(t,o.changes,o.viewCache.eventCache.getNode(),null)}function fG(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(he,(o,s)=>{r.push(ws(o,s))}),n.isFullyInitialized()&&r.push(cR(n.getNode())),_R(t,r,n.getNode(),e)}function _R(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return Vz(t.eventGenerator_,e,n,i)}var Fh,fE=class{constructor(){this.views=new Map}};function hG(t){_(!Fh,"__referenceConstructor has already been defined"),Fh=t}function pG(){return _(Fh,"Reference.ts has not been loaded"),Fh}function gG(t){return t.views.size===0}function FE(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),TM(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(TM(s,e,n,r));return o}}function mG(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Ph(n,i?r:null),c=!1;a?c=!0:r instanceof k?(a=xE(n,r),c=!1):(a=k.EMPTY_NODE,c=!1);let l=$h(new ir(a,c,!1),new ir(r,i,!1));return new dE(e,l)}return s}function vG(t,e,n,r,i,o){let s=mG(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),dG(s,n),fG(s,n)}function yG(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Br(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(bM(l,n,r)),DM(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(bM(c,n,r)),DM(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Br(t)&&o.push(new(pG())(e._repo,e._path)),{removed:o,events:s}}function ER(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function vs(t,e){let n=null;for(let r of t.views.values())n=n||uG(r,e);return n}function IR(t,e){if(e._queryParams.loadsAllData())return Wh(t);{let r=e._queryIdentifier;return t.views.get(r)}}function wR(t,e){return IR(t,e)!=null}function Br(t){return Wh(t)!=null}function Wh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Lh;function _G(t){_(!Lh,"__referenceConstructor has already been defined"),Lh=t}function EG(){return _(Lh,"Reference.ts has not been loaded"),Lh}var IG=1,Vh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new at(null),this.pendingWriteTree_=Xz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function CR(t,e,n,r,i){return Hz(t.pendingWriteTree_,e,n,r,i),i?zc(t,new Cs(uR(),e,n)):[]}function Fi(t,e,n=!1){let r=$z(t.pendingWriteTree_,e);if(Wz(t.pendingWriteTree_,e)){let o=new at(null);return r.snap!=null?o=o.set(K(),!0):st(r.children,s=>{o=o.set(new J(s),!0)}),zc(t,new nE(r.path,o,n))}else return[]}function zh(t,e,n){return zc(t,new Cs(NE(),e,n))}function wG(t,e,n){let r=at.fromObject(n);return zc(t,new Oh(NE(),e,r))}function CG(t,e){return zc(t,new Nh(NE(),e))}function DG(t,e,n){let r=VE(t,n);if(r){let i=UE(r),o=i.path,s=i.queryId,a=it(o,e),c=new Nh(OE(s),a);return jE(t,o,c)}else return[]}function hE(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||wR(s,e))){let c=yG(s,e,n,r);gG(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Br(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=SG(f);for(let g=0;g<h.length;++g){let m=h[g],E=m.query,A=TR(t,m);t.listenProvider_.startListening(Fc(E),Uh(t,E),A.hashFn,A.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Fc(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(Gh(f));t.listenProvider_.stopListening(Fc(f),h)}))}AG(t,l)}return a}function bG(t,e,n,r){let i=VE(t,r);if(i!=null){let o=UE(i),s=o.path,a=o.queryId,c=it(s,e),l=new Cs(OE(a),c,n);return jE(t,s,l)}else return[]}function TG(t,e,n,r){let i=VE(t,r);if(i){let o=UE(i),s=o.path,a=o.queryId,c=it(s,e),l=at.fromObject(n),u=new Oh(OE(a),c,l);return jE(t,s,u)}else return[]}function SM(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=it(f,i);o=o||vs(h,g),s=s||Br(h)});let a=t.syncPointTree_.get(i);a?(s=s||Br(a),o=o||vs(a,K())):(a=new fE,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=k.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,g)=>{let m=vs(g,K());m&&(o=o.updateImmediateChild(h,m))}));let l=wR(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=Gh(e);_(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=MG();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=PE(t.pendingWriteTree_,i),d=vG(a,e,n,u,o,c);if(!l&&!s&&!r){let f=IR(a,e);d=d.concat(RG(t,e,f))}return d}function LE(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=it(s,e),l=vs(a,c);if(l)return l});return pR(i,e,o,n,!0)}function zc(t,e){return DR(e,t.syncPointTree_,null,PE(t.pendingWriteTree_,K()))}function DR(t,e,n,r){if(B(t.path))return bR(t,e,n,r);{let i=e.get(K());n==null&&i!=null&&(n=vs(i,K()));let o=[],s=U(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=gR(r,s);o=o.concat(DR(a,c,l,u))}return i&&(o=o.concat(FE(i,t,r,n))),o}}function bR(t,e,n,r){let i=e.get(K());n==null&&i!=null&&(n=vs(i,K()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=gR(r,s),u=t.operationForChild(s);u&&(o=o.concat(bR(u,a,c,l)))}),i&&(o=o.concat(FE(i,t,r,n))),o}function TR(t,e){let n=e.query,r=Uh(t,n);return{hashFn:()=>(lG(e)||k.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?DG(t,n._path,r):CG(t,n._path);{let o=zW(i,n);return hE(t,n,null,o)}}}}function Uh(t,e){let n=Gh(e);return t.queryToTagMap.get(n)}function Gh(t){return t._path.toString()+"$"+t._queryIdentifier}function VE(t,e){return t.tagToQueryMap.get(e)}function UE(t){let e=t.indexOf("$");return _(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new J(t.substr(0,e))}}function jE(t,e,n){let r=t.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=PE(t.pendingWriteTree_,e);return FE(r,n,i,null)}function SG(t){return t.fold((e,n,r)=>{if(n&&Br(n))return[Wh(n)];{let i=[];return n&&(i=ER(n)),st(r,(o,s)=>{i=i.concat(s)}),i}})}function Fc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(EG())(t._repo,t._path):t}function AG(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Gh(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function MG(){return IG++}function RG(t,e,n){let r=e._path,i=Uh(t,e),o=TR(t,n),s=t.listenProvider_.startListening(Fc(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)_(!Br(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!B(l)&&u&&Br(u))return[Wh(u).query];{let f=[];return u&&(f=f.concat(ER(u).map(h=>h.query))),st(d,(h,g)=>{f=f.concat(g)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Fc(u),Uh(t,u))}}return s}var pE=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},gE=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Oe(this.path_,e);return new t(this.syncTree_,n)}node(){return LE(this.syncTree_,this.path_)}},NG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},AM=function(t,e,n){if(!t||typeof t!="object")return t;if(_(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return PG(t[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+t)}},PG=function(t,e,n){t.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},xG=function(t,e,n,r){return BE(e,new gE(n,t),r)},SR=function(t,e,n){return BE(t,new pE(e),n)};function BE(t,e,n){let r=t.getPriority().val(),i=AM(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=AM(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Es(a,Ue(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Es(i))),s.forEachChild(he,(a,c)=>{let l=BE(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Bc=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function HE(t,e){let n=e instanceof J?e:new J(e),r=t,i=U(n);for(;i!==null;){let o=Ii(r.node.children,i)||{children:{},childCount:0};r=new Bc(i,r,o),n=oe(n),i=U(n)}return r}function As(t){return t.node.value}function AR(t,e){t.node.value=e,mE(t)}function MR(t){return t.node.childCount>0}function kG(t){return As(t)===void 0&&!MR(t)}function qh(t,e){st(t.node.children,(n,r)=>{e(new Bc(n,t,r))})}function RR(t,e,n,r){n&&!r&&e(t),qh(t,i=>{RR(i,e,!0,r)}),n&&r&&e(t)}function FG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gc(t){return new J(t.parent===null?t.name:Gc(t.parent)+"/"+t.name)}function mE(t){t.parent!==null&&LG(t.parent,t.name,t)}function LG(t,e,n){let r=kG(n),i=_t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,mE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,mE(t))}var VG=/[\[\].#$\/\u0000-\u001F\u007F]/,UG=/[\[\].#$\u0000-\u001F\u007F]/,T_=10*1024*1024,NR=function(t){return typeof t=="string"&&t.length!==0&&!VG.test(t)},OR=function(t){return typeof t=="string"&&t.length!==0&&!UG.test(t)},jG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OR(t)};var PR=function(t,e,n,r){r&&e===void 0||$E(uf(t,"value"),e,n)},$E=function(t,e,n){let r=n instanceof J?new j_(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xi(r));if(typeof e=="function")throw new Error(t+"contains a function "+xi(r)+" with contents = "+e.toString());if(FM(e))throw new Error(t+"contains "+e.toString()+" "+xi(r));if(typeof e=="string"&&e.length>T_/3&&Xa(e)>T_)throw new Error(t+"contains a string greater than "+T_+" utf8 bytes "+xi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(st(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!NR(s)))throw new Error(t+" contains an invalid key ("+s+") "+xi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ez(r,s),$E(t,a,r),Iz(r)}),i&&o)throw new Error(t+' contains ".value" child '+xi(r)+" in addition to actual children.")}};var xR=function(t,e,n,r){if(!(r&&n===void 0)&&!OR(n))throw new Error(uf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},BG=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xR(t,e,n,r)},kR=function(t,e){if(U(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},HG=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!NR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jG(n))throw new Error(uf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var vE=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function WE(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!AE(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function FR(t,e,n){WE(t,n),LR(t,r=>AE(r,e))}function or(t,e,n){WE(t,n),LR(t,r=>en(r,e)||en(e,r))}function LR(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?($G(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $G(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Li&&$e("event: "+n.toString()),Ss(r)}}}var WG="repo_interrupt",zG=25,yE=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rh(),this.transactionQueueTree_=new Bc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function GG(t,e,n){if(t.stats_=SE(t.repoInfo_),t.forceRestClient_||KW())t.server_=new Z_(t.repoInfo_,(r,i,o,s)=>{MM(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RM(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ME(t.repoInfo_,e,(r,i,o,s)=>{MM(t,r,i,o,s)},r=>{RM(t,r)},r=>{qG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ZW(t.repoInfo_,()=>new tE(t.stats_,t.server_)),t.infoData_=new J_,t.infoSyncTree_=new Vh({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=zh(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),GE(t,"connected",!1),t.serverSyncTree_=new Vh({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);or(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function VR(t){let n=t.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zE(t){return NG({timestamp:VR(t)})}function MM(t,e,n,r,i){t.dataUpdateCount++;let o=new J(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Ja(n,l=>Ue(l));s=TG(t.serverSyncTree_,o,c,i)}else{let c=Ue(n);s=bG(t.serverSyncTree_,o,c,i)}else if(r){let c=Ja(n,l=>Ue(l));s=wG(t.serverSyncTree_,o,c)}else{let c=Ue(n);s=zh(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Yh(t,o)),or(t.eventQueue_,a,s)}function RM(t,e){GE(t,"connected",e),e===!1&&KG(t)}function qG(t,e){st(e,(n,r)=>{GE(t,n,r)})}function GE(t,e,n){let r=new J("/.info/"+e),i=Ue(n);t.infoData_.updateSnapshot(r,i);let o=zh(t.infoSyncTree_,r,i);or(t.eventQueue_,r,o)}function UR(t){return t.nextWriteId_++}function YG(t,e,n,r,i){qE(t,"set",{path:e.toString(),value:n,priority:r});let o=zE(t),s=Ue(n,r),a=LE(t.serverSyncTree_,e),c=SR(s,a,o),l=UR(t),u=CR(t.serverSyncTree_,e,c,l,!0);WE(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||ot("set at "+e+" failed: "+f);let m=Fi(t.serverSyncTree_,l,!g);or(t.eventQueue_,e,m),JG(t,i,f,h)});let d=WR(t,e);Yh(t,d),or(t.eventQueue_,d,[])}function KG(t){qE(t,"onDisconnectEvents");let e=zE(t),n=Rh();X_(t.onDisconnect_,K(),(i,o)=>{let s=xG(i,o,t.serverSyncTree_,e);lR(n,i,s)});let r=[];X_(n,K(),(i,o)=>{r=r.concat(zh(t.serverSyncTree_,i,o));let s=WR(t,i);Yh(t,s)}),t.onDisconnect_=Rh(),or(t.eventQueue_,K(),r)}function QG(t,e,n){let r;U(e._path)===".info"?r=SM(t.infoSyncTree_,e,n):r=SM(t.serverSyncTree_,e,n),FR(t.eventQueue_,e._path,r)}function NM(t,e,n){let r;U(e._path)===".info"?r=hE(t.infoSyncTree_,e,n):r=hE(t.serverSyncTree_,e,n),FR(t.eventQueue_,e._path,r)}function ZG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WG)}function qE(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function JG(t,e,n,r){e&&Ss(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function jR(t,e,n){return LE(t.serverSyncTree_,e,n)||k.EMPTY_NODE}function YE(t,e=t.transactionQueueTree_){if(e||Kh(t,e),As(e)){let n=HR(t,e);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&XG(t,Gc(e),n)}else MR(e)&&qh(e,n=>{YE(t,n)})}function XG(t,e,n){let r=n.map(l=>l.currentWriteId),i=jR(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=it(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{qE(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Fi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Kh(t,HE(t.transactionQueueTree_,e)),YE(t,t.transactionQueueTree_),or(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ss(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ot("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Yh(t,e)}},s)}function Yh(t,e){let n=BR(t,e),r=Gc(n),i=HR(t,n);return eq(t,i,r),r}function eq(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=it(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Fi(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=zG)u=!0,d="maxretry",i=i.concat(Fi(t.serverSyncTree_,c.currentWriteId,!0));else{let f=jR(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){$E("transaction failed: Data returned ",h,c.path);let g=Ue(h);typeof h=="object"&&h!=null&&_t(h,".priority")||(g=g.updatePriority(f.getPriority()));let E=c.currentWriteId,A=zE(t),Ce=SR(g,f,A);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Ce,c.currentWriteId=UR(t),s.splice(s.indexOf(E),1),i=i.concat(CR(t.serverSyncTree_,c.path,Ce,c.currentWriteId,c.applyLocally)),i=i.concat(Fi(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(Fi(t.serverSyncTree_,c.currentWriteId,!0))}or(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Kh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ss(r[a]);YE(t,t.transactionQueueTree_)}function BR(t,e){let n,r=t.transactionQueueTree_;for(n=U(e);n!==null&&As(r)===void 0;)r=HE(r,n),e=oe(e),n=U(e);return r}function HR(t,e){let n=[];return $R(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $R(t,e,n){let r=As(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);qh(e,i=>{$R(t,i,n)})}function Kh(t,e){let n=As(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,AR(e,n.length>0?n:void 0)}qh(e,r=>{Kh(t,r)})}function WR(t,e){let n=Gc(BR(t,e)),r=HE(t.transactionQueueTree_,e);return FG(r,i=>{S_(t,i)}),S_(t,r),RR(r,i=>{S_(t,i)}),n}function S_(t,e){let n=As(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Fi(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?AR(e,void 0):n.length=o+1,or(t.eventQueue_,Gc(e),i);for(let s=0;s<r.length;s++)Ss(r[s])}}function tq(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function nq(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ot(`Invalid query segment '${n}' in query '${t}'`)}return e}var OM=function(t,e){let n=rq(t),r=n.namespace;n.domain==="firebase.com"&&rr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&rr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jW();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wh(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new J(n.pathString)}},rq=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=tq(t.substring(u,d)));let f=nq(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var PM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iq=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=PM.charAt(n%64),n=Math.floor(n/64);_(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=PM.charAt(e[i]);return _(s.length===20,"nextPushId: Length should be 20."),s}}();var jh=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}},Bh=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var _E=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var EE=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return B(this._path)?null:eR(this._path)}get ref(){return new sr(this._repo,this._path)}get _queryIdentifier(){let e=mM(this._queryParams),n=TE(e);return n==="{}"?"default":n}get _queryObject(){return mM(this._queryParams)}isEqual(e){if(e=O(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=AE(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+_z(this._path)}};var sr=class t extends EE{constructor(e,n){super(e,n,new Q_,!1)}get parent(){let e=nR(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Hh=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new J(e),r=bs(this.ref,e);return new t(this._node.getChild(n),r,he)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,bs(this.ref,r),he)))}hasChild(e){let n=new J(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function zR(t,e){return t=O(t),t._checkNotDeleted("ref"),e!==void 0?bs(t._root,e):t._root}function bs(t,e){return t=O(t),U(t._path)===null?BG("child","path",e,!1):xR("child","path",e,!1),new sr(t._repo,Oe(t._path,e))}function GR(t,e){t=O(t),kR("push",t._path),PR("push",e,t._path,!0);let n=VR(t._repo),r=iq(n),i=bs(t,r),o=bs(t,r),s;return e!=null?s=KE(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function KE(t,e){t=O(t),kR("set",t._path),PR("set",e,t._path,!1);let n=new Ar;return YG(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}var IE=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new jh("value",this,new Hh(e.snapshotNode,new sr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Bh(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},wE=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Bh(this,e,n):null}createEvent(e,n){_(e.childName!=null,"Child events should have a childName.");let r=bs(new sr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new jh(e.type,this,new Hh(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function oq(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{NM(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new _E(n,o||void 0),a=e==="value"?new IE(s):new wE(e,s);return QG(t._repo,t,a),()=>NM(t._repo,t,a)}function qR(t,e,n,r){return oq(t,"value",e,n,r)}hG(sr);_G(sr);var sq="FIREBASE_DATABASE_EMULATOR_HOST",CE={},aq=!1;function cq(t,e,n,r){let i=e.lastIndexOf(":"),o=e.substring(0,i),s=Zo(o);t.repoInfo_=new wh(e,s,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function lq(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||rr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=OM(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[sq]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=OM(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Pc(Pc.OWNER):new P_(t.name,t.options,e);HG("Invalid Firebase Database URL",s),B(s.path)||rr("Database URL must point to the root of a Firebase Database (not including a child path).");let d=dq(a,t,u,new O_(t,n));return new DE(d,t)}function uq(t,e){let n=CE[e];(!n||n[t.key]!==t)&&rr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ZG(t),delete n[t.key]}function dq(t,e,n,r){let i=CE[e.name];i||(i={},CE[e.name]=i);let o=i[t.toURLString()];return o&&rr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new yE(t,aq,n,r),i[t.toURLString()]=o,o}var DE=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sr(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rr("Cannot call "+e+" on a deleted database.")}};function YR(t=tc(),e){let n=Ci(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=RA("database");r&&fq(n,...r)}return n}function fq(t,e,n,r={}){t=O(t),t._checkNotDeleted("useEmulator");let i=`${e}:${n}`,o=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&_n(r,o.repoInfo_.emulatorOptions))return;rr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&rr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Pc(Pc.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:NA(r.mockUserToken,t.app.options.projectId);s=new Pc(a)}Zo(e)&&df(e),cq(o,i,r,s)}function hq(t){LW(Kt),Yt(new Be("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return lq(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ye(X0,eM,t),Ye(X0,eM,"esm2017")}ME.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ME.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hq();function Bi(){return window}var pq=2e3;function gq(t,e,n){return p(this,null,function*(){var r;let{BuildInfo:i}=Bi();Pt(e.sessionId,"AuthEvent did not contain a session ID");let o=yield Eq(e.sessionId),s={};return cs()?s.ibi=i.packageName:as()?s.apn=i.packageName:ve(t,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,xf(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)})}function mq(t){return p(this,null,function*(){let{BuildInfo:e}=Bi(),n={};cs()?n.iosBundleId=e.packageName:as()?n.androidPackageName=e.packageName:ve(t,"operation-not-supported-in-this-environment"),yield __(t,n)})}function vq(t){let{cordova:e}=Bi();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,O0()?"_blank":"_system","location=yes"),n(i)})})}function yq(t,e,n){return p(this,null,function*(){let{cordova:r}=Bi(),i=()=>{};try{yield new Promise((o,s)=>{let a=null;function c(){var d;o();let f=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof f=="function"&&f(),typeof n?.close=="function"&&n.close()}function l(){a||(a=window.setTimeout(()=>{s(we(t,"redirect-cancelled-by-user"))},pq))}function u(){document?.visibilityState==="visible"&&l()}e.addPassiveListener(c),document.addEventListener("resume",l,!1),as()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})}function _q(t){var e,n,r,i,o,s,a,c,l,u;let d=Bi();y(typeof((e=d?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),y(typeof((n=d?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),y(typeof((o=(i=(r=d?.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y(typeof((c=(a=(s=d?.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y(typeof((u=(l=d?.cordova)===null||l===void 0?void 0:l.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Eq(t){return p(this,null,function*(){let e=Iq(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")})}function Iq(t){if(Pt(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);let e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var wq=20,QE=class extends gc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return p(this,null,function*(){yield this.initPromise})}};function Cq(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Tq(),postBody:null,tenantId:t.tenantId,error:we(t,"no-auth-event")}}function Dq(t,e){return ZE()._set(JE(t),e)}function KR(t){return p(this,null,function*(){let e=yield ZE()._get(JE(t));return e&&(yield ZE()._remove(JE(t))),e})}function bq(t,e){var n,r;let i=Aq(e);if(i.includes("/__/auth/callback")){let o=Qh(i),s=o.firebaseError?Sq(decodeURIComponent(o.firebaseError)):null,a=(r=(n=s?.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],c=a?we(a):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Tq(){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<wq;n++){let r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function ZE(){return He(Fr)}function JE(t){return Dn("authEvent",t.config.apiKey,t.name)}function Sq(t){try{return JSON.parse(t)}catch{return null}}function Aq(t){let e=Qh(t),n=e.link?decodeURIComponent(e.link):void 0,r=Qh(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Qh(i).link||i||r||n||t}function Qh(t){if(!t?.includes("?"))return{};let[e,...n]=t.split("?");return Mr(n.join("?"))}var Mq=500,XE=class{constructor(){this._redirectPersistence=kt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pi,this._overrideRedirectResult=fs}_initialize(e){return p(this,null,function*(){let n=e._key(),r=this.eventManagers.get(n);return r||(r=new QE(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r})}_openPopup(e){ve(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,r,i){return p(this,null,function*(){_q(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),z0(),yield this._originValidation(e);let s=Cq(e,r,i);yield Dq(e,s);let a=yield gq(e,s,n),c=yield vq(a);return yq(e,o,c)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mq(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){let{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Bi(),s=setTimeout(()=>p(null,null,function*(){yield KR(e),n.onEvent(QR())}),Mq),a=u=>p(null,null,function*(){clearTimeout(s);let d=yield KR(e),f=null;d&&u?.url&&(f=bq(d,u.url)),n.onEvent(f||QR())});typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);let c=i,l=`${o.packageName.toLowerCase()}://`;Bi().handleOpenURL=u=>p(null,null,function*(){if(u.toLowerCase().startsWith(l)&&a({url:u}),typeof c=="function")try{c(u)}catch(d){console.error(d)}})}},ZR=XE;function QR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function JR(t,e){ie(t)._logFramework(e)}var Nq="@firebase/auth-compat",Oq="0.5.22";var Pq=1e3;function Kc(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function xq(){return Kc()==="http:"||Kc()==="https:"}function tN(t=me()){return!!((Kc()==="file:"||Kc()==="ionic:"||Kc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function kq(){return Ei()||ay()}function Fq(){return cf()&&document?.documentMode===11}function Lq(t=me()){return/Edge\/\d+/.test(t)}function Vq(t=me()){return Fq()||Lq(t)}function nN(){try{let t=self.localStorage,e=Ni();if(t)return t.setItem(e,"1"),t.removeItem(e),Vq()?Ko():!0}catch{return oI()&&Ko()}return!1}function oI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function eI(){return(xq()||af()||tN())&&!kq()&&nN()&&!oI()}function rN(){return tN()&&typeof document<"u"}function Uq(){return p(this,null,function*(){return rN()?new Promise(t=>{let e=setTimeout(()=>{t(!1)},Pq);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function jq(){return typeof window<"u"?window:null}var Et={LOCAL:"local",NONE:"none",SESSION:"session"},qc=y,iN="persistence";function Bq(t,e){if(qc(Object.values(Et).includes(e),t,"invalid-persistence-type"),Ei()){qc(e!==Et.SESSION,t,"unsupported-persistence-type");return}if(ay()){qc(e===Et.NONE,t,"unsupported-persistence-type");return}if(oI()){qc(e===Et.NONE||e===Et.LOCAL&&Ko(),t,"unsupported-persistence-type");return}qc(e===Et.NONE||nN(),t,"unsupported-persistence-type")}function tI(t){return p(this,null,function*(){yield t._initializationPromise;let e=oN(),n=Dn(iN,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())})}function Hq(t,e){let n=oN();if(!n)return[];let r=Dn(iN,t,e);switch(n.getItem(r)){case Et.NONE:return[Xn];case Et.LOCAL:return[nr,kt];case Et.SESSION:return[kt];default:return[]}}function oN(){var t;try{return((t=jq())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}var $q=y,Sn=class{constructor(){this.browserResolver=He(Tc),this.cordovaResolver=He(ZR),this.underlyingResolver=null,this._redirectPersistence=kt,this._completeRedirectFn=Pi,this._overrideRedirectResult=fs}_initialize(e){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,r,i){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)})}_openRedirect(e,n,r,i){return p(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return rN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $q(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return p(this,null,function*(){if(this.underlyingResolver)return;let e=yield Uq();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function sN(t){return t.unwrap()}function Wq(t){return t.wrapped()}function zq(t){return aN(t)}function Gq(t,e){var n;let r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let i=e;i.resolver=new rI(t,ih(t,e))}else if(r){let i=aN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function aN(t){let{_tokenResponse:e}=t instanceof Fe?t.customData:t;if(!e)return null;if(!(t instanceof Fe)&&"temporaryProof"in e&&"phoneNumber"in e)return Lr.credentialFromResult(t);let n=e.providerId;if(!n||n===kr.PASSWORD)return null;let r;switch(n){case kr.GOOGLE:r=Ec;break;case kr.FACEBOOK:r=_c;break;case kr.GITHUB:r=Ic;break;case kr.TWITTER:r=wc;break;default:let{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:c}=e;return!o&&!s&&!i&&!a?null:a?n.startsWith("saml.")?Si._create(n,a):xt._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:o}):new Ti(n).credential({idToken:i,accessToken:o,rawNonce:c})}return t instanceof Fe?r.credentialFromError(t):r.credentialFromResult(t)}function ct(t,e){return e.catch(n=>{throw n instanceof Fe&&Gq(t,n),n}).then(n=>{let r=n.operationType,i=n.user;return{operationType:r,credential:zq(n),additionalUserInfo:nh(n),user:Ms.getOrCreate(i)}})}function nI(t,e){return p(this,null,function*(){let n=yield e;return{verificationId:n.verificationId,confirm:r=>ct(t,n.confirm(r))}})}var rI=class{constructor(e,n){this.resolver=n,this.auth=Wq(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ct(sN(this.auth),this.resolver.resolveSignIn(e))}};var Ms=class t{constructor(e){this._delegate=e,this.multiFactor=oh(e)}static getOrCreate(e){return t.USER_MAP.has(e)||t.USER_MAP.set(e,new t(e)),t.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return p(this,null,function*(){return ct(this.auth,Cc(this._delegate,e))})}linkWithPhoneNumber(e,n){return p(this,null,function*(){return nI(this.auth,ch(this._delegate,e,n))})}linkWithPopup(e){return p(this,null,function*(){return ct(this.auth,ph(this._delegate,e,Sn))})}linkWithRedirect(e){return p(this,null,function*(){return yield tI(ie(this.auth)),vh(this._delegate,e,Sn)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return p(this,null,function*(){return ct(this.auth,Dc(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return nI(this.auth,lh(this._delegate,e,n))}reauthenticateWithPopup(e){return ct(this.auth,hh(this._delegate,e,Sn))}reauthenticateWithRedirect(e){return p(this,null,function*(){return yield tI(ie(this.auth)),mh(this._delegate,e,Sn)})}sendEmailVerification(e){return Zf(this._delegate,e)}unlink(e){return p(this,null,function*(){return yield Uf(this._delegate,e),this})}updateEmail(e){return eh(this._delegate,e)}updatePassword(e){return th(this._delegate,e)}updatePhoneNumber(e){return dh(this._delegate,e)}updateProfile(e){return Xf(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Jf(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ms.USER_MAP=new WeakMap;var Yc=y,XR=(()=>{class t{constructor(n,r){if(this.app=n,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:i}=n.options;Yc(i,"invalid-api-key",{appName:n.name}),Yc(i,"invalid-api-key",{appName:n.name});let o=typeof window<"u"?Sn:void 0;this._delegate=r.initialize({options:{persistence:qq(i,n.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(kf),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ms.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(n){this._delegate.languageCode=n}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(n){this._delegate.tenantId=n}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(n,r){yc(this._delegate,n,r)}applyActionCode(n){return zf(this._delegate,n)}checkActionCode(n){return bc(this._delegate,n)}confirmPasswordReset(n,r){return Wf(this._delegate,n,r)}createUserWithEmailAndPassword(n,r){return p(this,null,function*(){return ct(this._delegate,us(this._delegate,n,r))})}fetchProvidersForEmail(n){return this.fetchSignInMethodsForEmail(n)}fetchSignInMethodsForEmail(n){return Qf(this._delegate,n)}isSignInWithEmailLink(n){return Yf(this._delegate,n)}getRedirectResult(){return p(this,null,function*(){Yc(eI(),this._delegate,"operation-not-supported-in-this-environment");let n=yield yh(this._delegate,Sn);return n?ct(this._delegate,Promise.resolve(n)):{credential:null,user:null}})}addFrameworkForLogging(n){JR(this._delegate,n)}onAuthStateChanged(n,r,i){let{next:o,error:s,complete:a}=eN(n,r,i);return this._delegate.onAuthStateChanged(o,s,a)}onIdTokenChanged(n,r,i){let{next:o,error:s,complete:a}=eN(n,r,i);return this._delegate.onIdTokenChanged(o,s,a)}sendSignInLinkToEmail(n,r){return qf(this._delegate,n,r)}sendPasswordResetEmail(n,r){return $f(this._delegate,n,r||void 0)}setPersistence(n){return p(this,null,function*(){Bq(this._delegate,n);let r;switch(n){case Et.SESSION:r=kt;break;case Et.LOCAL:r=(yield He(nr)._isAvailable())?nr:Fr;break;case Et.NONE:r=Xn;break;default:return ve("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)})}signInAndRetrieveDataWithCredential(n){return this.signInWithCredential(n)}signInAnonymously(){return ct(this._delegate,Vf(this._delegate))}signInWithCredential(n){return ct(this._delegate,Ri(this._delegate,n))}signInWithCustomToken(n){return ct(this._delegate,Bf(this._delegate,n))}signInWithEmailAndPassword(n,r){return ct(this._delegate,ds(this._delegate,n,r))}signInWithEmailLink(n,r){return ct(this._delegate,Kf(this._delegate,n,r))}signInWithPhoneNumber(n,r){return nI(this._delegate,ah(this._delegate,n,r))}signInWithPopup(n){return p(this,null,function*(){return Yc(eI(),this._delegate,"operation-not-supported-in-this-environment"),ct(this._delegate,fh(this._delegate,n,Sn))})}signInWithRedirect(n){return p(this,null,function*(){return Yc(eI(),this._delegate,"operation-not-supported-in-this-environment"),yield tI(this._delegate),gh(this._delegate,n,Sn)})}updateCurrentUser(n){return this._delegate.updateCurrentUser(n)}verifyPasswordResetCode(n){return Gf(this._delegate,n)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Et,t})();function eN(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);let i=r;return{next:s=>i(s&&Ms.getOrCreate(s)),error:e,complete:n}}function qq(t,e){let n=Hq(t,e);if(typeof self<"u"&&!n.includes(nr)&&n.push(nr),typeof window<"u")for(let r of[Fr,kt])n.includes(r)||n.push(r);return n.includes(Xn)||n.push(Xn),n}var Qc=class{static credential(e,n){return Lr.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Lr(sN(bn.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}};Qc.PHONE_SIGN_IN_METHOD=Lr.PHONE_SIGN_IN_METHOD;Qc.PROVIDER_ID=Lr.PROVIDER_ID;var Yq=y,iI=class{constructor(e,n,r=bn.app()){var i;Yq((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new os(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var Kq="auth-compat";function Qq(t){t.INTERNAL.registerComponent(new Be(Kq,e=>{let n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new XR(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:er.EMAIL_SIGNIN,PASSWORD_RESET:er.PASSWORD_RESET,RECOVER_EMAIL:er.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:er.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:er.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:er.VERIFY_EMAIL}},EmailAuthProvider:ls,FacebookAuthProvider:_c,GithubAuthProvider:Ic,GoogleAuthProvider:Ec,OAuthProvider:Ti,SAMLAuthProvider:is,PhoneAuthProvider:Qc,PhoneMultiFactorGenerator:_h,RecaptchaVerifier:iI,TwitterAuthProvider:wc,Auth:XR,AuthCredential:Qt,Error:Fe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Nq,Oq)}Qq(bn);var Zq={apiKey:"AIzaSyCDtOwsoKre5oqjIoJsmBYzoxV7LR60qSw",authDomain:"dnd-chat-a8837.firebaseapp.com",projectId:"dnd-chat-a8837",storageBucket:"dnd-chat-a8837.firebasestorage.app",messagingSenderId:"864563449838",appId:"1:864563449838:web:7209ce2fc10397c6bd08ff",measurementId:"G-Y1WEV8SC08",databaseURL:"https://dnd-chat-a8837-default-rtdb.europe-west1.firebasedatabase.app"},sI=bn.initializeApp(Zq),qJ=bn.auth(),cN=YR(sI);var Zh=class t{auth=Vr(sI);constructor(){}register(e,n){return us(this.auth,e,n).then(r=>r.user).catch(r=>{let i=r.code,o=r.message;throw console.error("Error during registration:",i,o),r})}login(e,n){return ds(this.auth,e,n).then(r=>r.user).catch(r=>{let i=r.code,o=r.message;throw console.error("Error during login:",i,o),r})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function Xq(t,e){if(t&1&&(te(0,"div",17),tt(1),ae()),t&2){let n=Gb();Ve(),di(" ",n.error," ")}}function e3(t,e){t&1&&(te(0,"div",18),tt(1," Please enter a valid email "),ae())}function t3(t,e){t&1&&(te(0,"div",18),tt(1," Password must be at least 6 characters long "),ae())}var Jh=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.router=r;this.loginForm=this.fb.group({email:["",[qn.required,qn.email]],password:["",[qn.required,qn.minLength(6)]]})}loginForm;error="";loading=!1;onSubmit(){if(this.error="",this.loading=!0,this.loginForm.valid){let{email:e,password:n}=this.loginForm.value;this.authService.login(e,n).then(()=>{this.loading=!1,this.router.navigate(["/chat"])}).catch(r=>{this.loading=!1,this.error=r.message})}}static \u0275fac=function(n){return new(n||t)(V(tf),V(Zh),V(Tr))};static \u0275cmp=pn({type:t,selectors:[["app-signin"]],decls:26,vars:6,consts:[[1,"flex","min-h-full","flex-col","justify-center","px-4","py-12","sm:px-6","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-md"],[1,"rounded-lg","border","border-gray-200","bg-white","px-4","py-8","shadow-lg","transition-all","duration-300","hover:shadow-xl","sm:px-10"],[1,"flex","flex-col","items-center"],["src","https://tailwindcss.com/plus-assets/img/logos/mark.svg?color=indigo&shade=600","alt","D&D Chat",1,"h-12","w-auto"],[1,"text-md","mt-6","text-center","font-bold","tracking-tight","text-gray-900","md:text-lg"],[1,"mt-8"],["class","mb-4 text-center text-base text-red-600 md:text-lg",4,"ngIf"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-900","md:text-base","lg:text-lg"],[1,"mt-2"],["type","email","name","email","id","email","formControlName","email","autocomplete","email","placeholder","Enter your email",1,"block","w-full","rounded-md","border","border-gray-300","bg-white","px-3","py-2","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6","md:py-3","md:text-lg","lg:py-4"],["class","mt-1 text-sm text-red-600 md:text-base",4,"ngIf"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm","font-medium","text-gray-900"],["type","password","name","password","id","password","formControlName","password","autocomplete","current-password","placeholder","Enter your password",1,"block","w-full","rounded-md","border","border-gray-300","bg-white","px-3","py-2","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6","md:py-3","md:text-lg","lg:py-4"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-indigo-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","transition-colors","duration-200","hover:bg-indigo-500","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600","disabled:bg-indigo-300","md:py-3","md:text-base","lg:py-4","lg:text-lg",3,"disabled"],[1,"mb-4","text-center","text-base","text-red-600","md:text-lg"],[1,"mt-1","text-sm","text-red-600","md:text-base"]],template:function(n,r){if(n&1&&(te(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),St(4,"img",4),te(5,"h2",5),tt(6," Sign in to your account "),ae()(),te(7,"div",6),ci(8,Xq,2,1,"div",7),te(9,"form",8),_r("ngSubmit",function(){return r.onSubmit()}),te(10,"div")(11,"label",9),tt(12,"Email address"),ae(),te(13,"div",10),St(14,"input",11),ae(),ci(15,e3,2,0,"div",12),ae(),te(16,"div")(17,"div",13)(18,"label",14),tt(19,"Password"),ae()(),te(20,"div",10),St(21,"input",15),ae(),ci(22,t3,2,0,"div",12),ae(),te(23,"div")(24,"button",16),tt(25),ae()()()()()()()),n&2){let i,o;Ve(8),et("ngIf",r.error),Ve(),et("formGroup",r.loginForm),Ve(6),et("ngIf",((i=r.loginForm.get("email"))==null?null:i.invalid)&&((i=r.loginForm.get("email"))==null?null:i.touched)),Ve(7),et("ngIf",((o=r.loginForm.get("password"))==null?null:o.invalid)&&((o=r.loginForm.get("password"))==null?null:o.touched)),Ve(2),et("disabled",r.loginForm.invalid||r.loading),Ve(),di(" ",r.loading?"Loading...":"Sign in"," ")}},dependencies:[Ir,Km,nf,ef,Go,Qd,Zd,qa,Ya,DA],encapsulation:2})};var n3=(t,e)=>({"self-end bg-blue-100":t,"bg-gray-100":e}),Xh=class t{message;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pn({type:t,selectors:[["app-message"]],inputs:{message:"message"},decls:9,vars:10,consts:[[1,"message-container","mb-4","rounded-lg","p-3",3,"ngClass"],[1,"mb-1","flex","items-center","justify-between"],[1,"font-semibold"],[1,"text-xs","text-gray-500"],[1,"message-content"]],template:function(n,r){n&1&&(te(0,"div",0)(1,"div",1)(2,"span",2),tt(3),ae(),te(4,"span",3),tt(5),Zb(6,"date"),ae()(),te(7,"p",4),tt(8),ae()()),n&2&&(et("ngClass",Kb(7,n3,(r.message==null?null:r.message.user_id)===1,(r.message==null?null:r.message.user_id)!==1)),Ve(3),di("User ",r.message==null?null:r.message.user_id,""),Ve(2),Hu(Jb(6,4,r.message==null?null:r.message.created_at,"short")),Ve(3),Hu(r.message==null?null:r.message.content))},dependencies:[Ir,Ym,Qm],encapsulation:2})};var ep=class t{messagesRef;unsubscribeMessages=null;messagesSubject=new Te([]);messages$=this.messagesSubject.asObservable();constructor(){this.messagesRef=zR(cN,"messages")}subscribeToMessages(){this.unsubscribeMessages||(this.unsubscribeMessages=qR(this.messagesRef,e=>{let n=e.val(),r=[];n&&Object.keys(n).forEach(i=>{let o=n[i];r.push({id:parseInt(i),content:o.content,user_id:o.user_id,created_at:new Date(o.created_at)})}),this.messagesSubject.next(r)}))}unsubscribeFromMessages(){this.unsubscribeMessages&&(this.unsubscribeMessages(),this.unsubscribeMessages=null)}sendMessage(e,n){let r=GR(this.messagesRef),i={content:e,user_id:n,created_at:new Date().toISOString()};return KE(r,i).then(()=>{console.log("Message sent successfully!")}).catch(o=>{throw console.error("Error sending message:",o),o})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function i3(t,e){if(t&1&&(te(0,"section"),St(1,"app-message",7),ae()),t&2){let n=e.$implicit;Ve(),et("message",n)}}var tp=class t{constructor(e,n){this.fb=e;this.chatService=n;this.messageForm=this.fb.group({content:["",qn.required]})}logout=new pe;messages=[];messageForm;currentUserId=0;messageSubscription=null;ngOnInit(){this.chatService.subscribeToMessages(),this.messageSubscription=this.chatService.messages$.subscribe(r=>{this.messages=r});let n=Vr().currentUser;n&&(this.currentUserId=this.hashStringToNumber(n.uid))}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.chatService.unsubscribeFromMessages()}hashStringToNumber(e){let n=0;for(let r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return Math.abs(n)}sendMessage(){if(this.messageForm.valid){let e=this.messageForm.value.content;this.chatService.sendMessage(e,this.currentUserId).then(()=>{this.messageForm.reset()}).catch(n=>{console.error("Error sending message:",n)})}}static \u0275fac=function(n){return new(n||t)(V(tf),V(ep))};static \u0275cmp=pn({type:t,selectors:[["app-chat"]],outputs:{logout:"logout"},decls:8,vars:3,consts:[[1,"flex","h-full","flex-col","bg-white"],[1,"flex-1","overflow-auto","p-4"],[4,"ngFor","ngForOf"],[1,"border-t","p-4"],[1,"flex",3,"ngSubmit","formGroup"],["type","text","formControlName","content","placeholder","Type a message...",1,"flex-1","rounded-l","border","p-2","focus:outline-none"],["type","submit",1,"rounded-r","bg-blue-500","px-4","py-2","text-white","hover:bg-blue-600",3,"disabled"],[3,"message"]],template:function(n,r){n&1&&(te(0,"div",0)(1,"div",1),ci(2,i3,2,1,"section",2),ae(),te(3,"div",3)(4,"form",4),_r("ngSubmit",function(){return r.sendMessage()}),St(5,"input",5),te(6,"button",6),tt(7," Send "),ae()()()()),n&2&&(Ve(2),et("ngForOf",r.messages),Ve(2),et("formGroup",r.messageForm),Ve(2),et("disabled",!r.messageForm.valid))},dependencies:[Ir,td,nf,ef,Go,Qd,Zd,qa,Ya,Xh],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;height:100vh;overflow:hidden}.sidebar[_ngcontent-%COMP%]{width:300px;background-color:#2c3e50;color:#fff;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{padding:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.sidebar-header[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.25rem;cursor:pointer}.sidebar-header[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:#3498db}.create-room-form[_ngcontent-%COMP%]{padding:1rem;background-color:#0003}.create-room-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:.5rem;border:1px solid #34495e;border-radius:4px;background-color:#ffffffe6}.create-room-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.create-room-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.5rem}.create-room-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:.5rem}.room-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid rgba(255,255,255,.1);cursor:pointer}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.room-list[_ngcontent-%COMP%]   .room-item.active[_ngcontent-%COMP%]{background-color:#3498db}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]   .room-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.25rem}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]   .room-description[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8;margin-bottom:.25rem}.room-list[_ngcontent-%COMP%]   .room-item[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{font-size:.75rem;opacity:.6}.user-actions[_ngcontent-%COMP%]{padding:1rem;background-color:#0003}.user-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{width:100%;padding:.5rem;background-color:transparent;color:#fff;border:1px solid rgba(255,255,255,.3);border-radius:4px;cursor:pointer}.user-actions[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.chat-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:#ecf0f1}.no-room-selected[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem;color:#7f8c8d}.no-room-selected[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.chat-room[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px #0000001a}.chat-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.chat-header[_ngcontent-%COMP%]   .btn-leave[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer}.chat-header[_ngcontent-%COMP%]   .btn-leave[_ngcontent-%COMP%]:hover{background-color:#c0392b}.message-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;background-color:#fff}.message-container[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;color:#95a5a6}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.75rem;background-color:#ecf0f1;border-radius:8px;max-width:70%}.message-list[_ngcontent-%COMP%]   .message-item.own-message[_ngcontent-%COMP%]{margin-left:auto;background-color:#3498db;color:#fff}.message-list[_ngcontent-%COMP%]   .message-item.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#ffffffb3}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.25rem;font-size:.8rem}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{font-weight:700}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#95a5a6}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-break:break-word}.message-input[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;border-top:1px solid #ecf0f1}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid #ddd;border-radius:4px 0 0 4px;font-size:1rem}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background-color:#3498db;color:#fff;border:none;border-radius:0 4px 4px 0;cursor:pointer}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem;color:#95a5a6}.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#95a5a6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.3);color:#fff;border-radius:4px;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}"]})};var np=class t{constructor(e){this.router=e}canActivate=(e,n)=>{let r=Vr();return new Promise(i=>{rh(r,o=>{o?i(!0):(this.router.navigate(["/signin"]),i(!1))})})};static \u0275fac=function(n){return new(n||t)(S(Tr))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var lN=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:Jh},{path:"chat",component:tp,canActivate:[np]}];var uN={providers:[tT({eventCoalescing:!0}),jv(lN),rS(nS()),pv(gv())]};var rp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=pn({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"mx-auto","flex","h-screen","w-full","flex-col","items-center","justify-center","bg-gray-50","2xl:container"]],template:function(n,r){n&1&&(te(0,"div",0),St(1,"router-outlet"),ae())},dependencies:[Va],encapsulation:2})};sv(rp,uN).catch(t=>console.error(t));
